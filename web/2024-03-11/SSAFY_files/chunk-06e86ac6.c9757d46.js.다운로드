(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06e86ac6"],{"14b5":function(t,e,s){"use strict";s("19b9")},"19b9":function(t,e,s){},"21a6":function(t,e,s){(function(s){var i,a,n;(function(s,o){a=[],i=o,n="function"===typeof i?i.apply(e,a):i,void 0===n||(t.exports=n)})(0,(function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function i(t,e,s){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){l(i.response,e,s)},i.onerror=function(){console.error("could not download file")},i.send()}function a(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function n(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(i){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof s&&s.global===s?s:void 0,r=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(t,e,s){var r=o.URL||o.webkitURL,l=document.createElement("a");e=e||t.name||"download",l.download=e,l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?n(l):a(l.href)?i(t,e,s):n(l,l.target="_blank")):(l.href=r.createObjectURL(t),setTimeout((function(){r.revokeObjectURL(l.href)}),4e4),setTimeout((function(){n(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,s,o){if(s=s||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,o),s);else if(a(t))i(t,s,o);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout((function(){n(r)}))}}:function(t,e,s,a){if(a=a||open("","_blank"),a&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof t)return i(t,e,s);var n="application/octet-stream"===t.type,l=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||n&&l||r)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var t=d.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=t:location=t,a=null},d.readAsDataURL(t)}else{var u=o.URL||o.webkitURL,h=u.createObjectURL(t);a?a.location=h:location.href=h,a=null,setTimeout((function(){u.revokeObjectURL(h)}),4e4)}});o.saveAs=l.saveAs=l,t.exports=l}))}).call(this,s("c8ba"))},2680:function(t,e,s){"use strict";s("98b9")},"3e3f":function(t,e,s){"use strict";var i=s("21a6"),a=s.n(i),n=s("c1df"),o=s.n(n);e["a"]={saveAs:function(t){var e=t.headers["content-disposition"],s=t.headers["content-type"];return!!(e&&e.includes("attachment;filename=")&&s)&&(e=e.replace("attachment;filename=",""),e=decodeURIComponent(e),a.a.saveAs(t.data,e),!0)},saveExcel:function(t,e){var s=e+"_"+o()().format("YYYYMMDDHHmmss")+".xlsx";s=decodeURIComponent(s);var i=new Blob([t.data],{type:"application/ms-excel"});return a.a.saveAs(i,s),!0}}},4702:function(t,e,s){},9536:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popup_wrapper ssafy"},[s("div",{staticClass:"gnb_laboratory"},[s("h1",{staticClass:"ssafylogo"},[t._v("로고")]),t.isAccessible?s("span",{staticClass:"tit"},[s("label",{staticClass:"line_w"},[t._v("|")]),t._v("\n      "+t._s(t.problem.title)+"\n    ")]):t._e(),s("div",{staticClass:"right"},[s("span",{staticClass:"user_ico"}),s("span",[t._v(t._s(t.userName))])])]),t.isAccessible&&t.isPracticeRoomReady?s("div",{attrs:{id:"container_laboratory"}},[s("div",{attrs:{id:"contents_laboratory"}},[s("div",{staticClass:"tit_box"},[s("div",{staticClass:"float_left"},[s("a",{staticClass:"sub_menu"}),s("div",{staticClass:"sub_option"},[s("ul",[s("li",[s("a",{on:{click:t.openPracticeInfoModal}},[t._v("실습정보")])]),t.isAnswer&&!t.isTeacher?s("li",[s("a",{on:{click:t.openPracticeSubmitModal}},[t._v("\n                  "+t._s(t.isBeforeSubmitDatetime?"실습 제출하기":"실습 제출현황")+"\n                ")])]):t._e(),s("li",[s("a",{on:{click:t.exitPracticeRoom}},[t._v("나가기")])])])]),s("span",{staticClass:"tit min_w125"},[t._v(t._s(t.specTitleList.join(", ")))]),s("div",{staticClass:"btn_group ml_20"},[s("div",{staticClass:"btn_clone",class:{active:t.showGitlabCloneLayer},on:{mouseleave:t.closeGitlabCloneLayer,mouseover:t.openGitlabCloneLayer}},[t._m(0),s("div",{staticClass:"layer_box"},[s("p",[t._v("나의 실습 Git URL 복사!!")]),s("div",{staticClass:"form_group"},[s("span",[t._v(t._s(t.myRepositoryUrl))]),s("a",{staticClass:"btn btnfn",on:{click:function(e){return t.copyToClipboard(t.myRepositoryUrl)}}},[t._v("복사")])])])])])]),s("div",{staticClass:"float_right"},[t.delayShow?s("div",[s("a",{staticClass:"btn btnfn primary2",on:{click:t.startRunning}},[s("i",{staticClass:"xi-play mr_5"}),t._v("실행")])]):t._e()])]),s("div",{staticClass:"iframe_editor",class:{active:t.showWideEditor}},[s("a",{staticClass:"wFull",class:{active:t.showWideEditor},on:{click:t.toggleWideEditor}}),s("div",{attrs:{id:"gitlabOutLine"}},[s("iframe",{attrs:{id:"gitlabFrame",src:t.ideUrl,height:"100%",loading:"eager",width:"100%"}})])]),s("div",{staticClass:"runOutput_wrap",class:{none:t.showWideEditor}},[t.statusInterval?s("div",{staticStyle:{"text-align":"center",height:"30px"}},[t.isBuildFailed?t._e():s("div",[s("div",{staticClass:"progress",staticStyle:{margin:"0px"}},[s("div",{staticClass:"progressbar",staticStyle:{height:"30px"},style:{width:t.progress?t.progress+"%":"0%"},attrs:{id:"myBar"}})]),s("ul",{staticClass:"clear step_progress",staticStyle:{height:"30px","margin-top":"-30px","line-height":"30px"}},[1===t.step?s("li",{staticClass:"step_txt blink_txt",staticStyle:{width:"35%"}},[t._v("빌드 중")]):t._e(),2===t.step?s("li",{staticClass:"step_txt blink_txt",staticStyle:{width:"50%"}},[t._v("빌드 완료")]):t._e(),3===t.step?s("li",{staticClass:"step_txt blink_txt",staticStyle:{width:"85%"}},[t._v("서버 할당 중")]):t._e(),4===t.step?s("li",{staticClass:"step_txt blink_txt",staticStyle:{width:"100%"}},[t._v("서버 실행 중")]):t._e()])]),t.isBuildFailed?s("div",{staticClass:"fc_fail",staticStyle:{height:"30px","line-height":"30px","background-color":"#c4c4c4bf"}},[t._v("\n            "+t._s(t.errorMessage)+"\n          ")]):t._e()]):t._e(),this.checkHasConsole()&&t.isCompileFailed?s("div",{staticStyle:{"text-align":"center",height:"30px"}},[s("div",{staticClass:"fc_fail",staticStyle:{height:"30px","line-height":"30px","background-color":"#c4c4c4bf"}},[t._v("\n            "+t._s(t.errorMessage)+"\n          ")])]):t._e(),s("div",{staticClass:"run",class:{active:t.showWideRun||!t.hasPreview}},[t.hasPreview?s("a",{staticClass:"hFull",class:{active:t.showWideRun},on:{click:t.toggleWideRun}}):t._e(),s("div",{staticClass:"address_wrap"},[s("a",{staticClass:"reset",style:{"margin-left":t.statusInterval?"0px":"17px"},on:{click:t.reloadPreview}}),s("span",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputUrl,expression:"inputUrl"}],attrs:{type:"text"},domProps:{value:t.inputUrl},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.reloadPreview(e)},input:function(e){e.target.composing||(t.inputUrl=e.target.value)}}})]),s("a",{staticClass:"pop",attrs:{href:t.isImageReady?t.previewUrl:"#",target:t.isImageReady?"_blank":"",title:"새창열기"}})]),s("div",{staticClass:"run_iframeWrap",style:{height:t.runIframeWrapHeight}},[t.isImageReady&&!this.checkHasConsole()||t.isImageReady&&this.checkHasConsole()&&!t.hasError?s("iframe",{attrs:{id:"previewFrame",src:t.previewUrl,height:"100%",width:"100%"}}):t._e(),s("vuescroll",{attrs:{ops:t.ops}},[t.hasPreview||t.isImageReady||"JAVA"===t.problemType&&"PYTHON"===t.problemType&&"DB"===t.problemType?t.isImageReady&&t.hasError&&("JAVA"===t.problemType||"PYTHON"===t.problemType||"DB"===t.problemType)?s("div",{staticClass:"result"},[t._v(t._s(t.logContent))]):t._e():s("div",{staticClass:"result"},[t._v(t._s(t.logContent))])])],1)]),t.hasPreview?s("div",{staticClass:"output",class:{none:t.showWideRun},style:{height:t.outputHeight}},[s("vuescroll",{attrs:{ops:t.ops}},[s("div",{staticClass:"result"},[t._v(t._s(t.logContent))])]),s("a",{staticClass:"btn_grayfull",on:{click:t.getServerLog}},[t._v(t._s(t.hasPreview?"더보기":"다시 실행"))]),s("div",{staticClass:"output_txt"},[t._v("OUTPUT")])],1):t._e()])])]):t.isAccessible?t.isPracticeRoomReady?t._e():s("div",{staticClass:"container_laboratory"},[s("div",{staticClass:"error_box"},[s("strong",[t._v("\n        "+t._s(t.statusStr)+"\n      ")]),s("p",[t._v("\n        "+t._s(t.statusStrSub)+"\n      ")])])]):s("div",{staticClass:"container_laboratory"},[t._m(1)]),s("practice-info-modal",{attrs:{problem:t.problem,show:t.showPracticeInfoModal},on:{"update:show":function(e){t.showPracticeInfoModal=e}}}),s("practice-submit-modal",{attrs:{answer:t.answer,"course-id":t.courseId,"practice-id":t.practiceId,show:t.showPracticeSubmitModal},on:{"update:show":function(e){t.showPracticeSubmitModal=e},"submit-answer":t.submitAnswer}})],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"ssafy btn hei_25p"},[s("i",{staticClass:"ico ico_gitlab"}),t._v("\n                My GitLab\n              ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"error_box"},[s("strong",[t._v("\n        이용에 불편을 드려서\n        "),s("span",{staticClass:"error"},[t._v("죄송합니다.")])]),s("p",[t._v("\n        요청하신 페이지에\n        "),s("span",{staticClass:"error"},[t._v("접근 권한이 없습니다")]),t._v("\n        .\n      ")]),s("p",[t._v("\n        관리자에게 문의하세요\n      ")])])}],n=s("77a0"),o=s.n(n),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"modal"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],staticClass:"modal_dim ssafy"},[s("div",{staticClass:"modal_wrap"},[s("div",{staticClass:"modal_containerWrap"},[s("vuescroll",{attrs:{ops:t.ops}},[s("div",{staticClass:"modal_header"},[s("span",{staticClass:"modal_tit"},[t._v("실습정보")]),s("a",{staticClass:"btnclose",attrs:{title:"팝업닫기"}},[s("i",{staticClass:"xi-close",on:{click:t.closeModal}})])]),s("div",{staticClass:"modal_content",staticStyle:{"overflow-y":"unset"}},[s("div",{staticClass:"modal_summaryBox"},[s("span",{staticClass:"ico"},[t._v("! 아이콘박스")]),s("span",{staticClass:"txt red"},[t._v("\n                  모든 실습 컨텐츠는 저작권의 보호를 받는 바 외부 유출 시 법적 책임을 물을 수 있습니다.\n                ")])]),s("div",{staticClass:"paragraph"},[s("span",{staticClass:"tit"},[t._v("목표")]),s("div",{staticClass:"ql-snow target"},[s("div",{staticClass:"ql-editor edit_box",domProps:{innerHTML:t._s(t.problem.goal)}})])]),s("div",{staticClass:"paragraph"},[s("p",{staticClass:"tit"},[t._v("문제")]),s("div",{staticClass:"ql-snow"},[s("div",{staticClass:"ql-editor edit_box",domProps:{innerHTML:t._s(t.problem.description)}})])]),s("div",{staticClass:"paragraph"},[s("p",{staticClass:"tit"},[t._v("요구사항")]),s("div",{staticClass:"ql-snow"},[s("div",{staticClass:"ql-editor edit_box",domProps:{innerHTML:t._s(t.problem.requirement)}})])]),s("div",{staticClass:"paragraph"},[s("p",{staticClass:"tit"},[t._v("주의사항")]),s("p",[t._v(t._s(t.problem.precaution))])]),s("dl",{staticClass:"attach_wrap type02"},[s("dt",[t._v("\n                  첨부파일\n                  "),s("p",{staticClass:"info"},[t._v("\n                    총\n                    "),s("strong",[t._v(t._s(t.problem.attachFiles?t.problem.attachFiles.length:0))]),t._v("\n                    개\n                    "),s("span",[t._v(t._s(t._f("fileSize")(t.totalFileSize))+" / 50MB")])])]),s("dd",[s("label",{staticClass:"checkbox mr_10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.fileCheckAll,expression:"fileCheckAll"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.fileCheckAll)?t._i(t.fileCheckAll,null)>-1:t.fileCheckAll},on:{change:[function(e){var s=t.fileCheckAll,i=e.target,a=!!i.checked;if(Array.isArray(s)){var n=null,o=t._i(s,n);i.checked?o<0&&(t.fileCheckAll=s.concat([n])):o>-1&&(t.fileCheckAll=s.slice(0,o).concat(s.slice(o+1)))}else t.fileCheckAll=a},t.changeFileCheckAll]}}),s("i"),t._v("\n                    전체\n                  ")]),s("a",{staticClass:"btn btnot",on:{click:t.downloadFile}},[t._v("다운로드")]),s("div",{staticClass:"attach_list"},[s("ul",t._l(t.problem.attachFiles,(function(e){return s("li",{key:e.fileId},[s("label",{staticClass:"checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"f.checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{change:[function(s){var i=e.checked,a=s.target,n=!!a.checked;if(Array.isArray(i)){var o=null,r=t._i(i,o);a.checked?r<0&&t.$set(e,"checked",i.concat([o])):r>-1&&t.$set(e,"checked",i.slice(0,r).concat(i.slice(r+1)))}else t.$set(e,"checked",n)},function(e){return t.changeFileCheck()}]}}),s("i"),t._v("\n                          "+t._s(e.fileName)+"\n                          "),s("span",[t._v("("+t._s(t._f("fileSize")(e.fileSize))+")")])])])})),0)])])])])])],1)])])])},l=[],c=s("3e3f");function d(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function u(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?d(Object(s),!0).forEach((function(e){h(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):d(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function h(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var p={name:"PracticeInfoModal",components:{vuescroll:o.a},props:{show:{type:Boolean,default:!1},problem:{type:Object,default:function(){}}},data:function(){return{fileCheckAll:!1,ops:{vuescroll:{sizeStrategy:"percent",detectResize:!0},bar:{background:"#c0c0c0",opacity:"0.8"},scrollPanel:{scrollingX:!1}}}},computed:{showModal:{get:function(){return this.show},set:function(t){this.$emit("update:show",t)}},totalFileSize:function(){return this.problem.attachFiles?this.problem.attachFiles.reduce((function(t,e){return t+e.fileSize}),0):0}},methods:{init:function(){this.problem.attachFiles=this.problem.attachFiles.map((function(t){return u(u({},t),{},{checked:!1})}))},closeModal:function(){this.showModal=!1},changeFileCheckAll:function(){var t=this;this.problem.attachFiles.forEach((function(e){return e.checked=t.fileCheckAll}))},changeFileCheck:function(){var t=this.problem.attachFiles.find((function(t){return!1===t.checked}));this.fileCheckAll=!t},downloadFile:function(){var t=this;if(0!==this.problem.attachFiles.length){var e=this.problem.attachFiles.filter((function(t){return t.checked}));0!==e.length?this.problem.attachFiles.forEach((function(e){e.checked&&t.axios.get("/file/download/"+e.downloadType+"/"+e.fileId,{responseType:"blob"}).then((function(e){c["a"].saveAs(e)||t.$ssafyModal.showInfo("저장 실패.")}))})):this.$ssafyModal.showInfo("다운로드 할 파일을 선택하세요.")}}},watch:{show:function(t){t&&this.init()}}},m=p,v=(s("2680"),s("2877")),f=Object(v["a"])(m,r,l,!1,null,"66974ccc",null),b=f.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"modal"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],staticClass:"modal_dim ssafy"},[s("div",{staticClass:"modal_wrap"},[s("div",{staticClass:"modal_containerWrap"},[s("div",{staticClass:"modal_header"},[s("span",{staticClass:"modal_tit"},[t._v("실습제출")]),s("a",{staticClass:"btnclose",attrs:{title:"팝업닫기"},on:{click:t.closeModal}},[s("i",{staticClass:"xi-close"})])]),s("div",{staticClass:"modal_content"},[s("div",{staticClass:"modal_summaryBox"},[s("span",{staticClass:"txt"},[s("label",{staticClass:"black"},[t._v("제출 기한 : ")]),t._v("\n                        "+t._s(t._f("moment")(t.answer.practice?t.answer.practice.submitDatetime:"","YYYY.MM.DD HH:mm:ss"))+"\n                    ")]),s("span",{staticClass:"border"},[t._v("|")]),t.hasSubmitted?s("span",{staticClass:"txt"},[s("label",{staticClass:"black"},[t._v("제출 일시  : ")]),t._v("\n                        "+t._s(t._f("moment")(t.answer.submitDatetime,"YYYY.MM.DD HH:mm:ss"))+"\n                    ")]):s("span",{staticClass:"txt"},[s("label",{staticClass:"black"},[t._v("제출 일시  : ")]),t._v("\n                        미제출\n                    ")])]),s("div",{staticClass:"paragraph"},[s("p",{staticClass:"tit"},[t._v("요구사항")]),s("div",{staticClass:"ql-snow"},[s("div",{staticClass:"ql-editor edit_box",domProps:{innerHTML:t._s(t.answer.problem?t.answer.problem.requirement:"")}})])]),s("div",{staticClass:"paragraph infor"},[s("span",{staticClass:"ico_inforRed"},[t._v("infor아이콘")]),t.isBeforeSubmitDatetime?s("span",{staticClass:"red"},[t._v("\n                            제출하기 전 실습 요구 사항을 모두 완료 했는지, 변경 된 코드는 모두 Commit 했는지 다시 한 번 확인해 주세요."),s("br"),t._v("\n제출하기 버튼 선택 시 현재 Commit된 코드 상태로 최종 제출되며, 제출 된 코드를 기준으로 평가가 진행됩니다.\n                        ")]):s("span",{staticClass:"red"},[t._v("\n                            본 실습은 제출이 마감된 실습입니다.\n                        ")])]),s("div",{staticClass:"modal_blockBtn"},[t.isBeforeSubmitDatetime?s("a",{staticClass:"btn_primary",on:{click:t.submit}},[t._v("\n                "+t._s(t.hasSubmitted?"다시 제출하기":"실습 제출하기")+"\n              ")]):t._e()])])])])])])},g=[],y=s("c1df"),C=s.n(y),_={name:"PracticeSubmitModal",props:{show:{type:Boolean,default:!1},courseId:{type:String,default:""},practiceId:{type:String,default:""},answer:{type:Object,default:function(){}}},computed:{showModal:{get:function(){return this.show},set:function(t){this.$emit("update:show",t)}},hasSubmitted:function(){return this.answer.submitDatetime},isBeforeSubmitDatetime:function(){return!!this.answer.practice&&C()().isBefore(this.answer.practice.submitDatetime)}},methods:{submit:function(){var t=this;this.$ssafyModal.showOkCancel("제출 하시겠습니까?<br/> 제출 시점까지 Commit 된 내역이 반영됩니다").confirm((function(){t.axios.put("courses/".concat(t.courseId,"/practices/").concat(t.practiceId,"/answers/").concat(t.answer.id,"/submission")).then((function(e){e.data&&(t.$emit("submit-answer",e.data.submitDatetime),t.$ssafyModal.showOk("제출이 완료 되었습니다").confirm((function(){t.closeModal()})))}))}))},closeModal:function(){this.showModal=!1}}},I=_,k=(s("14b5"),Object(v["a"])(I,w,g,!1,null,"17ca246d",null)),x=k.exports,S=s("15c6"),P=s("2ef0"),R=s.n(P),E={name:"PracticeRoom",components:{vuescroll:o.a,PracticeInfoModal:b,PracticeSubmitModal:x},data:function(){return{ops:{vuescroll:{sizeStrategy:"percent",detectResize:!0},bar:{background:"#c0c0c0",opacity:"0.8"},scrollPanel:{scrollingX:!1}},id:"",problemId:"",type:"",courseId:"",practiceId:"",statusCd:"",problem:{},answer:{},specTitleList:[],hasClickRunBtn:!1,logContent:"",hasError:!0,showWideEditor:!1,showWideRun:!1,showPracticeInfoModal:!1,showPracticeSubmitModal:!1,showGitlabCloneLayer:!1,idePrefix:"/-/ide/project",gitHost:"http://10.240.229.116:10800/gitlab",previewUrl:"",inputUrl:"",isPracticeRoomReady:!1,delayShow:!1,isImageReady:!1,isBuildFailed:!1,isCompileFailed:!1,errorMessage:"",progress:85,revision:"master",statusInterval:null,hideInterval:null,envInterval:null,isImageExecuted:!1,isAccessible:!1,isTeacher:!1,step:3,problemType:""}},computed:{userName:function(){return this.$store.state.user?this.$store.state.user.name:""},ideUrl:function(){return this.isProblem?this.problem&&this.problem.basePjtUrl?this.gitHost+this.idePrefix+this.problem.basePjtUrl.replace(this.gitHost,""):"":this.isAnswer&&this.answer&&this.answer.repositoryUrl?this.gitHost+this.idePrefix+this.answer.repositoryUrl.replace(this.gitHost,""):""},isProblem:function(){return"problem"===this.type},isAnswer:function(){return"answer"===this.type},hasPreview:function(){return this.problem&&(this.problem.feSpecId||this.problem.fwSpecId)},apiPrefix:function(){return this.isProblem?"problems/":this.isAnswer?"answers/":""},runIframeWrapHeight:function(){return this.hasPreview?"calc(100% - 65px)":this.isImageReady?"calc(100% - 30px)":"calc(100% - 65px)"},outputHeight:function(){return this.statusInterval?this.hasPreview?"calc(50% - 82px)":"calc(100% - 82px)":this.hasPreview?"calc(50% - 52px)":"calc(100% - 52px)"},statusStr:function(){return"W"===this.statusCd?"실습실 생성 대기중 입니다...":"R"===this.statusCd?"실습실 생성중 입니다...":"E"===this.statusCd?"실습실 생성에 실패했습니다":"D"===this.statusCd?"실습실 생성이 완료되었습니다":"실습실 생성 대기중 입니다..."},statusStrSub:function(){return"W"===this.statusCd||"R"===this.statusCd?"최대 5분까지 소요 될 수 있습니다.":"E"===this.statusCd?"관리자에게 문의 바랍니다.":"D"===this.statusCd?"곧 실습실 화면으로 진입합니다.":"최대 5분까지 소요 될 수 있습니다."},isBeforeSubmitDatetime:function(){return!!this.isProblem||(this.isAnswer?C()().isBefore(this.answer.practice.submitDatetime):void 0)},myRepositoryUrl:function(){return this.isProblem?this.problem.basePjtUrl:this.isAnswer?this.answer.repositoryUrl:""}},methods:{load:function(){-1!=this.$route.path.indexOf("problem")?(this.type="problem",this.id=this.$route.params.problemId):(this.type="answer",this.courseId=this.$route.params.courseId,this.practiceId=this.$route.params.practiceId,this.id=this.$route.params.answerId),this.getInfo()},getInfo:function(){this.getGitlabGHost(),this.isProblem?this.getProblemInfo():this.isAnswer&&this.getAnswerInfo()},getGitlabGHost:function(){var t=this;this.axios.get("envs/gitlab?for=practice").then((function(e){e.data&&(t.gitHost=e.data)}))},getProblemInfo:function(){var t=this;S["a"].getProblem(this.id).then((function(e){e.data&&(t.problem=e.data,t.problemType=e.data.problemType,t.problem.feSpec&&t.specTitleList.push(t.problem.feSpec.title),t.problem.fwSpec?t.specTitleList.push(t.problem.fwSpec.title):t.problem.beSpec&&t.specTitleList.push(t.problem.beSpec.title),t.problem.dbSpec&&t.specTitleList.push(t.problem.dbSpec.title),t.checkIsAccessible(),t.isAccessible&&t.createEnv())}))},getAnswerInfo:function(){var t=this;this.axios.get("courses/".concat(this.courseId,"/practices/").concat(this.practiceId,"/answers/").concat(this.id)).then((function(e){e.data&&(t.answer=e.data,t.problem=e.data.problem,t.problemType=e.data.problem.problemType,t.problem.feSpec&&t.specTitleList.push(t.problem.feSpec.title),t.problem.fwSpec?t.specTitleList.push(t.problem.fwSpec.title):t.problem.beSpec&&t.specTitleList.push(t.problem.beSpec.title),t.problem.dbSpec&&t.specTitleList.push(t.problem.dbSpec.title),t.checkIsAccessible(),t.isAccessible&&t.createEnv())}))},createEnv:function(){var t=this;this.isProblem?this.problem.ciUrl?(this.isPracticeRoomReady=!0,setTimeout((function(){t.delayShow=!0}),4e3)):(this.setTaskQueueStatusCd(this.problem.taskQueueItemList),this.statusCd&&"E"!==this.statusCd&&"D"!==this.statusCd?this.envInterval=window.setInterval(this.checkProblemEnv,3e3):this.axios.post(this.apiPrefix+this.id+"/envs").then((function(e){e.data&&(t.envInterval=window.setInterval(t.checkProblemEnv,3e3))}))):this.isAnswer&&(this.answer.ciUrl&&this.answer.repositoryUrl?(this.isPracticeRoomReady=!0,setTimeout((function(){t.delayShow=!0}),4e3)):(this.setTaskQueueStatusCd(this.answer.taskQueueItemList),this.statusCd&&"E"!==this.statusCd&&"D"!==this.statusCd?this.envInterval=window.setInterval(this.checkAnswerEnv,3e3):this.axios.post(this.apiPrefix+this.id+"/envs").then((function(e){e.data&&(t.envInterval=window.setInterval(t.checkAnswerEnv,3e3))}))))},checkProblemEnv:function(){var t=this;S["a"].getProblem(this.id).then((function(e){e.data&&(t.problem=e.data,t.problem.ciUrl?(t.isPracticeRoomReady=!0,setTimeout((function(){t.delayShow=!0}),4e3),window.clearInterval(t.envInterval)):(t.setTaskQueueStatusCd(t.problem.taskQueueItemList),"E"===t.statusCd&&window.clearInterval(t.envInterval)))})),S["a"].getProblem(this.id).then((function(e){e.data&&(t.problem=e.data,t.problem.ciUrl?(t.isPracticeRoomReady=!0,setTimeout((function(){t.delayShow=!0}),4e3),window.clearInterval(t.envInterval)):(t.setTaskQueueStatusCd(t.problem.taskQueueItemList),"E"===t.statusCd&&window.clearInterval(t.envInterval)))}))},checkAnswerEnv:function(){var t=this;this.axios.get("courses/".concat(this.courseId,"/practices/").concat(this.practiceId,"/answers/").concat(this.id)).then((function(e){e.data&&(t.answer=e.data,t.problem=e.data.problem,t.answer.ciUrl&&t.answer.repositoryUrl?(t.isPracticeRoomReady=!0,setTimeout((function(){t.delayShow=!0}),4e3),window.clearInterval(t.envInterval)):(t.setTaskQueueStatusCd(t.answer.taskQueueItemList),"E"===t.statusCd&&window.clearInterval(t.envInterval)))}))},getStatus:function(){var t=this,e={};this.isTeacher&&(e={params:{for:"admin",userId:this.answer.user.userId}}),this.axios.get(this.apiPrefix+this.id+"/envs/build",e).then((function(e){if(e.data)if(e.data.revision&&(t.revision=e.data.revision),e.data.building)t.isImageReady=!1,t.isBuildFailed=!1,t.errorMessage="",t.progress=35,t.isImageExecuted=!1,t.step=1,e.data.consoleOutputText&&(t.logContent=e.data.consoleOutputText);else switch(e.data.result){case"NOT_BUILT":t.isImageReady=!1,t.isBuildFailed=!0,t.errorMessage="빌드 내역이 없습니다",t.progress=0,t.isImageExecuted=!1,t.step=0;break;case"SUCCESS":t.isImageReady=!1,t.isBuildFailed=!1,t.errorMessage="",3!==t.step&&(t.progress=50,t.step=2),t.isImageExecuted?t.getDeploymentsStatus():t.executeImage();break;default:t.isImageReady=!1,t.isBuildFailed=!0,t.errorMessage="빌드 에러 ("+e.data.result+")",t.progress=0,t.isImageExecuted=!1,t.step=0,e.data.consoleOutputText&&(t.logContent=e.data.consoleOutputText);break}})).catch((function(e){window.clearInterval(t.statusInterval),t.statusInterval=null}))},getDeploymentsStatus:function(){var t=this;this.axios.get(this.apiPrefix+this.id+"/envs/status").then((function(e){e.data&&("Running"===e.data.message?(setTimeout((function(){t.isImageReady=!0}),1500),t.progress=100,t.step=4,window.clearInterval(t.statusInterval),t.statusInterval=null,setTimeout(t.getServerLog,1e3)):(t.isImageReady=!1,t.progress=85,t.step=3,t.getServerLog()))})).catch((function(e){t.checkHasConsole()&&(t.delayShow=!0),window.clearInterval(t.statusInterval),t.statusInterval=null}))},getServerLog:function(){var t=this;this.isImageExecuted&&(this.hasPreview||this.checkHasConsole())&&this.axios.get(this.apiPrefix+this.id+"/envs/log").then((function(e){e.data&&(t.hasError=e.data.hasError,t.logContent=e.data.log,t.checkHasConsole()&&(t.delayShow=!0,t.hasError?(t.inputUrl="",t.isCompileFailed=!0,t.errorMessage="컴파일 에러"):(t.isCompileFailed=!1,t.errorMessage="",t.inputUrl=t.previewUrl)))}))},checkHasConsole:function(){return"JAVA"===this.problemType||"PYTHON"===this.problemType||"DB"===this.problemType||"JS"===this.problemType},checkIsAccessible:function(){this.isProblem?this.$store.state.user.roles.find((function(t){return"ROLE_PROFESSOR"===t.authority||"ROLE_SYSADMIN"===t.authority}))&&(this.isAccessible=!0):this.isAnswer&&this.answer&&(this.$store.state.user.userId===this.answer.user.userId?this.isAccessible=!0:this.$store.state.user.roles.find((function(t){return"ROLE_PROFESSOR"===t.authority||"ROLE_SYSADMIN"===t.authority}))&&(this.isAccessible=!0,this.isTeacher=!0))},executeImage:function(){var t=this,e="",s={};this.isTeacher&&(e="?for=admin",s={userId:this.answer.user.userId}),this.axios.post(this.apiPrefix+this.id+"/envs/deploy"+e,s).then((function(e){e.data&&(t.isImageExecuted=!0,t.previewUrl=e.data.previewUrl,t.checkHasConsole()||(t.inputUrl=t.previewUrl),t.getDeploymentsStatus())})).catch((function(e){t.checkHasConsole()&&(t.delayShow=!0),window.clearInterval(t.statusInterval),t.statusInterval=null}))},checkLanguagePractice:function(){this.isImageExecuted?this.getDeploymentsStatus():this.executeImage()},startRunning:function(){this.checkHasConsole()?(this.delayShow=!1,this.logContent="",this.hasError=!0,this.inputUrl="",this.previewUrl="",this.isImageExecuted=!1,this.isImageReady=!1,null!=this.statusInterval&&(window.clearInterval(this.statusInterval),this.statusInterval=null),this.statusInterval=window.setInterval(this.checkLanguagePractice,3e3),this.isBuildFailed=!1,this.isCompileFailed=!1,this.errorMessage="",this.checkLanguagePractice()):(this.isImageReady=!1,this.hasClickRunBtn=!0,this.isImageExecuted=!1,this.inputUrl="",this.previewUrl="",this.progress=0,this.step=0,this.logContent="",this.getStatus(),null!=this.statusInterval&&(window.clearInterval(this.statusInterval),this.statusInterval=null),this.statusInterval=window.setInterval(this.getStatus,3e3))},hideEditorHeaders:function(){var t=document.getElementById("gitlabFrame");if(t){var e=t.contentWindow.document.querySelector("body > header"),s=t.contentWindow.document.querySelector("#content-body > article > div > div.gl-relative.gl-display-flex.gl-overflow-hidden"),i=t.contentWindow.document.querySelector("#content-body > article > div > div.gl-relative.multi-file-commit-panel.flex-column > div.context-header.ide-context-header");e&&s&&i&&(e.remove(),s.remove(),i.remove())}},reloadPreview:function(){var t=this;if(this.isImageReady){var e=document.getElementById("previewFrame");e&&(this.previewUrl===this.inputUrl?(this.previewUrl="",setTimeout((function(){t.previewUrl=t.inputUrl}),100)):this.previewUrl=this.inputUrl)}},toggleWideEditor:function(){this.showWideEditor=!this.showWideEditor},toggleWideRun:function(){this.showWideRun=!this.showWideRun},openPracticeInfoModal:function(){this.showPracticeInfoModal=!0,this.showPracticeSubmitModal=!1},openPracticeSubmitModal:function(){this.showPracticeSubmitModal=!0,this.showPracticeInfoModal=!1},submitAnswer:function(t){this.answer.submitDatetime=t},setTaskQueueStatusCd:function(t){R.a.isEmpty(t)?this.statusCd="":this.statusCd=t[0].status.comnCd},copyToClipboard:function(t){var e=document.createElement("textarea");document.body.appendChild(e),e.value=t,e.select(),document.execCommand("copy"),document.body.removeChild(e),this.$ssafyModal.showInfo("복사가 완료되었습니다.")},openGitlabCloneLayer:function(){this.showGitlabCloneLayer=!0},closeGitlabCloneLayer:function(){this.showGitlabCloneLayer=!1},exitPracticeRoom:function(){this.$ssafyModal.showOkCancel("SSAFY 실습실에서 나가시겠습니까?<br/> Commit 안한 변경 내역은 반영 되지 않습니다.").confirm((function(){window.close()}))}},mounted:function(){this.load()}},A=E,T=(s("a5ec"),Object(v["a"])(A,i,a,!1,null,"6f51e510",null));e["default"]=T.exports},"98b9":function(t,e,s){},a5ec:function(t,e,s){"use strict";s("4702")}}]);