(this.webpackJsonp=this.webpackJsonp||[]).push([[551,55],{"0ch9":function(e,t,n){"use strict";n.d(t,"k",(function(){return i})),n.d(t,"l",(function(){return r})),n.d(t,"z",(function(){return o})),n.d(t,"y",(function(){return a})),n.d(t,"x",(function(){return s})),n.d(t,"A",(function(){return c})),n.d(t,"B",(function(){return u})),n.d(t,"K",(function(){return l})),n.d(t,"L",(function(){return d})),n.d(t,"N",(function(){return f})),n.d(t,"M",(function(){return h})),n.d(t,"D",(function(){return p})),n.d(t,"C",(function(){return m})),n.d(t,"H",(function(){return g})),n.d(t,"G",(function(){return v})),n.d(t,"F",(function(){return b})),n.d(t,"E",(function(){return _})),n.d(t,"J",(function(){return w})),n.d(t,"I",(function(){return E})),n.d(t,"T",(function(){return y})),n.d(t,"S",(function(){return S})),n.d(t,"P",(function(){return C})),n.d(t,"R",(function(){return O})),n.d(t,"O",(function(){return T})),n.d(t,"U",(function(){return j})),n.d(t,"Q",(function(){return P})),n.d(t,"g",(function(){return R})),n.d(t,"f",(function(){return I})),n.d(t,"e",(function(){return A})),n.d(t,"h",(function(){return k})),n.d(t,"d",(function(){return F})),n.d(t,"j",(function(){return x})),n.d(t,"i",(function(){return M})),n.d(t,"o",(function(){return L})),n.d(t,"n",(function(){return N})),n.d(t,"p",(function(){return D})),n.d(t,"r",(function(){return B})),n.d(t,"q",(function(){return $})),n.d(t,"m",(function(){return q})),n.d(t,"u",(function(){return G})),n.d(t,"v",(function(){return U})),n.d(t,"t",(function(){return V})),n.d(t,"s",(function(){return H})),n.d(t,"w",(function(){return z})),n.d(t,"b",(function(){return W})),n.d(t,"c",(function(){return Y})),n.d(t,"a",(function(){return J}));const i="mark",r="measure",o="snippet-view-app-start",a="snippet-edit-app-start",s="snippet-blobs-content-finished",c="snippet-blobs-content",u="webide-app-start",l="webide-file-clicked",d="webide-file-finished",f="webide-init-editor-start",h="webide-init-editor-finish",p="webide-getBranchData-start",m="webide-getBranchData-finish",g="webide-getFileData-start",v="webide-getFileData-finish",b="webide-getFiles-start",_="webide-getFiles-finish",w="webide-getProjectData-start",E="webide-getProjectData-finish",y="webide-file-loading-after-interaction",S="WebIDE: Project data",C="WebIDE: Branch data",O="WebIDE: File data",T="WebIDE: Before Vue app",j="WebIDE: Repo Editor",P="WebIDE: Fetch Files",R="mr-diffs-mark-file-tree-start",I="mr-diffs-mark-file-tree-end",A="mr-diffs-mark-diff-files-start",k="mr-diffs-mark-first-diff-file-shown",F="mr-diffs-mark-diff-files-end",x="mr-diffs-measure-file-tree-done",M="mr-diffs-measure-diff-files-done",L="pipelines-detail-links-mark-calculate-start",N="pipelines-detail-links-mark-calculate-end",D="Pipelines Detail Graph: Links Calculation",B="pipeline_graph_link_calculation_duration_seconds",$="pipeline_graph_links_total",q="pipeline_graph_links_per_job_ratio",G="blobviewer-load-viewer-start",U="blobviewer-switch-to-viewerr-start",V="blobviewer-load-viewer-finish",H="Repository File Viewer: loading the viewer",z="Repository File Viewer: switching the viewer",W="design-app-start",Y="Design Management: Before the Vue app",J="Design Management: Single image preview"},115:function(e,t,n){n("HVBj"),e.exports=n("abRe")},"2IYA":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getIdeProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IdeProject"},directives:[]}]}}]}}],loc:{start:0,end:155}};i.loc.source={body:'#import "~/ide/queries/ide_project.fragment.graphql"\n\nquery getIdeProject($projectPath: ID!) {\n  project(fullPath: $projectPath) {\n    ...IdeProject\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("kNQy").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})));var o={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.getIdeProject=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(o[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(i,"getIdeProject")},"2wQf":function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,c=(1<<s)-1,u=c>>1,l=-7,d=n?r-1:0,f=n?-1:1,h=e[t+d];for(d+=f,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+d],d+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=i;l>0;a=256*a+e[t+d],d+=f,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,i),o-=u}return(h?-1:1)*a*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var a,s,c,u=8*o-r-1,l=(1<<u)-1,d=l>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:o-1,p=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*c-1)*Math.pow(2,r),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;e[n+h]=255&s,h+=p,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;e[n+h]=255&a,h+=p,a/=256,u-=8);e[n+h-p]|=128*m}},"3lQS":function(e,t,n){"use strict";var i=n("tbP8"),r=n("FxFN"),o=n("5c3i"),a={components:{GlAvatar:i.a},props:{projectId:{type:[Number,String],default:0,required:!1,validator:e=>"string"!=typeof e||Object(r.f)(e)},projectName:{type:String,required:!0},projectAvatarUrl:{type:String,required:!1,default:""},size:{type:Number,default:32,required:!1},alt:{type:String,required:!1,default:void 0}},computed:{avatarAlt(){var e;return null!==(e=this.alt)&&void 0!==e?e:this.projectName},entityId(){return Object(r.f)(this.projectId)?Object(r.e)(this.projectId):this.projectId}},AVATAR_SHAPE_OPTION_RECT:o.a},s=n("tBpV"),c=Object(s.a)(a,(function(){return(0,this._self._c)("gl-avatar",{attrs:{shape:this.$options.AVATAR_SHAPE_OPTION_RECT,"entity-id":this.entityId,"entity-name":this.projectName,src:this.projectAvatarUrl,alt:this.avatarAlt,size:this.size,"fallback-on-error":!0}})}),[],!1,null,null,null);t.a=c.exports},"4wRe":function(e,t,n){"use strict";var i=n("8ENL"),r=n("0zRR"),o=n("ua/H"),a=n("hWu6"),s=Object(o.c)(a.c,r.y),c=Object(i.c)({name:r.y,mixins:[a.b],provide:function(){var e=this;return{getBvRadioGroup:function(){return e}}},props:s,computed:{isRadioGroup:function(){return!0}}}),u=n("SGKy"),l=n("R0j4"),d=n("OQy4"),f=n("Pyw5"),h=n.n(f);const{model:p}=c.options;const m={name:"GlFormRadioGroup",components:{BFormRadioGroup:c,GlFormRadio:d.a},directives:{SafeHtml:l.a},mixins:[u.a],inheritAttrs:!1,model:p,methods:{onInput(e){this.$emit("input",e)},onChange(e){this.$emit("change",e)}}};const g=h()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-form-radio-group",e._g(e._b({staticClass:"gl-form-checkbox-group",attrs:{stacked:""},on:{input:e.onInput,change:e.onChange}},"b-form-radio-group",e.$attrs,!1),e.$listeners),[e._t("first"),e._v(" "),e._l(e.formOptions,(function(t,i){return n("gl-form-radio",{key:i,attrs:{value:t.value,disabled:t.disabled}},[t.html?n("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:t.html,expression:"option.html"}]}):n("span",[e._v(e._s(t.text))])])})),e._v(" "),e._t("default")],2)},staticRenderFns:[]},void 0,m,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=g},"53mm":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("3twG");function r(){const e=gon&&gon.relative_url_root||"";n.p=Object(i.C)(e,"/assets/webpack/")}},"5QKO":function(e,t,n){"use strict";var i=n("bOix");t.a={methods:{timeFormatted:(e,t)=>Object(i.y)(t).format(e,i.T),tooltipTitle:e=>i.F.asDateTimeFull.format(e)}}},"7xOh":function(e,t,n){"use strict";n("Tznw"),n("IYH6"),n("6yen"),n("OeRx"),n("l/dT"),n("RqS2"),n("Zy7a"),n("cjZU"),n("OAhk"),n("X42P"),n("mHhP"),n("fn0I"),n("UB/6"),n("imhG"),n("UezY"),n("z6RN"),n("hG7+"),n("ZzK0"),n("BzOf");class i{constructor(){this.$_all=new Map}dispose(){this.$_all.clear()}$on(e,t){const n=this.$_all.get(e);n&&n.push(t)||this.$_all.set(e,[t])}$off(e,t){const n=this.$_all.get(e)||[],i=t?n.filter((function(e){return e!==t})):[];i.length?this.$_all.set(e,i):this.$_all.delete(e)}$once(e,t){var n=this;const i=function(...r){n.$off(e,i),t(...r)};this.$on(e,i)}$emit(e,...t){(this.$_all.get(e)||[]).forEach((function(e){e(...t)}))}}t.a=function(){return new i}},"8eeg":function(e,t,n){"use strict";var i=n("BAGK");t.a=function(e){return e.deleted?i.t.deleted:e.tempFile&&!e.prevPath?i.t.addition:i.t.modified}},"99pJ":function(e,t,n){e.exports=n("NFDe")},"9y+K":function(e,t,n){(e.exports=n("VNgF")(!1)).push([e.i,"\n.file-addition,\n.file-addition-solid {\n  color: #1aaa55;\n}\n.file-modified,\n.file-modified-solid {\n  color: #fc9403;\n}\n.file-deletion,\n.file-deletion-solid {\n  color: #db3b21;\n}\n",""])},A5dm:function(e,t,n){"use strict";var i=n("LLbv"),r=n("waGw"),o=n("iQdY"),a=n("Pyw5"),s=n.n(a);const c={name:"GlTruncate",POSITION:o.a,directives:{GlTooltip:i.a,GlResizeObserver:r.a},props:{text:{type:String,required:!0},position:{type:String,required:!1,default:o.a.END,validator:e=>Object.values(o.a).includes(e)},withTooltip:{type:Boolean,required:!1,default:!1}},data:()=>({isTruncated:!1}),computed:{middleIndex(){return Math.floor(this.text.length/2)},first(){return this.text.slice(0,this.middleIndex)},last(){return this.text.slice(this.middleIndex)},isTooltipDisabled(){return!this.withTooltip||!this.isTruncated}},watch:{withTooltip(e){e&&this.checkTruncationState()}},methods:{checkTruncationState(){this.withTooltip&&(this.isTruncated=this.$refs.text.scrollWidth>this.$refs.text.offsetWidth)}}};const u=s()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.position===e.$options.POSITION.START?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{disabled:e.isTooltipDisabled},expression:"{ disabled: isTooltipDisabled }"},{name:"gl-resize-observer",rawName:"v-gl-resize-observer:[withTooltip]",value:e.checkTruncationState,expression:"checkTruncationState",arg:e.withTooltip}],staticClass:"gl-truncate",attrs:{title:e.text}},[n("span",{ref:"text",staticClass:"gl-truncate-start gl-text-overflow-ellipsis!"},[e._v("‎"+e._s(e.text)+"‎")])]):e.position===e.$options.POSITION.MIDDLE?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{disabled:e.isTooltipDisabled},expression:"{ disabled: isTooltipDisabled }"},{name:"gl-resize-observer",rawName:"v-gl-resize-observer:[withTooltip]",value:e.checkTruncationState,expression:"checkTruncationState",arg:e.withTooltip}],staticClass:"gl-truncate",attrs:{title:e.text}},[n("span",{ref:"text",staticClass:"gl-truncate-end"},[e._v(e._s(e.first))]),n("span",{staticClass:"gl-truncate-start"},[e._v("‎"+e._s(e.last)+"‎")])]):n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{disabled:e.isTooltipDisabled},expression:"{ disabled: isTooltipDisabled }"},{name:"gl-resize-observer",rawName:"v-gl-resize-observer:[withTooltip]",value:e.checkTruncationState,expression:"checkTruncationState",arg:e.withTooltip}],staticClass:"gl-truncate",attrs:{"data-testid":"truncate-end-container",title:e.text}},[n("span",{ref:"text",staticClass:"gl-truncate-end"},[e._v(e._s(e.text))])])},staticRenderFns:[]},void 0,c,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=u},CdyC:function(e,t,n){"use strict";var i=n("s1D3"),r=n("SNRI"),o={components:{GlIcon:i.a},props:{path:{type:String,required:!0},filePath:{type:String,required:!1,default:""},fileSize:{type:Number,required:!1,default:0}},computed:{fileSizeReadable(){return Object(r.e)(this.fileSize)},fileName(){return(this.filePath||this.path).split("/").pop()}}},a=n("tBpV"),s=Object(a.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"file-container"},[t("div",{staticClass:"file-content"},[t("p",{staticClass:"gl-mt-3 file-info"},[e._v("\n      "+e._s(e.fileName)+"\n      "),e.fileSize>0?[e._v(" ("+e._s(e.fileSizeReadable)+") ")]:e._e()],2),e._v(" "),t("a",{staticClass:"btn btn-default",attrs:{href:e.path,rel:"nofollow",download:e.fileName,target:"_blank"}},[t("gl-icon",{staticClass:"float-left gl-mr-3",attrs:{size:16,name:"download"}}),e._v("\n      "+e._s(e.__("Download"))+"\n    ")],1)])])}),[],!1,null,null,null);t.a=s.exports},D3R9:function(e,t,n){var i=n("uYOL");e.exports=function(e){return"function"==typeof e?e:i}},"Fsq/":function(e,t,n){"use strict";n("FMw2");var i=n("LLbv"),r=n("A5dm"),o=n("bOix"),a=n("5QKO"),s={directives:{GlTooltip:i.a},components:{GlTruncate:r.a},mixins:[a.a],props:{time:{type:[String,Number,Date],required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},cssClass:{type:String,required:!1,default:""},dateTimeFormat:{type:String,required:!1,default:o.b,validator:function(e){return o.a.includes(e)}},enableTruncation:{type:Boolean,required:!1,default:!1}},computed:{timeAgo(){return this.timeFormatted(this.time,this.dateTimeFormat)},tooltipText(){return this.enableTruncation?void 0:this.tooltipTitle(this.time)}}},c=n("tBpV"),u=Object(c.a)(s,(function(){var e=this,t=e._self._c;return t("time",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport",value:{placement:e.tooltipPlacement},expression:"{ placement: tooltipPlacement }",modifiers:{viewport:!0}}],class:e.cssClass,attrs:{title:e.tooltipText,datetime:e.time}},[e._t("default",(function(){return[e.enableTruncation?[t("gl-truncate",{attrs:{text:e.timeAgo,"with-tooltip":""}})]:[e._v(e._s(e.timeAgo))]]}),{timeAgo:e.timeAgo})],2)}),[],!1,null,null,null);t.a=u.exports},FxFN:function(e,t,n){"use strict";n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"g",(function(){return h})),n.d(t,"d",(function(){return p}));var i=n("P/Kr"),r=n.n(i),o=(n("TPye"),n("FMw2"),n("3UXl"),n("iyoE"),n("99pJ")),a=n.n(o);const s=function(e){return!("string"!=typeof e||!e.startsWith("gid://gitlab/"))},c=function(e){const[t,n]=(""+e).replace(/gid:\/\/gitlab\//g,"").split("/");return{type:t,id:n}},u=function(e=""){const t=s(e)?c(e).id:e,n=parseInt(t,10);return Number.isInteger(n)?n:null},l={Append:"APPEND",Remove:"REMOVE",Replace:"REPLACE"},d=function(e,t){if("string"!=typeof e)throw new TypeError("type must be a string; got "+typeof e);if(!["number","string"].includes(typeof t))throw new TypeError("id must be a number or string; got "+typeof t);return s(t)?t:`gid://gitlab/${e}/${t}`},f=function(e){if(!r()(e))throw new TypeError("nodes must be an array; got "+typeof e);return e.map((function(e){return e.id?{...e,id:u(e.id)}:e}))},h=function(e,t=1e4){const n=function(e){a.a.hidden()?e.stopPolling():e.startPolling(t)};n(e),a.a.change(n.bind(null,e))},p=function(e,t=""){return{fetchOptions:{method:"GET"},headers:{"X-GITLAB-GRAPHQL-FEATURE-CORRELATION":e,"X-GITLAB-GRAPHQL-RESOURCE-ETAG":t,"X-Requested-With":"XMLHttpRequest"}}}},HLGc:function(e,t,n){"use strict";n("E7T3"),n("ZzK0"),n("z6RN"),n("BzOf");var i=n("WXKx"),r={components:{ItemButton:n("oGNu").a},props:{path:{type:String,required:!1,default:""},showLabel:{type:Boolean,required:!1,default:!0},buttonCssClasses:{type:String,required:!1,default:null}},methods:{createFile(e,t){var n=this;const{name:r,type:o}=t,a=e.result.split("base64,")[1],s=a?atob(a):"",c=Object(i.e)({content:s,mimeType:o,name:r}),u=function(e){return n.$emit("create",{name:`${n.path?n.path+"/":""}${r}`,type:"blob",content:e,rawPath:c?"":URL.createObjectURL(t),mimeType:o})};if(c){const e=new FileReader;e.addEventListener("load",(function(e){return u(e.target.result)}),{once:!0}),e.readAsText(t)}else u(s)},readFile(e){var t=this;const n=new FileReader;n.addEventListener("load",(function(n){return t.createFile(n.target,e)}),{once:!0}),n.readAsDataURL(e)},openFile(){var e=this;Array.from(this.$refs.fileUpload.files).forEach((function(t){return e.readFile(t)}))},startFileUpload(){this.$refs.fileUpload.click()}}},o=n("tBpV"),a=Object(o.a)(r,(function(){var e=this._self._c;return e("li",[e("item-button",{staticClass:"d-flex",class:this.buttonCssClasses,attrs:{"show-label":this.showLabel,"icon-classes":this.showLabel?"mr-2":"",label:this.__("Upload file"),icon:"upload"},on:{click:this.startFileUpload}}),this._v(" "),e("input",{ref:"fileUpload",staticClass:"hidden",attrs:{id:"file-upload",type:"file",multiple:""},on:{change:this.openFile}})],1)}),[],!1,null,null,null);t.a=a.exports},JCWm:function(e,t,n){"use strict";var i=n("h7kv"),r=n.n(i),o=n("SNRI"),a=n("3twG");var s={props:{path:{type:String,required:!0},fileSize:{type:Number,required:!1,default:0},renderInfo:{type:Boolean,default:!0,required:!1},innerCssClasses:{type:[Array,Object,String],required:!1,default:""}},data:()=>({width:0,height:0,renderedWidth:0,renderedHeight:0}),computed:{fileSizeReadable(){return Object(o.e)(this.fileSize)},hasFileSize(){return this.fileSize>0},hasDimensions(){return this.width&&this.height},safePath(){return this.path.startsWith("blob:")?this.path:Object(a.l)(this.path)}},beforeDestroy(){window.removeEventListener("resize",this.resizeThrottled,!1)},mounted(){this.onImgLoad(),this.resizeThrottled=r()(this.onImgLoad,400),window.addEventListener("resize",this.resizeThrottled,!1)},methods:{onImgLoad(){requestIdleCallback(this.calculateImgSize,{timeout:1e3})},calculateImgSize(){var e=this;const{contentImg:t}=this.$refs;t&&(this.width=t.naturalWidth,this.height=t.naturalHeight,this.$nextTick((function(){e.renderedWidth=t.clientWidth,e.renderedHeight=t.clientHeight,e.$emit("imgLoaded",{width:e.width,height:e.height,renderedWidth:e.renderedWidth,renderedHeight:e.renderedHeight})})))}}},c=n("tBpV"),u=Object(c.a)(s,(function(){var e=this,t=e._self._c;return t("div",{attrs:{"data-testid":"image-viewer"}},[t("div",{staticClass:"position-relative",class:e.innerCssClasses},[t("img",{ref:"contentImg",attrs:{src:e.safePath},on:{load:e.onImgLoad}}),e._v(" "),e._t("image-overlay",null,{renderedWidth:e.renderedWidth,renderedHeight:e.renderedHeight})],2),e._v(" "),e.renderInfo?t("p",{staticClass:"image-info"},[e.hasFileSize?[e._v("\n      "+e._s(e.fileSizeReadable)+"\n    ")]:e._e(),e._v(" "),e.hasFileSize&&e.hasDimensions?[e._v(" | ")]:e._e(),e._v(" "),e.hasDimensions?[t("strong",[e._v(e._s(e.s__("ImageViewerDimensions|W")))]),e._v(": "+e._s(e.width)+" | "),t("strong",[e._v(e._s(e.s__("ImageViewerDimensions|H")))]),e._v(": "+e._s(e.height)+"\n    ")]:e._e()],2):e._e()])}),[],!1,null,null,null);t.a=u.exports},JvIl:function(e,t,n){"use strict";var i=n("qPgm"),r=n("2IYA"),o=n.n(r),a=n("hPph"),s=n.n(a),c=n("FxFN"),u=n("2ibD"),l=n("3twG"),d=n("a6Eh"),f=n.n(d),h=n("htNe"),p=n.n(h),m=n("5v28");const g=p()((function(){return Object(m.b)({},{fetchPolicy:m.c.NO_CACHE})})),v=function(...e){return g().query(...e)};t.a={getFileData:e=>u.a.get(e,{params:{format:"json",viewer:"none"}}),getRawFileData(e){if(e.tempFile&&!e.prevPath)return Promise.resolve(e.content);if(e.raw||!e.rawPath)return Promise.resolve(e.raw);const t=e.binary?{responseType:"arraybuffer"}:{};return u.a.get(e.rawPath,{transformResponse:[function(e){return e}],...t}).then((function({data:e}){return e}))},getBaseRawFileData(e,t,n){if(e.tempFile||e.baseRaw)return Promise.resolve(e.baseRaw);const i=e.mrChange&&e.mrChange.renamed_file?e.mrChange.old_path:e.path;return u.a.get(Object(l.C)(gon.relative_url_root||"/",t,"-","raw",n,Object(l.m)(i)),{transformResponse:[function(e){return e}]}).then((function({data:e}){return e}))},getProjectMergeRequests:(e,t={})=>i.b.projectMergeRequests(e,t),getProjectMergeRequestData:(e,t,n={})=>i.b.projectMergeRequest(e,t,n),getProjectMergeRequestChanges:(e,t)=>i.b.projectMergeRequestChanges(e,t),getProjectMergeRequestVersions:(e,t)=>i.b.projectMergeRequestVersions(e,t),getBranchData:(e,t)=>i.b.branchSingle(e,t),commit:(e,t)=>i.b.commitMultiple(e,t),getFiles(e,t){const n=`${gon.relative_url_root}/${e}/-/files/${t}`;return u.a.get(n,{params:{format:"json"}})},lastCommitPipelines({getters:e}){const t=e.lastCommit.id;return i.b.commitPipelines(e.currentProject.path_with_namespace,t)},pingUsage(e){const t=`${gon.relative_url_root}/${e}/service_ping/web_ide_pipelines_count`;return u.a.post(t)},getCiConfig:(e,t)=>v({query:f.a,variables:{projectPath:e,content:t}}).then((function({data:e}){return e.ciConfig})),dismissUserCallout:e=>function(...e){return g().mutate(...e)}({mutation:s.a,variables:{input:{featureName:e}}}).then((function({data:e}){return e})),getProjectPermissionsData:e=>v({query:o.a,variables:{projectPath:e}}).then((function({data:e}){return{...e.project,id:Object(c.e)(e.project.id)}}))}},Knu6:function(e,t,n){"use strict";const i={install(e,t){e.mixin({beforeCreate(){var e;const n=this.$options.name;if(-1!==(null==t||null===(e=t.components)||void 0===e?void 0:e.indexOf(n))){const e=`<${n}>`;performance.getEntriesByName(e+"-start").length||performance.mark(e+"-start")}},mounted(){var e;const n=this.$options.name;-1!==(null==t||null===(e=t.components)||void 0===e?void 0:e.indexOf(n))&&this.$nextTick((function(){window.requestAnimationFrame((function(){const e=`<${n}>`;performance.getEntriesByName(e+"-end").length||(performance.mark(e+"-end"),performance.measure(""+e,e+"-start"))}))}))}})}};t.a=i},LLbv:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var i=n("0zRR"),r=n("MtBe"),o=n("h3Ey"),a=n("TjC/"),s=n("8ENL"),c=n("t8l0"),u=n("EGUT"),l=n("qTlp"),d=n("tTwu"),f=n("BrvI"),h=n("NSGy"),p=n("Ddgg"),m=n("7bmO"),g=n("aM4G"),v=n("RhHz");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E="__BV_Tooltip__",y={focus:!0,hover:!0,click:!0,blur:!0,manual:!0},S=/^html$/i,C=/^noninteractive$/i,O=/^nofade$/i,T=/^(auto|top(left|right)?|bottom(left|right)?|left(top|bottom)?|right(top|bottom)?)$/i,j=/^(window|viewport|scrollParent)$/i,P=/^d\d+$/i,R=/^ds\d+$/i,I=/^dh\d+$/i,A=/^o-?\d+$/i,k=/^v-.+$/i,F=/\s+/,x=function(e,t,n){if(r.g){var b=function(e,t){var n={title:void 0,trigger:"",placement:"top",fallbackPlacement:"flip",container:!1,animation:!0,offset:0,id:null,html:!1,interactive:!0,disabled:!1,delay:Object(c.b)(i.ib,"delay",50),boundary:String(Object(c.b)(i.ib,"boundary","scrollParent")),boundaryPadding:Object(p.c)(Object(c.b)(i.ib,"boundaryPadding",5),0),variant:Object(c.b)(i.ib,"variant"),customClass:Object(c.b)(i.ib,"customClass")};if(Object(f.m)(e.value)||Object(f.g)(e.value)||Object(f.e)(e.value)?n.title=e.value:Object(f.j)(e.value)&&(n=_(_({},n),e.value)),Object(f.n)(n.title)){var r=s.d?t.props:(t.data||{}).attrs;n.title=r&&!Object(f.o)(r.title)?r.title:void 0}Object(f.j)(n.delay)||(n.delay={show:Object(p.c)(n.delay,0),hide:Object(p.c)(n.delay,0)}),e.arg&&(n.container="#".concat(e.arg)),Object(m.h)(e.modifiers).forEach((function(e){if(S.test(e))n.html=!0;else if(C.test(e))n.interactive=!1;else if(O.test(e))n.animation=!1;else if(T.test(e))n.placement=e;else if(j.test(e))e="scrollparent"===e?"scrollParent":e,n.boundary=e;else if(P.test(e)){var t=Object(p.c)(e.slice(1),0);n.delay.show=t,n.delay.hide=t}else R.test(e)?n.delay.show=Object(p.c)(e.slice(2),0):I.test(e)?n.delay.hide=Object(p.c)(e.slice(2),0):A.test(e)?n.offset=Object(p.c)(e.slice(1),0):k.test(e)&&(n.variant=e.slice(2)||null)}));var o={};return Object(a.b)(n.trigger||"").filter(l.a).join(" ").trim().toLowerCase().split(F).forEach((function(e){y[e]&&(o[e]=!0)})),Object(m.h)(e.modifiers).forEach((function(e){e=e.toLowerCase(),y[e]&&(o[e]=!0)})),n.trigger=Object(m.h)(o).join(" "),"blur"===n.trigger&&(n.trigger="focus"),n.trigger||(n.trigger="hover focus"),n}(t,n);if(!e[E]){var w=Object(d.a)(n,t);e[E]=Object(g.a)(w,v.a,{_scopeId:Object(u.a)(w,void 0)}),e[E].__bv_prev_data__={},e[E].$on(o.L,(function(){Object(f.e)(b.title)&&e[E].updateData({title:b.title(e)})}))}var x={title:b.title,triggers:b.trigger,placement:b.placement,fallbackPlacement:b.fallbackPlacement,variant:b.variant,customClass:b.customClass,container:b.container,boundary:b.boundary,delay:b.delay,offset:b.offset,noFade:!b.animation,id:b.id,interactive:b.interactive,disabled:b.disabled,html:b.html},M=e[E].__bv_prev_data__;if(e[E].__bv_prev_data__=x,!Object(h.a)(x,M)){var L={target:e};Object(m.h)(x).forEach((function(t){x[t]!==M[t]&&(L[t]="title"===t&&Object(f.e)(x[t])?x[t](e):x[t])})),e[E].updateData(L)}}},M={bind:function(e,t,n){x(e,t,n)},componentUpdated:function(e,t,n){Object(s.e)((function(){x(e,t,n)}))},unbind:function(e){!function(e){e[E]&&(e[E].$destroy(),e[E]=null),delete e[E]}(e)}}},LMID:function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var i=n("ntMP"),r=n("2wQf"),o=n("aWAA");function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return u(this,e,t,n)}function u(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=f(e,t);return e}(e,t,n,i):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|p(t,n),r=(e=s(e,i)).write(t,n);r!==i&&(e=e.slice(0,r));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(l(t),e=s(e,t<0?0:0|h(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(i)return $(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return j(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return O(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function g(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function v(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=c.from(t,i)),c.isBuffer(t))return 0===t.length?-1:b(e,t,n,i,r);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,i,r){var o,a=1,s=e.length,c=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var l=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var d=!0,f=0;f<c;f++)if(u(e,o+f)!==u(t,f)){d=!1;break}if(d)return o}return-1}function _(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,i){return G($(t,e.length-n),e,n,i)}function E(e,t,n,i){return G(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function y(e,t,n,i){return E(e,t,n,i)}function S(e,t,n,i){return G(q(t),e,n,i)}function C(e,t,n,i){return G(function(e,t){for(var n,i,r,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(t,e.length-n),e,n,i)}function O(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o,a,s,c,u=e[r],l=null,d=u>239?4:u>223?3:u>191?2:1;if(r+d<=n)switch(d){case 1:u<128&&(l=u);break;case 2:128==(192&(o=e[r+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=e[r+1],a=e[r+2],128==(192&o)&&128==(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=e[r+1],a=e[r+2],s=e[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,d=1):l>65535&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|1023&l),i.push(l),r+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=4096));return n}(i)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,i){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof i?s(e,t).fill(n,i):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=c.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):m.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,i,r){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(i,r),l=e.slice(t,n),d=0;d<s;++d)if(u[d]!==l[d]){o=u[d],a=l[d];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return E(this,e,t,n);case"latin1":case"binary":return y(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function P(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function R(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=B(e[o]);return r}function I(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function A(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function k(e,t,n,i,r,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function F(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function x(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function M(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,i,o){return o||M(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function N(e,t,n,i,o){return o||M(e,0,n,8),r.write(e,t,n,i,52,8),n+8}c.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var r=t-e;n=new c(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},c.prototype.readUInt8=function(e,t){return t||A(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||A(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||A(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||A(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||A(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||A(e,4,this.length),r.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||A(e,4,this.length),r.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||A(e,8,this.length),r.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||A(e,8,this.length),r.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||k(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||k(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):x(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);k(this,e,t,n,r-1,-r)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);k(this,e,t,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):x(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,o=i-n;if(this===e&&n<t&&t<i)for(r=o-1;r>=0;--r)e[r+t]=this[r+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},c.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=c.isBuffer(e)?e:$(new c(e,i).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function $(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(D,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,n("uKge"))},NFDe:function(e,t,n){!function(t){"use strict";var i=-1,r=function(e){return e.every=function(t,n,r){e._time(),r||(r=n,n=null);var o=i+=1;return e._timers[o]={visible:t,hidden:n,callback:r},e._run(o,!1),e.isSupported()&&e._listen(),o},e.stop=function(t){return!!e._timers[t]&&(e._stop(t),delete e._timers[t],!0)},e._timers={},e._time=function(){e._timed||(e._timed=!0,e._wasHidden=e.hidden(),e.change((function(){e._stopRun(),e._wasHidden=e.hidden()})))},e._run=function(n,i){var r,o=e._timers[n];if(e.hidden()){if(null===o.hidden)return;r=o.hidden}else r=o.visible;var a=function(){o.last=new Date,o.callback.call(t)};if(i){var s=new Date-o.last;r>s?o.delay=setTimeout((function(){o.id=setInterval(a,r),a()}),r-s):(o.id=setInterval(a,r),a())}else o.id=setInterval(a,r)},e._stop=function(t){var n=e._timers[t];clearInterval(n.id),clearTimeout(n.delay),delete n.id,delete n.delay},e._stopRun=function(t){var n=e.hidden(),i=e._wasHidden;if(n&&!i||!n&&i)for(var r in e._timers)e._stop(r),e._run(r,!n)},e};e.exports?e.exports=r(n("lNHW")):r(t.Visibility)}(window)},OIsX:function(e,t,n){"use strict";var i=n("A5dm"),r=n("3twG"),o=n("9dZE"),a={components:{GlTruncate:i.a},props:{path:{type:String,required:!0}}},s=n("tBpV"),c={name:"FileRow",components:{FileHeader:Object(s.a)(a,(function(){var e=this._self._c;return e("div",{staticClass:"file-row-header bg-white sticky-top gl-px-2 js-file-row-header",attrs:{title:this.path}},[e("gl-truncate",{staticClass:"bold",attrs:{text:this.path,position:"middle"}})],1)}),[],!1,null,null,null).exports,FileIcon:o.a,GlTruncate:i.a},props:{file:{type:Object,required:!0},fileUrl:{type:String,required:!1,default:""},level:{type:Number,required:!0},fileClasses:{type:String,required:!1,default:""},truncateMiddle:{type:Boolean,required:!1,default:!1}},computed:{isTree(){return"tree"===this.file.type},isBlob(){return"blob"===this.file.type},fileClass(){return{"file-open":this.isBlob&&this.file.opened,"is-active":this.isBlob&&this.file.active,folder:this.isTree,"is-open":this.file.opened}},textForTitle(){var e,t;return!(null===(e=this.file)||void 0===e||null===(t=e.tree)||void 0===t||!t.length)&&this.file.tree[0].parentPath},fileRouterUrl(){return this.fileUrl||"/project"+this.file.url}},watch:{"file.active":function(e){"blob"===this.file.type&&e&&this.scrollIntoView()}},mounted(){this.hasPathAtCurrentRoute()&&this.scrollIntoView(!0)},methods:{toggleTreeOpen(e){this.$emit("toggleTreeOpen",e)},clickedFile(e){this.$emit("clickFile",e)},clickFile(){this.isTree&&this.hasUrlAtCurrentRoute()&&this.toggleTreeOpen(this.file.path),this.$router&&!this.hasUrlAtCurrentRoute()&&this.$router.push(this.fileRouterUrl),this.isBlob&&this.clickedFile(this.file.path)},scrollIntoView(e=!1){const t=e&&this.isTree?"center":"nearest";this.$el.scrollIntoView({behavior:"smooth",block:t})},hasPathAtCurrentRoute(){if(!this.$router||!this.$router.currentRoute)return!1;const e=this.$router.currentRoute.path.replace(/^.*?[/]-[/]/g,"").replace(/[/]$/g,"");return this.file.path.replace(/[/]$/g,"")===e},hasUrlAtCurrentRoute(){return!this.$router||!this.$router.currentRoute||this.$router.currentRoute.path===Object(r.m)(this.fileRouterUrl)}}},u=n("LPAU"),l=n.n(u),d=n("TYq+"),f=n.n(d),h={insert:"head",singleton:!1},p=(l()(f.a,h),f.a.locals,Object(s.a)(c,(function(){var e=this,t=e._self._c;return e.file.isHeader?t("file-header",{attrs:{path:e.file.path}}):t("div",{staticClass:"file-row",class:e.fileClass,attrs:{title:e.textForTitle,"data-level":e.level,role:"button"},on:{click:e.clickFile,mouseleave:function(t){return e.$emit("mouseleave",t)}}},[t("div",{staticClass:"file-row-name-container"},[t("span",{ref:"textOutput",staticClass:"file-row-name",class:[e.fileClasses,{"str-truncated":!e.truncateMiddle,"gl-min-w-0":e.truncateMiddle}],attrs:{title:e.file.name,"data-qa-file-name":e.file.name,"data-testid":"file-row-name-container"}},[t("file-icon",{staticClass:"file-row-icon",class:{"text-secondary":"tree"===e.file.type},attrs:{"file-name":e.file.name,loading:e.file.loading,folder:e.isTree,opened:e.file.opened,size:16,submodule:e.file.submodule}}),e._v(" "),e.truncateMiddle?t("gl-truncate",{staticClass:"gl-pr-7",attrs:{text:e.file.name,position:"middle"}}):[e._v(e._s(e.file.name))]],2),e._v(" "),e._t("default")],2)])}),[],!1,null,null,null));t.a=p.exports},OQy4:function(e,t,n){"use strict";var i=n("nq4Y"),r=n("Pyw5"),o=n.n(r);const{model:a}=i.a.options;const s={name:"GlFormRadio",components:{BFormRadio:i.a},inheritAttrs:!1,model:{prop:a.prop,event:a.event},props:{checked:{type:[String,Number,Boolean,Object],required:!1,default:!1}}};const c=o()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-form-radio",e._b({staticClass:"gl-form-radio",attrs:{checked:e.checked},on:{input:function(t){return e.$emit("input",t)},change:function(t){return e.$emit("change",t)}}},"b-form-radio",e.$attrs,!1),[e._t("default"),e._v(" "),e.$scopedSlots.help?n("p",{staticClass:"help-text"},[e._t("help")],2):e._e()],2)},staticRenderFns:[]},void 0,s,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=c},QFSp:function(e,t,n){var i=n("20jF"),r=n("QA6A");e.exports=function(e){return r(e)&&i(e)}},QrI9:function(e,t,n){e.exports=l,l.Minimatch=d;var i=function(){try{return n("WWcN")}catch(e){}}()||{sep:"/"};l.sep=i.sep;var r=l.GLOBSTAR=d.GLOBSTAR={},o=n("dBaw"),a={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},s="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{});var c=/\/+/;function u(e,t){t=t||{};var n={};return Object.keys(e).forEach((function(t){n[t]=e[t]})),Object.keys(t).forEach((function(e){n[e]=t[e]})),n}function l(e,t,n){return h(t),n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&new d(t,n).match(e)}function d(e,t){if(!(this instanceof d))return new d(e,t);h(e),t||(t={}),e=e.trim(),t.allowWindowsEscape||"/"===i.sep||(e=e.split(i.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}function f(e,t){return t||(t=this instanceof d?this.options:{}),e=void 0===e?this.pattern:e,h(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:o(e)}l.filter=function(e,t){return t=t||{},function(n,i,r){return l(n,e,t)}},l.defaults=function(e){if(!e||"object"!=typeof e||!Object.keys(e).length)return l;var t=l,n=function(n,i,r){return t(n,i,u(e,r))};return(n.Minimatch=function(n,i){return new t.Minimatch(n,u(e,i))}).defaults=function(n){return t.defaults(u(e,n)).Minimatch},n.filter=function(n,i){return t.filter(n,u(e,i))},n.defaults=function(n){return t.defaults(u(e,n))},n.makeRe=function(n,i){return t.makeRe(n,u(e,i))},n.braceExpand=function(n,i){return t.braceExpand(n,u(e,i))},n.match=function(n,i,r){return t.match(n,i,u(e,r))},n},d.defaults=function(e){return l.defaults(e).Minimatch},d.prototype.debug=function(){},d.prototype.make=function(){var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)});this.debug(this.pattern,n),n=this.globParts=n.map((function(e){return e.split(c)})),this.debug(this.pattern,n),n=n.map((function(e,t,n){return e.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,n),this.set=n},d.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,i=0;if(n.nonegate)return;for(var r=0,o=e.length;r<o&&"!"===e.charAt(r);r++)t=!t,i++;i&&(this.pattern=e.substr(i));this.negate=t},l.braceExpand=function(e,t){return f(e,t)},d.prototype.braceExpand=f;var h=function(e){if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")};d.prototype.parse=function(e,t){h(e);var n=this.options;if("**"===e){if(!n.noglobstar)return r;e="*"}if(""===e)return"";var i,o="",c=!!n.nocase,u=!1,l=[],d=[],f=!1,m=-1,g=-1,v="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",b=this;function _(){if(i){switch(i){case"*":o+="[^/]*?",c=!0;break;case"?":o+="[^/]",c=!0;break;default:o+="\\"+i}b.debug("clearStateChar %j %j",i,o),i=!1}}for(var w,E=0,y=e.length;E<y&&(w=e.charAt(E));E++)if(this.debug("%s\t%s %s %j",e,E,o,w),u&&s[w])o+="\\"+w,u=!1;else switch(w){case"/":return!1;case"\\":_(),u=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,E,o,w),f){this.debug("  in class"),"!"===w&&E===g+1&&(w="^"),o+=w;continue}b.debug("call clearStateChar %j",i),_(),i=w,n.noext&&_();continue;case"(":if(f){o+="(";continue}if(!i){o+="\\(";continue}l.push({type:i,start:E-1,reStart:o.length,open:a[i].open,close:a[i].close}),o+="!"===i?"(?:(?!(?:":"(?:",this.debug("plType %j %j",i,o),i=!1;continue;case")":if(f||!l.length){o+="\\)";continue}_(),c=!0;var S=l.pop();o+=S.close,"!"===S.type&&d.push(S),S.reEnd=o.length;continue;case"|":if(f||!l.length||u){o+="\\|",u=!1;continue}_(),o+="|";continue;case"[":if(_(),f){o+="\\"+w;continue}f=!0,g=E,m=o.length,o+=w;continue;case"]":if(E===g+1||!f){o+="\\"+w,u=!1;continue}var C=e.substring(g+1,E);try{RegExp("["+C+"]")}catch(e){var O=this.parse(C,p);o=o.substr(0,m)+"\\["+O[0]+"\\]",c=c||O[1],f=!1;continue}c=!0,f=!1,o+=w;continue;default:_(),u?u=!1:!s[w]||"^"===w&&f||(o+="\\"),o+=w}f&&(C=e.substr(g+1),O=this.parse(C,p),o=o.substr(0,m)+"\\["+O[0],c=c||O[1]);for(S=l.pop();S;S=l.pop()){var T=o.slice(S.reStart+S.open.length);this.debug("setting tail",o,S),T=T.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,n){return n||(n="\\"),t+t+n+"|"})),this.debug("tail=%j\n   %s",T,T,S,o);var j="*"===S.type?"[^/]*?":"?"===S.type?"[^/]":"\\"+S.type;c=!0,o=o.slice(0,S.reStart)+j+"\\("+T}_(),u&&(o+="\\\\");var P=!1;switch(o.charAt(0)){case"[":case".":case"(":P=!0}for(var R=d.length-1;R>-1;R--){var I=d[R],A=o.slice(0,I.reStart),k=o.slice(I.reStart,I.reEnd-8),F=o.slice(I.reEnd-8,I.reEnd),x=o.slice(I.reEnd);F+=x;var M=A.split("(").length-1,L=x;for(E=0;E<M;E++)L=L.replace(/\)[+*?]?/,"");var N="";""===(x=L)&&t!==p&&(N="$"),o=A+k+x+N+F}""!==o&&c&&(o="(?=.)"+o);P&&(o=v+o);if(t===p)return[o,c];if(!c)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var D=n.nocase?"i":"";try{var B=new RegExp("^"+o+"$",D)}catch(e){return new RegExp("$.")}return B._glob=e,B._src=o,B};var p={};l.makeRe=function(e,t){return new d(e,t||{}).makeRe()},d.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?"[^/]*?":t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",i=t.nocase?"i":"",o=e.map((function(e){return e.map((function(e){return e===r?n:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,i)}catch(e){this.regexp=!1}return this.regexp},l.match=function(e,t,n){var i=new d(t,n=n||{});return e=e.filter((function(e){return i.match(e)})),i.options.nonull&&!e.length&&e.push(t),e},d.prototype.match=function(e,t){if(void 0===t&&(t=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==i.sep&&(e=e.split(i.sep).join("/")),e=e.split(c),this.debug(this.pattern,"split",e);var r,o,a=this.set;for(this.debug(this.pattern,"set",a),o=e.length-1;o>=0&&!(r=e[o]);o--);for(o=0;o<a.length;o++){var s=a[o],u=e;if(n.matchBase&&1===s.length&&(u=[r]),this.matchOne(u,s,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},d.prototype.matchOne=function(e,t,n){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,a=0,s=e.length,c=t.length;o<s&&a<c;o++,a++){this.debug("matchOne loop");var u,l=t[a],d=e[o];if(this.debug(t,l,d),!1===l)return!1;if(l===r){this.debug("GLOBSTAR",[t,l,d]);var f=o,h=a+1;if(h===c){for(this.debug("** at the end");o<s;o++)if("."===e[o]||".."===e[o]||!i.dot&&"."===e[o].charAt(0))return!1;return!0}for(;f<s;){var p=e[f];if(this.debug("\nglobstar while",e,f,t,h,p),this.matchOne(e.slice(f),t.slice(h),n))return this.debug("globstar found match!",f,s,p),!0;if("."===p||".."===p||!i.dot&&"."===p.charAt(0)){this.debug("dot detected!",e,f,t,h);break}this.debug("globstar swallow a segment, and continue"),f++}return!(!n||(this.debug("\n>>> no match, partial?",e,f,t,h),f!==s))}if("string"==typeof l?(u=d===l,this.debug("string match",l,d,u)):(u=d.match(l),this.debug("pattern match",l,d,u)),!u)return!1}if(o===s&&a===c)return!0;if(o===s)return n;if(a===c)return o===s-1&&""===e[o];throw new Error("wtf?")}},QwBj:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"i",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"k",(function(){return h}));const i=0,r=200,o=204,a=401,s=403,c=404,u=410,l=413,d=422,f=429,h=[r,201,202,203,o,205,206,207,208,226]},R0j4:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("jsvc"),r=n.n(i);const{sanitize:o}=r.a,a={RETURN_DOM_FRAGMENT:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,FORBID_ATTR:["data-remote","data-url","data-type","data-method","data-disable-with","data-disabled","data-disable","data-turbo"],FORBID_TAGS:["style","mstyle","form"]},s=(e,t)=>{if(t.oldValue!==t.value){var n;const i={...a,...null!==(n=t.arg)&&void 0!==n?n:{}};e.textContent="",e.appendChild(o(t.value,i))}},c={bind:s,update:s}},SGKy:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f}));var i=n("8ENL"),r=n("fkuG"),o=n("A7+L"),a=n("rPnh"),s=n("BrvI"),c=n("7bmO"),u=n("ua/H"),l=n("kI/X"),d=Object(u.c)({disabledField:Object(u.b)(r.r,"disabled"),htmlField:Object(u.b)(r.r,"html"),options:Object(u.b)(r.d,[]),textField:Object(u.b)(r.r,"text"),valueField:Object(u.b)(r.r,"value")},"formOptionControls"),f=Object(i.c)({props:d,computed:{formOptions:function(){return this.normalizeOptions(this.options)}},methods:{normalizeOption:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Object(s.j)(e)){var n=Object(o.a)(e,this.valueField),i=Object(o.a)(e,this.textField);return{value:Object(s.n)(n)?t||i:n,text:Object(a.b)(String(Object(s.n)(i)?t:i)),html:Object(o.a)(e,this.htmlField),disabled:Boolean(Object(o.a)(e,this.disabledField))}}return{value:t||e,text:Object(a.b)(String(e)),disabled:!1}},normalizeOptions:function(e){var t=this;return Object(s.a)(e)?e.map((function(e){return t.normalizeOption(e)})):Object(s.j)(e)?(Object(l.a)('Setting prop "options" to an object is deprecated. Use the array format instead.',this.$options.name),Object(c.h)(e).map((function(n){return t.normalizeOption(e[n]||{},n)}))):[]}}})},SNRI:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return h}));var i=n("/lV4"),r=n("GuZl");function o(e){return e/(r.h*r.h)}function a(e){return e/(r.h*r.h*r.h)}function s(e,t=2){const n=Math.abs(e);return n<r.h?[e.toString(),r.d]:n<r.h**2?[(i=e,i/r.h).toFixed(t),r.f]:n<r.h**3?[o(e).toFixed(t),r.g]:[a(e).toFixed(t),r.e];var i}function c(e,t=2){const[n,o]=s(e,t);switch(o){case r.d:return Object(i.h)(Object(i.a)("%{size} B"),{size:n});case r.f:return Object(i.h)(Object(i.a)("%{size} KiB"),{size:n});case r.g:return Object(i.h)(Object(i.a)("%{size} MiB"),{size:n});case r.e:return Object(i.h)(Object(i.a)("%{size} GiB"),{size:n});default:return""}}function u(e,t=1){return e<r.n?e.toString():e<r.n**2?(e/r.n).toFixed(t)+"k":(e/r.n**2).toFixed(t)+"m"}const l=function(e,t){return e===t?0:Math.round((t-e)/Math.abs(e)*100)},d=function(e){return!Number.isNaN(parseInt(e,10))},f=/^[0-9]+$/,h=function(e){return f.test(e)}},"TYq+":function(e,t,n){(e.exports=n("VNgF")(!1)).push([e.i,"\n.file-row {\n  display: flex;\n  align-items: center;\n  height: var(--file-row-height, 32px);\n  padding: 4px 8px;\n  margin-left: -8px;\n  margin-right: -8px;\n  border-radius: 3px;\n  text-align: left;\n  cursor: pointer;\n}\n.file-row-name-container {\n  display: flex;\n  width: 100%;\n  align-items: center;\n  overflow: visible;\n}\n.file-row-name {\n  display: inline-block;\n  flex: 1;\n  max-width: inherit;\n  height: 19px;\n  line-height: 16px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  margin-left: calc(var(--level) * 16px);\n}\n.file-row-name .file-row-icon {\n  margin-right: 2px;\n  vertical-align: middle;\n}\n",""])},WWcN:function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,r="/"===a.charAt(0))}return(r?"/":"")+(t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),a="/"===r(e,-1);return(e=n(i(e.split("/"),(function(e){return!!e})),!o).join("/"))||o||(e="."),e&&a&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var r=i(e.split("/")),o=i(n.split("/")),a=Math.min(r.length,o.length),s=a,c=0;c<a;c++)if(r[c]!==o[c]){s=c;break}var u=[];for(c=s;c<r.length;c++)u.push("..");return(u=u.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,i=-1,r=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!r){i=o;break}}else r=!1;return-1===i?n?"/":".":n&&1===i?"/":e.slice(0,i)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,i=-1,r=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!r){n=t+1;break}}else-1===i&&(r=!1,i=t+1);return-1===i?"":e.slice(n,i)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,i=-1,r=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===i&&(r=!1,i=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!r){n=a+1;break}}return-1===t||-1===i||0===o||1===o&&t===i-1&&t===n+1?"":e.slice(t,i)};var r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("TzVV"))},YeWz:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e,t){return e.map((function(e,t){return[t,e]})).sort(function(e,t){return this(e[1],t[1])||e[0]-t[0]}.bind(t)).map((function(e){return e[1]}))}},aWAA:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},abRe:function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"redirectToUrl",(function(){return Jn})),n.d(i,"init",(function(){return Kn})),n.d(i,"discardAllChanges",(function(){return Qn})),n.d(i,"setResizingStatus",(function(){return Xn})),n.d(i,"createTempEntry",(function(){return Zn})),n.d(i,"addTempImage",(function(){return ei})),n.d(i,"scrollToTab",(function(){return ti})),n.d(i,"stageAllChanges",(function(){return ni})),n.d(i,"unstageAllChanges",(function(){return ii})),n.d(i,"updateViewer",(function(){return ri})),n.d(i,"updateDelayViewerUpdated",(function(){return oi})),n.d(i,"updateActivityBarView",(function(){return ai})),n.d(i,"setEmptyStateSvgs",(function(){return si})),n.d(i,"setCurrentBranchId",(function(){return ci})),n.d(i,"updateTempFlagForEntry",(function(){return ui})),n.d(i,"toggleFileFinder",(function(){return li})),n.d(i,"setLinks",(function(){return di})),n.d(i,"setErrorMessage",(function(){return fi})),n.d(i,"deleteEntry",(function(){return hi})),n.d(i,"resetOpenFiles",(function(){return pi})),n.d(i,"renameEntry",(function(){return mi})),n.d(i,"getBranchData",(function(){return gi})),n.d(i,"toggleTreeOpen",(function(){return cn})),n.d(i,"showTreeEntry",(function(){return un})),n.d(i,"handleTreeEntryAction",(function(){return ln})),n.d(i,"setDirectoryData",(function(){return dn})),n.d(i,"getFiles",(function(){return fn})),n.d(i,"restoreTree",(function(){return hn})),n.d(i,"closeFile",(function(){return pn})),n.d(i,"setFileActive",(function(){return mn})),n.d(i,"getFileData",(function(){return gn})),n.d(i,"getRawFileData",(function(){return vn})),n.d(i,"changeFileContent",(function(){return bn})),n.d(i,"restoreOriginalFile",(function(){return _n})),n.d(i,"discardFileChanges",(function(){return wn})),n.d(i,"stageChange",(function(){return En})),n.d(i,"unstageChange",(function(){return yn})),n.d(i,"openPendingTab",(function(){return Sn})),n.d(i,"removePendingTab",(function(){return Cn})),n.d(i,"triggerFilesChange",(function(){return On})),n.d(i,"setProject",(function(){return In})),n.d(i,"fetchProjectPermissions",(function(){return An})),n.d(i,"refreshLastCommitData",(function(){return kn})),n.d(i,"createNewBranchFromDefault",(function(){return Fn})),n.d(i,"showBranchNotFoundError",(function(){return xn})),n.d(i,"loadEmptyBranch",(function(){return Mn})),n.d(i,"loadFile",(function(){return Ln})),n.d(i,"loadBranch",(function(){return Nn})),n.d(i,"openBranch",(function(){return Dn})),n.d(i,"getMergeRequestsForBranch",(function(){return $n})),n.d(i,"getMergeRequestData",(function(){return qn})),n.d(i,"getMergeRequestChanges",(function(){return Gn})),n.d(i,"getMergeRequestVersions",(function(){return Un})),n.d(i,"openMergeRequestChanges",(function(){return Vn})),n.d(i,"openMergeRequest",(function(){return Hn})),n.d(i,"detectGitlabCiFileAlerts",(function(){return zn})),n.d(i,"detectEnvironmentsGuidance",(function(){return Wn})),n.d(i,"dismissEnvironmentsGuidance",(function(){return Yn}));var r={};n.r(r),n.d(r,"activeFile",(function(){return Ti})),n.d(r,"addedFiles",(function(){return ji})),n.d(r,"modifiedFiles",(function(){return Pi})),n.d(r,"projectsWithTrees",(function(){return Ri})),n.d(r,"currentMergeRequest",(function(){return Ii})),n.d(r,"findProject",(function(){return Ai})),n.d(r,"currentProject",(function(){return ki})),n.d(r,"emptyRepo",(function(){return Fi})),n.d(r,"currentTree",(function(){return xi})),n.d(r,"hasMergeRequest",(function(){return Mi})),n.d(r,"allBlobs",(function(){return Li})),n.d(r,"getChangedFile",(function(){return Ni})),n.d(r,"getStagedFile",(function(){return Di})),n.d(r,"getOpenFile",(function(){return Bi})),n.d(r,"lastOpenedFile",(function(){return $i})),n.d(r,"isEditModeActive",(function(){return qi})),n.d(r,"isCommitModeActive",(function(){return Gi})),n.d(r,"isReviewModeActive",(function(){return Ui})),n.d(r,"someUncommittedChanges",(function(){return Vi})),n.d(r,"getChangesInFolder",(function(){return Hi})),n.d(r,"getUnstagedFilesCountForPath",(function(){return zi})),n.d(r,"getStagedFilesCountForPath",(function(){return Wi})),n.d(r,"lastCommit",(function(){return Yi})),n.d(r,"findBranch",(function(){return Ji})),n.d(r,"currentBranch",(function(){return Ki})),n.d(r,"branchName",(function(){return Qi})),n.d(r,"isOnDefaultBranch",(function(){return Xi})),n.d(r,"canPushToBranch",(function(){return Zi})),n.d(r,"isFileDeletedAndReadded",(function(){return er})),n.d(r,"getDiffInfo",(function(){return tr})),n.d(r,"findProjectPermissions",(function(){return nr})),n.d(r,"findPushRules",(function(){return ir})),n.d(r,"canReadMergeRequests",(function(){return rr})),n.d(r,"canCreateMergeRequests",(function(){return or})),n.d(r,"canPushCodeStatus",(function(){return ar})),n.d(r,"canPushCode",(function(){return sr})),n.d(r,"entryExists",(function(){return cr})),n.d(r,"getAvailableFileName",(function(){return ur})),n.d(r,"getUrlForPath",(function(){return lr})),n.d(r,"getJsonSchemaForPath",(function(){return dr})),n.d(r,"getAlert",(function(){return Ci}));var o={};n.r(o),n.d(o,"requestBranches",(function(){return fr})),n.d(o,"receiveBranchesError",(function(){return hr})),n.d(o,"receiveBranchesSuccess",(function(){return pr})),n.d(o,"fetchBranches",(function(){return mr})),n.d(o,"resetBranches",(function(){return gr}));var a={};n.r(a),n.d(a,"updateCommitMessage",(function(){return br})),n.d(a,"discardDraft",(function(){return _r})),n.d(a,"updateCommitAction",(function(){return wr})),n.d(a,"toggleShouldCreateMR",(function(){return Er})),n.d(a,"updateBranchName",(function(){return yr})),n.d(a,"addSuffixToBranchName",(function(){return Sr})),n.d(a,"setLastCommitMessage",(function(){return Cr})),n.d(a,"updateFilesAfterCommit",(function(){return Or})),n.d(a,"commitChanges",(function(){return Tr}));var s={};n.r(s),n.d(s,"discardDraftButtonDisabled",(function(){return Pr})),n.d(s,"placeholderBranchName",(function(){return Rr})),n.d(s,"branchName",(function(){return Ir})),n.d(s,"preBuiltCommitMessage",(function(){return Ar})),n.d(s,"isCreatingNewBranch",(function(){return kr})),n.d(s,"shouldHideNewMrOption",(function(){return Fr})),n.d(s,"shouldDisableNewMrOption",(function(){return xr})),n.d(s,"shouldCreateMR",(function(){return Mr}));var c={};n.r(c),n.d(c,"updateFileEditor",(function(){return Nr})),n.d(c,"removeFileEditor",(function(){return Dr})),n.d(c,"renameFileEditor",(function(){return Br}));var u={};n.r(u),n.d(u,"activeFileEditor",(function(){return $r}));var l={};n.r(l),n.d(l,"requestTemplateTypes",(function(){return Ur})),n.d(l,"receiveTemplateTypesError",(function(){return Vr})),n.d(l,"receiveTemplateTypesSuccess",(function(){return Hr})),n.d(l,"fetchTemplateTypes",(function(){return zr})),n.d(l,"setSelectedTemplateType",(function(){return Wr})),n.d(l,"receiveTemplateError",(function(){return Yr})),n.d(l,"fetchTemplate",(function(){return Jr})),n.d(l,"setFileTemplate",(function(){return Kr})),n.d(l,"undoFileTemplate",(function(){return Qr}));var d={};n.r(d),n.d(d,"templateTypes",(function(){return Xr})),n.d(d,"showFileTemplatesBar",(function(){return Zr}));var f={};n.r(f),n.d(f,"requestMergeRequests",(function(){return no})),n.d(f,"receiveMergeRequestsError",(function(){return io})),n.d(f,"receiveMergeRequestsSuccess",(function(){return ro})),n.d(f,"fetchMergeRequests",(function(){return oo})),n.d(f,"resetMergeRequests",(function(){return ao}));var h={};n.r(h),n.d(h,"toggleOpen",(function(){return uo})),n.d(h,"open",(function(){return lo})),n.d(h,"close",(function(){return fo}));var p={};n.r(p),n.d(p,"isAliveView",(function(){return ho}));var m={};n.r(m),n.d(m,"clearEtagPoll",(function(){return Eo})),n.d(m,"stopPipelinePolling",(function(){return yo})),n.d(m,"restartPipelinePolling",(function(){return So})),n.d(m,"forcePipelineRequest",(function(){return Co})),n.d(m,"requestLatestPipeline",(function(){return Oo})),n.d(m,"receiveLatestPipelineError",(function(){return To})),n.d(m,"receiveLatestPipelineSuccess",(function(){return jo})),n.d(m,"fetchLatestPipeline",(function(){return Po})),n.d(m,"requestJobs",(function(){return Ro})),n.d(m,"receiveJobsError",(function(){return Io})),n.d(m,"receiveJobsSuccess",(function(){return Ao})),n.d(m,"fetchJobs",(function(){return ko})),n.d(m,"toggleStageCollapsed",(function(){return Fo})),n.d(m,"setDetailJob",(function(){return xo})),n.d(m,"requestJobLogs",(function(){return Mo})),n.d(m,"receiveJobLogsError",(function(){return Lo})),n.d(m,"receiveJobLogsSuccess",(function(){return No})),n.d(m,"fetchJobLogs",(function(){return Do})),n.d(m,"resetLatestPipeline",(function(){return Bo}));var g={};n.r(g),n.d(g,"hasLatestPipeline",(function(){return qo})),n.d(g,"pipelineFailed",(function(){return Go})),n.d(g,"failedStages",(function(){return Uo})),n.d(g,"failedJobsCount",(function(){return Vo})),n.d(g,"jobsCount",(function(){return Ho}));var v={};n.r(v),n.d(v,"push",(function(){return Yo}));var b={};n.r(b),n.d(b,"init",(function(){return Zo})),n.d(b,"hideSplash",(function(){return ea})),n.d(b,"setPaths",(function(){return ta})),n.d(b,"requestConfigCheck",(function(){return fa})),n.d(b,"receiveConfigCheckSuccess",(function(){return ha})),n.d(b,"receiveConfigCheckError",(function(){return pa})),n.d(b,"fetchConfigCheck",(function(){return ma})),n.d(b,"requestRunnersCheck",(function(){return ga})),n.d(b,"receiveRunnersCheckSuccess",(function(){return va})),n.d(b,"receiveRunnersCheckError",(function(){return ba})),n.d(b,"retryRunnersCheck",(function(){return _a})),n.d(b,"fetchRunnersCheck",(function(){return wa})),n.d(b,"requestStartSession",(function(){return Ea})),n.d(b,"receiveStartSessionSuccess",(function(){return ya})),n.d(b,"receiveStartSessionError",(function(){return Sa})),n.d(b,"startSession",(function(){return Ca})),n.d(b,"requestStopSession",(function(){return Oa})),n.d(b,"receiveStopSessionSuccess",(function(){return Ta})),n.d(b,"receiveStopSessionError",(function(){return ja})),n.d(b,"stopSession",(function(){return Pa})),n.d(b,"killSession",(function(){return Ra})),n.d(b,"restartSession",(function(){return Ia})),n.d(b,"pollSessionStatus",(function(){return ka})),n.d(b,"stopPollingSessionStatus",(function(){return Fa})),n.d(b,"receiveSessionStatusSuccess",(function(){return xa})),n.d(b,"receiveSessionStatusError",(function(){return Ma})),n.d(b,"fetchSessionStatus",(function(){return La}));var _={};n.r(_),n.d(_,"allCheck",(function(){return Na}));var w={};n.r(w),n.d(w,"upload",(function(){return Xa})),n.d(w,"stop",(function(){return Za})),n.d(w,"start",(function(){return es}));var E=n("uYOL"),y=n.n(E),S=n("ewH8"),C=n("yi8e"),O=n("BAGK"),T=n("Knu6"),j=n("0KyK"),P=n("NmEs"),R=n("53mm"),I=n("4lAS"),A=n("FkSe"),k=n("/lV4"),F=n("0ch9"),x=n("lnTC"),M=n("sHIo"),L=n("7xOh"),N=Object(L.a)(),D=n("WXKx"),B=n("dsWN"),$={components:{GlAlert:B.a,GlButton:I.a},props:{message:{type:String,required:!0},action:{type:Object,required:!1,default:null}},computed:{hasAction(){var e;return Boolean(null===(e=this.action)||void 0===e?void 0:e.href)},actionButtonMethod(){var e;return null!==(e=this.action)&&void 0!==e&&e.isForm?"post":null}}},q=n("tBpV"),G=Object(q.a)($,(function(){var e=this,t=e._self._c;return t("gl-alert",{attrs:{dismissible:!1},scopedSlots:e._u([e.hasAction?{key:"actions",fn:function(){return[t("gl-button",{attrs:{variant:"confirm",href:e.action.href,"data-method":e.actionButtonMethod}},[e._v("\n      "+e._s(e.action.text)+"\n    ")])]},proxy:!0}:null],null,!0)},[e._v("\n  "+e._s(e.message)+"\n  ")])}),[],!1,null,null,null).exports,U=n("4+8U"),V=n("s1D3"),H=n("Lzak"),z=n("LLbv"),W=n("GuZl"),Y={components:{GlIcon:V.a,GlBadge:H.a},directives:{GlTooltip:z.a},computed:{...Object(C.f)(["currentActivityView","stagedFiles"])},methods:{...Object(C.c)(["updateActivityBarView"]),changedActivityView(e,t){e.currentTarget.blur(),this.updateActivityBarView(t),this.$root.$emit(W.b)}},leftSidebarViews:O.x},J=Object(q.a)(Y,(function(){var e=this,t=e._self._c;return t("nav",{staticClass:"ide-activity-bar",attrs:{"data-testid":"left-sidebar"}},[t("ul",{staticClass:"list-unstyled"},[t("li",[t("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.right.viewport",modifiers:{right:!0,viewport:!0}}],staticClass:"ide-sidebar-link js-ide-edit-mode",class:{active:e.currentActivityView===e.$options.leftSidebarViews.edit.name},attrs:{title:e.s__("IDE|Edit"),"aria-label":e.s__("IDE|Edit"),"data-container":"body","data-placement":"right","data-testid":"edit-mode-button",type:"button"},on:{click:function(t){return t.preventDefault(),e.changedActivityView(t,e.$options.leftSidebarViews.edit.name)}}},[t("gl-icon",{attrs:{name:"code"}})],1)]),e._v(" "),t("li",[t("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.right.viewport",modifiers:{right:!0,viewport:!0}}],staticClass:"ide-sidebar-link js-ide-review-mode",class:{active:e.currentActivityView===e.$options.leftSidebarViews.review.name},attrs:{title:e.s__("IDE|Review"),"aria-label":e.s__("IDE|Review"),"data-container":"body","data-placement":"right","data-testid":"review-mode-button",type:"button"},on:{click:function(t){return t.preventDefault(),e.changedActivityView(t,e.$options.leftSidebarViews.review.name)}}},[t("gl-icon",{attrs:{name:"review-list"}})],1)]),e._v(" "),t("li",[t("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.right.viewport",modifiers:{right:!0,viewport:!0}}],staticClass:"ide-sidebar-link js-ide-commit-mode",class:{active:e.currentActivityView===e.$options.leftSidebarViews.commit.name},attrs:{title:e.s__("IDE|Commit"),"aria-label":e.s__("IDE|Commit"),"data-container":"body","data-placement":"right","data-testid":"commit-mode-button",type:"button"},on:{click:function(t){return t.preventDefault(),e.changedActivityView(t,e.$options.leftSidebarViews.commit.name)}}},[t("gl-icon",{attrs:{name:"commit"}}),e._v(" "),e.stagedFiles.length?t("gl-badge",{staticClass:"gl-absolute gl-px-2 gl-top-3 gl-right-3 gl-font-weight-bold gl-bg-gray-900! gl-text-white!",attrs:{size:"sm"}},[e._v("\n          "+e._s(e.stagedFiles.length)+"\n        ")]):e._e()],1)])])])}),[],!1,null,null,null).exports,K=n("1cpz"),Q=n("Mp8J"),X=n("G3fq"),Z=n.n(X);const ee=/Push.*protected branches.*CODEOWNERS/,te=/changed.*since.*start.*edit/,ne=/branch.*already.*exists/,ie=function(e){return e.dispatch("commit/updateCommitAction","2").then((function(){return e.dispatch("commit/commitChanges")}))},re=function(e){return{title:Object(k.a)("Unexpected error"),messageHTML:Z()(e)||Object(k.a)("Could not commit. An unexpected error occurred.")}},oe=function(e){var t;const{message:n}=(null==e||null===(t=e.response)||void 0===t?void 0:t.data)||{};return n?ee.test(n)?function(e){return{title:Object(k.a)("CODEOWNERS rule violation"),messageHTML:Z()(e),primaryAction:{text:Object(k.a)("Create new branch"),callback:ie}}}(n):te.test(n)?function(e){return{title:Object(k.a)("Branch changed"),messageHTML:`${Z()(e)}<br/><br/>${Object(k.a)("Would you like to create a new branch?")}`,primaryAction:{text:Object(k.a)("Create new branch"),callback:ie}}}(n):ne.test(n)?function(e){return{title:Object(k.a)("Branch already exists"),messageHTML:`${Z()(e)}<br/><br/>${Object(k.a)("Would you like to try auto-generating a branch name?")}`,primaryAction:{text:Object(k.a)("Create new branch"),callback:function(e){return e.dispatch("commit/addSuffixToBranchName").then((function(){return ie(e)}))}}}}(n):re(n):re()};var ae=n("30su"),se=n("SeSR");const{mapActions:ce,mapGetters:ue}=Object(C.a)("commit");var le={components:{GlFormCheckbox:se.a},directives:{GlTooltip:z.a},i18n:{newMrText:Object(k.g)("IDE|Start a new merge request"),tooltipText:Object(k.g)("IDE|This option is disabled because you are not allowed to create merge requests in this project.")},computed:{...ue(["shouldHideNewMrOption","shouldDisableNewMrOption","shouldCreateMR"]),tooltipText(){return this.shouldDisableNewMrOption?this.$options.i18n.tooltipText:null}},methods:{...ce(["toggleShouldCreateMR"])}},de=Object(q.a)(le,(function(){var e=this,t=e._self._c;return e.shouldHideNewMrOption?e._e():t("fieldset",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.tooltipText,expression:"tooltipText"}],staticClass:"js-ide-commit-new-mr",class:{"is-disabled":e.shouldDisableNewMrOption},attrs:{"data-testid":"new-merge-request-fieldset"}},[t("hr",{staticClass:"gl-mt-3 gl-mb-4"}),e._v(" "),t("gl-form-checkbox",{attrs:{disabled:e.shouldDisableNewMrOption,checked:e.shouldCreateMR},on:{change:e.toggleShouldCreateMR}},[t("span",{staticClass:"ide-option-label"},[e._v("\n      "+e._s(e.$options.i18n.newMrText)+"\n    ")])])],1)}),[],!1,null,null,null).exports,fe=n("OQy4"),he=n("4wRe"),pe=n("l5WF"),me=n("PrLL"),ge={components:{GlFormRadio:fe.a,GlFormRadioGroup:he.a,GlFormGroup:pe.a,GlFormInput:me.a},directives:{GlTooltip:z.a},props:{value:{type:String,required:!0},label:{type:String,required:!1,default:null},checked:{type:Boolean,required:!1,default:!1},showInput:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},title:{type:String,required:!1,default:""}},computed:{...Object(C.f)("commit",["commitAction","newBranchName"]),...Object(C.d)("commit",["placeholderBranchName"]),tooltipTitle(){return this.disabled?this.title:""}},methods:{...Object(C.c)("commit",["updateCommitAction","updateBranchName"])}},ve=Object(q.a)(ge,(function(){var e=this,t=e._self._c;return t("fieldset",{staticClass:"gl-mb-2"},[t("gl-form-radio-group",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.tooltipTitle,expression:"tooltipTitle"}],class:{"is-disabled":e.disabled},attrs:{checked:e.commitAction}},[t("gl-form-radio",{attrs:{value:e.value,disabled:e.disabled,name:"commit-action"},on:{change:function(t){return e.updateCommitAction(e.value)}}},[e.label?t("span",{staticClass:"ide-option-label"},[e._v("\n        "+e._s(e.label)+"\n      ")]):e._t("default")],2)],1),e._v(" "),e.commitAction===e.value&&e.showInput?t("gl-form-group",{staticClass:"gl-ml-6 gl-mb-0",attrs:{label:e.placeholderBranchName,"label-sr-only":!0}},[t("gl-form-input",{staticClass:"gl-font-monospace",attrs:{placeholder:e.placeholderBranchName,value:e.newBranchName,disabled:e.disabled,"data-testid":"ide-new-branch-name"},on:{input:function(t){return e.updateBranchName(t)}}})],1):e._e()],1)}),[],!1,null,null,null).exports;const{mapState:be,mapActions:_e}=Object(C.a)("commit");var we={components:{GlSprintf:ae.a,RadioGroup:ve,NewMergeRequestOption:de},computed:{...Object(C.f)(["currentBranchId","changedFiles","stagedFiles"]),...be(["commitAction"]),...Object(C.d)(["currentBranch","emptyRepo","canPushToBranch"]),currentBranchText(){return Z()(this.currentBranchId)},containsStagedChanges(){return this.changedFiles.length>0&&this.stagedFiles.length>0},shouldDefaultToCurrentBranch(){var e;return!!this.emptyRepo||this.canPushToBranch&&!(null!==(e=this.currentBranch)&&void 0!==e&&e.default)}},watch:{containsStagedChanges(){this.updateSelectedCommitAction()}},mounted(){this.commitAction||this.updateSelectedCommitAction()},methods:{..._e(["updateCommitAction"]),updateSelectedCommitAction(){(this.currentBranch||this.emptyRepo)&&(this.shouldDefaultToCurrentBranch?this.updateCommitAction("1"):this.updateCommitAction("2"))}},commitToCurrentBranch:"1",commitToNewBranch:"2",currentBranchPermissionsTooltip:Object(k.g)("IDE|This option is disabled because you don't have write permissions for the current branch.")},Ee=Object(q.a)(we,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gl-mb-5 ide-commit-options"},[t("radio-group",{attrs:{value:e.$options.commitToCurrentBranch,disabled:!e.canPushToBranch,title:e.$options.currentBranchPermissionsTooltip}},[t("span",{staticClass:"ide-option-label"},[t("gl-sprintf",{attrs:{message:e.s__("IDE|Commit to %{branchName} branch")},scopedSlots:e._u([{key:"branchName",fn:function(){return[t("strong",{staticClass:"monospace"},[e._v(e._s(e.currentBranchText))])]},proxy:!0}])})],1)]),e._v(" "),e.emptyRepo?e._e():[t("radio-group",{attrs:{value:e.$options.commitToNewBranch,label:e.__("Create a new branch"),"show-input":!0}}),e._v(" "),t("new-merge-request-option")]],2)}),[],!1,null,null,null).exports,ye=(n("3UXl"),n("iyoE"),n("A7K0")),Se={components:{GlIcon:V.a,GlPopover:ye.a},props:{text:{type:String,required:!0},placeholder:{type:String,required:!0}},data:()=>({scrollTop:0,isFocused:!1}),computed:{allLines(){var e=this;return this.text.split("\n").map((function(t,n){return{text:t.substr(0,e.getLineLength(n))||" ",highlightedText:t.substr(e.getLineLength(n))}}))}},methods:{handleScroll(){var e=this;this.$refs.textarea&&this.$nextTick((function(){e.scrollTop=e.$refs.textarea.scrollTop}))},getLineLength:e=>0===e?O.h:O.f,onInput(e){this.$emit("input",e.target.value)},onCtrlEnter(){this.isFocused&&this.$emit("submit")},updateIsFocused(e){this.isFocused=e}},popoverOptions:{triggers:"hover",placement:"top",content:Object(k.h)(Object(k.a)("\n        The character highlighter helps you keep the subject line to %{titleLength} characters\n        and wrap the body at %{bodyLength} so they are readable in git.\n      "),{titleLength:O.h,bodyLength:O.f})}},Ce=Object(q.a)(Se,(function(){var e=this,t=e._self._c;return t("fieldset",{staticClass:"common-note-form ide-commit-message-field"},[t("div",{staticClass:"md-area",class:{"is-focused":e.isFocused}},[e._m(0),e._v(" "),t("div",{staticClass:"ide-commit-message-textarea-container"},[t("div",{staticClass:"ide-commit-message-highlights-container"},[t("div",{staticClass:"note-textarea highlights monospace",style:{transform:`translate3d(0, ${-e.scrollTop}px, 0)`}},e._l(e.allLines,(function(n,i){return t("div",{key:i},[t("span",{domProps:{textContent:e._s(n.text)}}),t("mark",{directives:[{name:"show",rawName:"v-show",value:n.highlightedText,expression:"line.highlightedText"}],domProps:{textContent:e._s(n.highlightedText)}})])})),0)]),e._v(" "),t("textarea",{ref:"textarea",staticClass:"note-textarea ide-commit-message-textarea",attrs:{placeholder:e.placeholder,dir:"auto",name:"commit-message"},domProps:{value:e.text},on:{scroll:e.handleScroll,input:e.onInput,focus:function(t){return e.updateIsFocused(!0)},blur:function(t){return e.updateIsFocused(!1)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.onCtrlEnter.apply(null,arguments):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?e.onCtrlEnter.apply(null,arguments):null}]}})])])])}),[function(){var e=this._self._c;return e("div",{staticClass:"md-header"},[e("ul",{staticClass:"nav-links"},[e("li",[this._v("\n          "+this._s(this.__("Commit Message"))+"\n          "),e("div",{attrs:{id:"ide-commit-message-popover-container"}},[e("span",{staticClass:"form-text text-muted gl-ml-3",attrs:{id:"ide-commit-message-question"}},[e("gl-icon",{attrs:{name:"question-o"}})],1),this._v(" "),e("gl-popover",this._b({attrs:{target:"ide-commit-message-question",container:"ide-commit-message-popover-container"}},"gl-popover",this.$options.popoverOptions,!1))],1)])])])}],!1,null,null,null).exports,Oe={directives:{SafeHtml:Q.a},computed:{...Object(C.f)(["lastCommitMsg","committedStateSvgPath"])}},Te={components:{Actions:Ee,CommitMessageField:Ce,SuccessMessage:Object(q.a)(Oe,(function(){var e=this._self._c;return e("div",{staticClass:"multi-file-commit-panel-success-message",attrs:{"aria-live":"assertive"}},[e("div",{staticClass:"svg-content svg-80"},[e("img",{attrs:{src:this.committedStateSvgPath,alt:this.s__("IDE|Successful commit")}})]),this._v(" "),e("div",{staticClass:"gl-mr-3 gl-ml-3"},[e("div",{staticClass:"text-content text-center"},[e("h4",[this._v(this._s(this.__("All changes are committed")))]),this._v(" "),e("p",{directives:[{name:"safe-html",rawName:"v-safe-html",value:this.lastCommitMsg,expression:"lastCommitMsg"}]})])])])}),[],!1,null,null,null).exports,GlModal:K.a,GlButton:I.a},directives:{SafeHtml:Q.a,GlTooltip:z.a},data:()=>({isCompact:!0,componentHeight:null,lastCommitError:re()}),computed:{...Object(C.f)(["changedFiles","stagedFiles","currentActivityView","lastCommitMsg"]),...Object(C.f)("commit",["commitMessage","submitCommitLoading","commitError"]),...Object(C.d)(["someUncommittedChanges","canPushCodeStatus"]),...Object(C.d)("commit",["discardDraftButtonDisabled","preBuiltCommitMessage"]),commitButtonDisabled(){return!this.canPushCodeStatus.isAllowed||!this.someUncommittedChanges},commitButtonTooltip(){return this.canPushCodeStatus.isAllowed?"":this.canPushCodeStatus.messageShort},overviewText(){return Object(k.f)("%d changed file","%d changed files",this.stagedFiles.length)},currentViewIsCommitView(){return this.currentActivityView===O.x.commit.name},commitErrorPrimaryAction(){var e;const{primaryAction:t}=this.lastCommitError||{};return{button:t?{text:t.text}:void 0,callback:(null==t||null===(e=t.callback)||void 0===e?void 0:e.bind(this,this.$store))||function(){}}}},watch:{currentActivityView:"handleCompactState",someUncommittedChanges:"handleCompactState",lastCommitMsg:"handleCompactState",commitError(e){e&&(this.lastCommitError=e,this.$refs.commitErrorModal.show())}},methods:{...Object(C.c)(["updateActivityBarView"]),...Object(C.c)("commit",["updateCommitMessage","discardDraft","commitChanges","updateCommitAction"]),commit(){return!!this.canPushCodeStatus.isAllowed&&this.commitChanges()},handleCompactState(){this.lastCommitMsg?this.isCompact=!1:this.isCompact=!this.someUncommittedChanges||!this.currentViewIsCommitView||window.innerHeight<O.i},toggleIsCompact(){this.isCompact=!this.isCompact},beginCommit(){var e=this;return this.updateActivityBarView(O.x.commit.name).then((function(){e.isCompact=!1}))},beforeEnterTransition(){const e=this.isCompact?this.$refs.formEl&&this.$refs.formEl.offsetHeight:this.$refs.compactEl&&this.$refs.compactEl.offsetHeight;this.componentHeight=e},enterTransition(){var e=this;this.$nextTick((function(){const t=e.isCompact?e.$refs.compactEl&&e.$refs.compactEl.offsetHeight:e.$refs.formEl&&e.$refs.formEl.offsetHeight;e.componentHeight=t}))},afterEndTransition(){this.componentHeight=null}}},je=Object(q.a)(Te,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"multi-file-commit-form",class:{"is-compact":e.isCompact,"is-full":!e.isCompact},style:{height:e.componentHeight?e.componentHeight+"px":null}},[t("transition",{attrs:{name:"commit-form-slide-up"},on:{"before-enter":e.beforeEnterTransition,enter:e.enterTransition,"after-enter":e.afterEndTransition}},[e.isCompact?t("div",{ref:"compactEl",staticClass:"commit-form-compact"},[t("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{title:e.commitButtonTooltip},expression:"{ title: commitButtonTooltip }"}],attrs:{"data-testid":"begin-commit-button-tooltip"}},[t("gl-button",{attrs:{disabled:e.commitButtonDisabled,category:"primary",variant:"confirm",block:"","data-testid":"begin-commit-button"},on:{click:e.beginCommit}},[e._v("\n          "+e._s(e.__("Create commit..."))+"\n        ")])],1),e._v(" "),t("p",{staticClass:"text-center bold"},[e._v(e._s(e.overviewText))])]):t("form",{ref:"formEl",on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.commit.apply(null,arguments)}}},[t("transition",{attrs:{name:"fade"}},[t("success-message",{directives:[{name:"show",rawName:"v-show",value:e.lastCommitMsg,expression:"lastCommitMsg"}]})],1),e._v(" "),t("commit-message-field",{attrs:{text:e.commitMessage,placeholder:e.preBuiltCommitMessage},on:{input:e.updateCommitMessage,submit:e.commit}}),e._v(" "),t("div",{staticClass:"clearfix gl-mt-5"},[t("actions"),e._v(" "),t("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{title:e.commitButtonTooltip},expression:"{ title: commitButtonTooltip }"}],staticClass:"float-left",attrs:{"data-testid":"commit-button-tooltip"}},[t("gl-button",{attrs:{disabled:e.commitButtonDisabled,loading:e.submitCommitLoading,"data-testid":"commit-button",category:"primary",variant:"confirm",type:"submit"}},[e._v("\n            "+e._s(e.__("Commit"))+"\n          ")])],1),e._v(" "),e.discardDraftButtonDisabled?t("gl-button",{staticClass:"float-right",attrs:{type:"button",category:"secondary",variant:"default"},on:{click:e.toggleIsCompact}},[e._v("\n          "+e._s(e.__("Collapse"))+"\n        ")]):t("gl-button",{staticClass:"float-right",attrs:{"data-testid":"discard-draft"},on:{click:e.discardDraft}},[e._v("\n          "+e._s(e.__("Discard draft"))+"\n        ")])],1),e._v(" "),t("gl-modal",{ref:"commitErrorModal",attrs:{"modal-id":"ide-commit-error-modal",title:e.lastCommitError.title,"action-primary":e.commitErrorPrimaryAction.button,"action-cancel":{text:e.__("Cancel")}},on:{ok:e.commitErrorPrimaryAction.callback}},[t("div",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.lastCommitError.messageHTML,expression:"lastCommitError.messageHTML"}]})])],1)])],1)}),[],!1,null,null,null).exports,Pe={components:{ProjectAvatar:n("3lQS").a},props:{project:{type:Object,required:!0}}},Re=Object(q.a)(Pe,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"context-header ide-context-header"},[t("a",{attrs:{href:e.project.web_url,title:e.s__("IDE|Go to project"),"data-testid":"go-to-project-link"}},[t("project-avatar",{attrs:{"project-id":e.project.id,"project-name":e.project.name,"project-avatar-url":e.project.avatar_url,size:48}}),e._v(" "),t("span",{staticClass:"ide-sidebar-project-title"},[t("span",{staticClass:"sidebar-context-title"},[e._v(" "+e._s(e.project.name)+" ")]),e._v(" "),t("span",{staticClass:"sidebar-context-title text-secondary"},[e._v("\n        "+e._s(e.project.path_with_namespace)+"\n      ")])])],1)])}),[],!1,null,null,null).exports,Ie=n("qzKX"),Ae=n("oGNu"),ke=n("okJA"),Fe={components:{Upload:n("HLGc").a,IdeTreeList:Ie.a,NewEntryButton:Ae.a,NewModal:ke.default},computed:{...Object(C.f)(["currentBranchId"]),...Object(C.d)(["currentProject","currentTree","activeFile","getUrlForPath"])},mounted(){this.initialize()},activated(){this.initialize()},methods:{...Object(C.c)(["updateViewer","createTempEntry","resetOpenFiles"]),createNewFile(){this.$refs.newModal.open(O.y.blob)},createNewFolder(){this.$refs.newModal.open(O.y.tree)},initialize(){var e=this;this.$nextTick((function(){e.updateViewer(O.B.edit)})),this.activeFile&&(this.activeFile.pending&&!this.activeFile.deleted?this.$router.push(this.getUrlForPath(this.activeFile.path),(function(){e.updateViewer(O.B.edit)})):this.activeFile.deleted&&this.resetOpenFiles())}}},xe=Object(q.a)(Fe,(function(){var e=this,t=e._self._c;return t("ide-tree-list",{on:{"tree-ready":function(t){return e.$emit("tree-ready")}},scopedSlots:e._u([{key:"header",fn:function(){return[e._v("\n    "+e._s(e.__("Edit"))+"\n    "),t("div",{staticClass:"ide-tree-actions gl-ml-auto gl-display-flex",attrs:{"data-testid":"ide-root-actions"}},[t("new-entry-button",{staticClass:"gl-display-flex gl-border-0 gl-p-0 gl-mr-5",attrs:{label:e.__("New file"),"show-label":!1,icon:"doc-new"},on:{click:function(t){return e.createNewFile()}}}),e._v(" "),t("upload",{staticClass:"gl-display-flex gl-mr-5",attrs:{"show-label":!1,"button-css-classes":"gl-border-0 gl-p-0"},on:{create:e.createTempEntry}}),e._v(" "),t("new-entry-button",{staticClass:"gl-display-flex gl-border-0 gl-p-0",attrs:{label:e.__("New directory"),"show-label":!1,icon:"folder-new"},on:{click:function(t){return e.createNewFolder()}}})],1),e._v(" "),t("new-modal",{ref:"newModal"})]},proxy:!0}])})}),[],!1,null,null,null).exports,Me=n("wFQQ"),Le={components:{GlSkeletonLoader:U.a,ResizablePanel:Me.a,ActivityBar:J,IdeTree:xe,[O.x.review.name]:function(){return Promise.all([n.e(200),n.e(781),n.e(420)]).then(n.bind(null,"LgRL"))},[O.x.commit.name]:function(){return Promise.all([n.e(200),n.e(781),n.e(420)]).then(n.bind(null,"nn2Q"))},CommitForm:je,IdeProjectHeader:Re},computed:{...Object(C.f)(["loading","currentActivityView","changedFiles","stagedFiles","lastCommitMsg"]),...Object(C.d)(["currentProject","someUncommittedChanges"])},SIDEBAR_INIT_WIDTH:O.n},Ne=Object(q.a)(Le,(function(){var e=this,t=e._self._c;return t("resizable-panel",{staticClass:"multi-file-commit-panel flex-column",attrs:{"initial-width":e.$options.SIDEBAR_INIT_WIDTH,side:"left"}},[e.loading?[t("div",{staticClass:"multi-file-commit-panel-inner",attrs:{"data-testid":"ide-side-bar-inner"}},e._l(3,(function(e){return t("div",{key:e,staticClass:"multi-file-loading-container"},[t("gl-skeleton-loader")],1)})),0)]:[t("ide-project-header",{attrs:{project:e.currentProject}}),e._v(" "),t("div",{staticClass:"ide-context-body d-flex flex-fill"},[t("activity-bar"),e._v(" "),t("div",{staticClass:"multi-file-commit-panel-inner",attrs:{"data-testid":"ide-side-bar-inner"}},[t("div",{staticClass:"multi-file-commit-panel-inner-content"},[t("keep-alive",[t(e.currentActivityView,{tag:"component",on:{"tree-ready":function(t){return e.$emit("tree-ready")}}})],1)],1),e._v(" "),t("commit-form")],1)],1)]],2)}),[],!1,null,null,null).exports,De=n("Tmea"),Be=n.n(De),$e=(n("E7T3"),n("pbPB")),qe=n("sF+2"),Ge=n("cm1E"),Ue=n("5HJU"),Ve=(n("ZzK0"),n("z6RN"),n("BzOf"),n("RFHG"),n("xuo1"),n("MCZX"));n("dHQd"),n("yoDG"),n("tWNI"),n("8d6S"),n("VwWG"),n("IYHS"),n("MViX"),n("GDOA"),n("a0mT"),n("ta8/"),n("IKCR"),n("nmTw"),n("W2kU"),n("58fc"),n("Rhav"),n("eppl");class He{constructor(){this.disposers=new Set}add(...e){var t=this;e.forEach((function(e){return t.disposers.add(e)}))}dispose(){this.disposers.forEach((function(e){return e.dispose()})),this.disposers.clear()}}var ze=n("FLj1"),We=n("muR1");const Ye=function(e){return e.getEditorType()===Ge.n},Je={modelManager:void 0,store:void 0,file:void 0,options:{}},Ke=function(e){var t;e.updateOptions({renderSideBySide:(t=e.getDomNode(),t.offsetWidth>=700)})};class Qe{static get extensionName(){return"EditorWebIde"}onSetup(e,t=Je){var n=this;this.modelManager=t.modelManager,this.store=t.store,this.file=t.file,this.options=t.options,this.disposable=new He,function(e,t){const n=function(e){return 0===e.indexOf("KEY_")?Ve.KeyCode[e]:Ve.KeyMod[e]};We.forEach((function(i){const{bindings:r,id:o,label:a,action:s}=i,c=r.map((function(e){const t=e.split("+");return t.length>1?n(t[0])|n(t[1]):n(t[0])}));e.addAction({id:o,label:a,keybindings:c,run:()=>(t.dispatch(s.name,s.params),null)})}))}(e,t.store),Ye(e)&&(Ke(e),e.getModifiedEditor().onDidLayoutChange((function(){Ke(e)}))),e.onDidDispose((function(){n.onUnuse()}))}onUnuse(){try{this.disposable.dispose()}catch(e){console.error(e)}}provides(){var e=this;return{createModel:function(t,n,i=null){return e.modelManager.addModel(n,i)},attachModel:function(e,t){Ye(e)?e.setModel({original:t.getOriginalModel(),modified:t.getModel()}):(e.setModel(t.getModel()),e.updateOptions(ze.d.reduce((function(e,n){return Object.keys(n).forEach((function(i){Object.assign(e,{[i]:n[i](t)})})),e}),{})))},attachMergeRequestModel:function(e,t){e.setModel({original:t.getBaseModel(),modified:t.getModel()})},setPos:function(e,{lineNumber:t,column:n}){e.revealPositionInCenter({lineNumber:t,column:n}),e.setPosition({lineNumber:t,column:n})},onPositionChange:function(t,n){"function"==typeof t.onDidChangeCursorPosition&&e.disposable.add(t.onDidChangeCursorPosition((function(e){return n(t,e)})))},replaceSelectedText:function(e,t){let n=e.getSelection();const i=new Ve.Range(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn);e.executeEdits("",[{range:i,text:t}]),n=e.getSelection(),e.setPosition({lineNumber:n.endLineNumber,column:n.endColumn})}}}}var Xe=n("E5P7"),Ze=n("jlnU"),et=(n("Tznw"),n("IYH6"),n("6yen"),n("OeRx"),n("l/dT"),n("RqS2"),n("Zy7a"),n("cjZU"),n("OAhk"),n("X42P"),n("mHhP"),n("fn0I"),n("UB/6"),n("imhG"),n("0AwG"));class tt{constructor(e,t=null){this.disposable=new He,this.file=e,this.head=t,this.content=""!==e.content||e.deleted?e.content:e.raw,this.options={...ze.c},this.disposable.add(this.originalModel=Ve.editor.createModel(t?t.content:this.file.raw,void 0,new Ve.Uri("gitlab",!1,"original/"+this.path)),this.model=Ve.editor.createModel(this.content,void 0,new Ve.Uri("gitlab",!1,this.path))),this.file.mrChange&&this.disposable.add(this.baseModel=Ve.editor.createModel(this.file.baseRaw,void 0,new Ve.Uri("gitlab",!1,"target/"+this.path))),this.events=new Set,this.updateContent=this.updateContent.bind(this),this.updateNewContent=this.updateNewContent.bind(this),this.dispose=this.dispose.bind(this),N.$on("editor.update.model.dispose."+this.file.key,this.dispose),N.$on("editor.update.model.content."+this.file.key,this.updateContent),N.$on("editor.update.model.new.content."+this.file.key,this.updateNewContent)}get url(){return this.model.uri.toString()}get language(){return this.model.getLanguageId()}get path(){return this.file.key}getModel(){return this.model}getOriginalModel(){return this.originalModel}getBaseModel(){return this.baseModel}setValue(e){this.getModel().setValue(e)}onChange(e){var t=this;this.events.add(this.disposable.add(this.model.onDidChangeContent((function(n){return e(t,n)}))))}onDispose(e){this.events.add(e)}updateContent({content:e,changed:t}){this.getOriginalModel().setValue(e),t||this.getModel().setValue(e)}updateNewContent(e){this.getModel().setValue(e)}updateOptions(e={}){Object.assign(this.options,e),this.model.updateOptions(e),this.applyCustomOptions()}applyCustomOptions(){var e=this;this.updateNewContent(Object.entries(this.options).reduce((function(t,[n,i]){switch(n){case"endOfLine":return e.model.pushEOL(i),e.model.getValue();case"insertFinalNewline":return i?Object(et.s)(t):t;case"trimTrailingWhitespace":return i?Object(D.k)(t):t;default:return t}}),this.model.getValue()))}dispose(){this.model.isDisposed()||this.applyCustomOptions(),this.events.forEach((function(e){"function"==typeof e&&e()})),this.events.clear(),N.$off("editor.update.model.dispose."+this.file.key,this.dispose),N.$off("editor.update.model.content."+this.file.key,this.updateContent),N.$off("editor.update.model.new.content."+this.file.key,this.updateNewContent),this.disposable.dispose()}}class nt{constructor(){this.disposable=new He,this.models=new Map}hasCachedModel(e){return this.models.has(e)}getModel(e){return this.models.get(e)}addModel(e,t=null){if(this.hasCachedModel(e.key))return this.getModel(e.key);const n=new tt(e,t);return this.models.set(n.path,n),this.disposable.add(n),N.$on("editor.update.model.dispose."+e.key,this.removeCachedModel.bind(this,e)),n}removeCachedModel(e){this.models.delete(e.key),N.$off("editor.update.model.dispose."+e.key,this.removeCachedModel)}dispose(){this.disposable.dispose(),this.models.clear()}}var it=n("CdyC"),rt=n("JCWm"),ot=n("pJDX"),at=n.n(ot),st=n("2ibD"),ct=n("EJYk");const{CancelToken:ut}=st.a;let lt;var dt={components:{GlSkeletonLoader:U.a},directives:{SafeHtml:Q.a},props:{content:{type:String,required:!0},commitSha:{type:String,required:!1,default:""},filePath:{type:String,required:!1,default:""},projectPath:{type:String,required:!0},images:{type:Object,required:!1,default:function(){return{}}}},data:()=>({previewContent:null,isLoading:!1}),watch:{content(){this.previewContent=null}},created(){lt=ut.source(),this.fetchMarkdownPreview()},updated(){this.fetchMarkdownPreview()},destroyed(){this.isLoading&&lt.cancel(Object(k.a)("Cancelling Preview"))},methods:{fetchMarkdownPreview(){var e=this;if(this.content&&null===this.previewContent){this.isLoading=!0;const t={text:this.content,path:this.filePath};this.commitSha&&(t.ref=this.commitSha);const n={cancelToken:lt.token};st.a.post(`${gon.relative_url_root}/${this.projectPath}/preview_markdown`,t,n).then((function({data:t}){let n=t.body;at()(e.images,(function({src:e,title:t="",alt:i},r){n=n.replace(r,`<img src="${Z()(e)}" title="${Z()(t)}" alt="${Z()(i)}">`)})),e.previewContent=n,e.isLoading=!1,e.$nextTick((function(){Object(ct.a)(e.$refs.markdownPreview)}))})).catch((function(){e.previewContent=Object(k.a)("An error occurred while fetching Markdown preview"),e.isLoading=!1}))}}},safeHtmlConfig:{ADD_TAGS:["gl-emoji","use"]}},ft={components:{MarkdownViewer:Object(q.a)(dt,(function(){var e=this._self._c;return e("div",{ref:"markdownPreview",staticClass:"md-previewer",attrs:{"data-testid":"md-previewer"}},[this.isLoading?e("gl-skeleton-loader"):e("div",{directives:[{name:"safe-html",rawName:"v-safe-html:[$options.safeHtmlConfig]",value:this.previewContent,expression:"previewContent",arg:this.$options.safeHtmlConfig}],staticClass:"md gl-ml-auto gl-mr-auto"})],1)}),[],!1,null,null,null).exports,ImageViewer:rt.a,DownloadViewer:it.a},props:{content:{type:[String,ArrayBuffer],default:"",required:!1},path:{type:String,required:!0},fileSize:{type:Number,required:!1,default:0},filePath:{type:String,required:!1,default:""},commitSha:{type:String,required:!1,default:""},projectPath:{type:String,required:!1,default:""},type:{type:String,required:!1,default:""},images:{type:Object,required:!1,default:function(){return{}}}}},ht=Object(q.a)(ft,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"preview-container"},["image"===e.type?t("image-viewer",{attrs:{path:e.path,"file-size":e.fileSize}}):e._e(),e._v(" "),"markdown"===e.type?t("markdown-viewer",{attrs:{content:e.content,"commit-sha":e.commitSha,"file-path":e.filePath,"project-path":e.projectPath,images:e.images}}):e._e(),e._v(" "),!e.type&&e.path?t("download-viewer",{attrs:{path:e.path,"file-path":e.filePath,"file-size":e.fileSize}}):e._e()],1)}),[],!1,null,null,null).exports;n("FMw2");const pt={image:{id:"image",binary:!0},markdown:{id:"markdown",previewTitle:Object(k.a)("Preview Markdown")}},mt={},gt={jpg:"image",jpeg:"image",gif:"image",png:"image",bmp:"image",ico:"image",md:"markdown",markdown:"markdown"};var vt=n("x/Tb"),bt=n("opdT");n("aFm2"),n("R9qC"),n("UezY"),n("hG7+");var _t=n("bOZG"),wt=n("QrI9"),Et=n.n(wt);function yt(e,t=[],n={}){if(!t.length)return n;const[{content:i,path:r},...o]=t,a=r.replace(/\.editorconfig$/,"");if(!e.startsWith(a))return n;const s=Object(_t.parseString)(i),c=s.some((function([e,t]){return!e&&"true"===(null==t?void 0:t.root)}));const u=e.slice(a.length),l=s.reduce((function(e,t){return Object.assign(e,function(e,[t,n]){return t&&Et()(e,t,{matchBase:!0})?n:{}}(u,t))}),{}),d=Object.assign(l,n);return c?d:yt(e,o,d)}var St=n("6npM"),Ct=n.n(St),Ot=n("6hmS"),Tt=n.n(Ot);const jt=function(e,t){return function(n){return n in t?{[e]:t[n]}:{}}},Pt=function(e){return function(t){return Tt()(t)?{[e]:t}:{}}},Rt=function(e,t){return function(n){return Ct()(n)&&t(n)?{[e]:Math.trunc(n)}:{}}},It={indent_style:jt("insertSpaces",{tab:!1,space:!0}),indent_size:Rt("tabSize",(function(e){return e>0})),tab_width:Rt("tabSize",(function(e){return e>0})),trim_trailing_whitespace:Pt("trimTrailingWhitespace"),end_of_line:jt("endOfLine",{crlf:1,lf:0}),insert_final_newline:Pt("insertFinalNewline")};function At(e){return Object.entries(e).reduce((function(e,[t,n]){var i;return Object.assign(e,(null===(i=It[t])||void 0===i?void 0:i.call(It,function(e){let t="string"==typeof e?e.toLowerCase():e;return/^[0-9.-]+$/.test(t)&&(t=Number(t)),"true"===t&&(t=!0),"false"===t&&(t=!1),t}(n)))||{})}),{})}const kt=function(e,t){return e[t]||{editorRow:1,editorColumn:1,fileLanguage:"",viewMode:O.c}};var Ft=n("p+Ex"),xt=(n("B++/"),n("47t/"),n("MV2A")),Mt=n("qLpH"),Lt={components:{GlSprintf:ae.a,GlLink:xt.a},message:Object(k.a)("No deployments detected. Use environments to control your software's continuous deployment. %{linkStart}Learn more about deployment jobs.%{linkEnd}"),computed:{helpLink:()=>Object(Mt.a)("ci/environments/index.md")}},Nt=Object(q.a)(Lt,(function(){var e=this,t=e._self._c;return t("span",[t("gl-sprintf",{attrs:{message:e.$options.message},scopedSlots:e._u([{key:"link",fn:function({content:n}){return[t("gl-link",{attrs:{href:e.helpLink,target:"_blank","data-track-action":"click_link","data-track-experiment":"in_product_guidance_environments_webide"}},[e._v(e._s(n))])]}}])})],1)}),[],!1,null,null,null).exports;const Dt=[{key:Symbol("ALERT_ENVIRONMENT"),show:function(e,t){return e.currentActivityView===O.x.commit.name&&Object(P.u)(t.path)&&e.environmentsGuidanceAlertDetected&&!e.environmentsGuidanceAlertDismissed},props:{variant:"tip"},dismiss:function({dispatch:e}){return e("dismissEnvironmentsGuidance")},message:Nt}];var Bt={components:{GlAlert:B.a},props:{alertKey:{type:Symbol,required:!0}},computed:{alert(){return e=this.alertKey,Dt.find((function(t){return t.key===e}));var e}}},$t=Object(q.a)(Bt,(function(){var e=this,t=e._self._c;return t("gl-alert",e._b({on:{dismiss:function(t){return e.alert.dismiss(e.$store)}}},"gl-alert",e.alert.props,!1),[t(e.alert.message,{tag:"component"})],1)}),[],!1,null,null,null).exports,qt=n("Yyc1"),Gt=n("wP8z"),Ut=n("iN9h");var Vt={i18n:{barLabel:Object(k.a)("File templates"),templateListDropdownLabel:Object(k.a)("Choose a template..."),templateTypesDropdownLabel:Object(k.a)("Choose a type..."),undoButtonText:Object(k.a)("Undo")},components:{GlButton:I.a,GlDropdown:qt.a,GlDropdownItem:Gt.a,GlLoadingIcon:A.a,GlSearchBoxByType:Ut.a},data:()=>({search:""}),computed:{...Object(C.d)(["activeFile"]),...Object(C.d)("fileTemplates",["templateTypes"]),...Object(C.f)("fileTemplates",["selectedTemplateType","updateSuccess","templates","isLoading"]),filteredTemplateTypes(){var e=this;return this.templates.filter((function(t){return t.name.toLowerCase().includes(e.search.toLowerCase())}))},showTemplatesDropdown(){return Object.keys(this.selectedTemplateType).length>0}},watch:{activeFile:"setInitialType"},mounted(){this.setInitialType()},methods:{...Object(C.c)("fileTemplates",["setSelectedTemplateType","fetchTemplate","fetchTemplateTypes","undoFileTemplate"]),setInitialType(){var e=this;const t=this.templateTypes.find((function(t){return t.name===e.activeFile.name}));t&&this.setSelectedTemplateType(t)},selectTemplateType(e){this.setSelectedTemplateType(e)},selectTemplate(e){this.fetchTemplate(e)},undo(){this.undoFileTemplate()}}},Ht=Object(q.a)(Vt,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gl-display-flex gl-align-items-center ide-file-templates gl-relative gl-z-index-1",attrs:{"data-testid":"file-templates-bar"}},[t("strong",{staticClass:"gl-mr-3"},[e._v(" "+e._s(e.$options.i18n.barLabel)+" ")]),e._v(" "),t("gl-dropdown",{staticClass:"gl-mr-6",attrs:{text:e.selectedTemplateType.name||e.$options.i18n.templateTypesDropdownLabel}},e._l(e.templateTypes,(function(n){return t("gl-dropdown-item",{key:n.key,on:{click:function(t){return t.preventDefault(),e.selectTemplateType(n)}}},[e._v("\n      "+e._s(n.name)+"\n    ")])})),1),e._v(" "),e.showTemplatesDropdown?t("gl-dropdown",{staticClass:"gl-mr-6",attrs:{text:e.$options.i18n.templateListDropdownLabel},on:{show:e.fetchTemplateTypes},scopedSlots:e._u([{key:"header",fn:function(){return[t("gl-search-box-by-type",{model:{value:e.search,callback:function(t){e.search="string"==typeof t?t.trim():t},expression:"search"}})]},proxy:!0}],null,!1,2265310448)},[e._v(" "),t("div",[e.isLoading?t("gl-loading-icon"):e._l(e.filteredTemplateTypes,(function(n){return t("gl-dropdown-item",{key:n.key,on:{click:function(t){return e.selectTemplate(n)}}},[e._v("\n          "+e._s(n.name)+"\n        ")])}))],2)]):e._e(),e._v(" "),t("transition",{attrs:{name:"fade"}},[t("gl-button",{directives:[{name:"show",rawName:"v-show",value:e.updateSuccess,expression:"updateSuccess"}],attrs:{category:"secondary",variant:"default"},on:{click:e.undo}},[e._v("\n      "+e._s(e.$options.i18n.undoButtonText)+"\n    ")])],1)],1)}),[],!1,null,null,null).exports;var zt={name:"RepoEditor",components:{GlTabs:$e.a,GlTab:qe.a,FileAlert:$t,ContentViewer:ht,DiffViewer:vt.a,FileTemplatesBar:Ht},props:{file:{type:Object,required:!0}},data:()=>({content:"",images:{},rules:{},globalEditor:null,modelManager:Object(bt.a)(new nt),isEditorLoading:!0,unwatchCiYaml:null,SELivepreviewExtension:null,MarkdownLivePreview:null}),computed:{...Object(C.f)("rightPane",{rightPaneIsOpen:"isOpen"}),...Object(C.f)("editor",["fileEditors"]),...Object(C.f)(["viewer","panelResizing","currentActivityView","renderWhitespaceInCode","editorTheme","entries","currentProjectId","previewMarkdownPath"]),...Object(C.d)(["getAlert","currentMergeRequest","getStagedFile","isEditModeActive","isCommitModeActive","currentBranch","getJsonSchemaForPath"]),...Object(C.d)("fileTemplates",["showFileTemplatesBar"]),alertKey(){return this.getAlert(this.file)},fileEditor(){return kt(this.fileEditors,this.file.path)},isBinaryFile(){return!Object(D.e)(this.file)},shouldHideEditor(){return this.file&&!this.file.loading&&this.isBinaryFile},showContentViewer(){return(this.shouldHideEditor||this.isPreviewViewMode)&&(this.viewer!==O.B.mr||!this.file.mrChange)},showDiffViewer(){return this.shouldHideEditor&&this.file.mrChange&&this.viewer===O.B.mr},isEditorViewMode(){return this.fileEditor.viewMode===O.c},isPreviewViewMode(){return this.fileEditor.viewMode===O.d},showEditor(){return!this.shouldHideEditor&&this.isEditorViewMode},editorOptions(){return{renderWhitespace:this.renderWhitespaceInCode?"all":"none",theme:this.editorTheme}},currentBranchCommit(){var e;return null===(e=this.currentBranch)||void 0===e?void 0:e.commit.id},previewMode(){return function(e){if(!e)return null;const t=e.split("/").pop(),n=t.includes(".")&&t.split(".").pop();return pt[mt[t]||gt[n]]}(this.file.path)},fileType(){var e;return(null===(e=this.previewMode)||void 0===e?void 0:e.id)||""},showTabs(){return!this.shouldHideEditor&&this.isEditModeActive&&this.previewMode},isCiConfigFile(){var e;return Object(P.p)(this.file.path)&&(null===(e=this.editor)||void 0===e?void 0:e.getEditorType())===Ge.m}},watch:{"file.name":{handler(){this.stopWatchingCiYaml(),Object(P.u)(this.file.name)&&this.startWatchingCiYaml()},immediate:!0},file(e,t){t.pending&&this.removePendingTab(t),t.key!==this.file.key&&(this.isEditorLoading=!0,this.initEditor(),this.currentActivityView!==O.x.edit.name&&this.updateEditor({viewMode:O.c}))},currentActivityView(){this.currentActivityView!==O.x.edit.name&&this.updateEditor({viewMode:O.c})},viewer(){this.isEditorLoading=!1,this.file.pending||this.createEditorInstance()},showContentViewer(e){if(e)if("markdown"===this.fileType){const{content:e,images:t}=Object(Ft.e)(this.file,this.entries);this.content=e,this.images=t}else this.content=this.file.content||this.file.raw,this.images={}}},beforeDestroy(){this.globalEditor.dispose()},mounted(){this.globalEditor||(this.globalEditor=Object(bt.a)(new Xe.default)),this.initEditor(),window.addEventListener("paste",this.onPaste,!0)},destroyed(){window.removeEventListener("paste",this.onPaste,!0)},methods:{...Object(C.c)(["getFileData","getRawFileData","changeFileContent","removePendingTab","triggerFilesChange","addTempImage","detectGitlabCiFileAlerts"]),...Object(C.c)("editor",["updateFileEditor"]),initEditor(){var e=this;Object(x.a)({mark:F.N}),this.shouldHideEditor&&(this.file.content||this.file.raw)||Promise.all([this.fetchFileData(),this.fetchEditorconfigRules()]).then((function(){e.createEditorInstance()})).catch((function(e){throw Object(Ze.createAlert)({message:Object(k.a)("Error setting up editor. Please try again."),fadeTransition:!1,addBodyClass:!0}),e}))},fetchFileData(){var e=this;return this.file.tempFile?Promise.resolve():this.getFileData({path:this.file.path,makeFileActive:!1,toggleLoading:!1}).then((function(){return e.getRawFileData({path:e.file.path})}))},createEditorInstance(){var e,t=this;if(this.isBinaryFile)return;const n=this.viewer!==O.B.edit,i=n!==((null===(e=this.editor)||void 0===e?void 0:e.getEditorType())===Ge.n);if(this.editor&&!i)this.setupEditor();else{this.editor&&i&&this.editor.dispose();const e=n?ze.a:ze.b,r=n?Ge.c:Ge.b;this.editor=Object(bt.a)(this.globalEditor[r]({el:this.$refs.editor,blobPath:this.file.path,blobGlobalId:this.file.key,blobContent:this.content||this.file.content,...e,...this.editorOptions})),this.editor.use([{definition:Ue.a},{definition:Qe,setupOptions:{modelManager:this.modelManager,store:this.$store,file:this.file,options:this.editorOptions}}]),this.$nextTick((function(){t.setupEditor()}))}},setupEditor(){var e,t=this;if(!this.file||!this.editor||this.file.loading)return;const i=function(){t.SELivepreviewExtension=t.editor.use({definition:t.MarkdownLivePreview,setupOptions:{previewMarkdownPath:t.previewMarkdownPath}})};"markdown"===this.fileType&&(null===(e=this.editor)||void 0===e?void 0:e.getEditorType())===Ge.m&&this.previewMarkdownPath?this.MarkdownLivePreview?i():n.e(855).then(n.bind(null,"JvYL")).then((function({EditorMarkdownPreviewExtension:e}){t.MarkdownLivePreview=e,i()})).catch((function(e){return Object(Ze.createAlert)({message:e})})):this.SELivepreviewExtension&&this.editor.unuse(this.SELivepreviewExtension);const r=this.getStagedFile(this.file.path);this.model=this.editor.createModel(this.file,this.file.staged&&0===this.file.key.indexOf("unstaged-")?r:null),this.viewer===O.B.mr&&this.file.mrChange?this.editor.attachMergeRequestModel(this.model):this.editor.attachModel(this.model),this.isEditorLoading=!1,this.model.updateOptions(this.rules),this.registerSchemaForFile(),this.model.onChange((function(e){const{file:n}=e;if(!n.active)return;const i=e.getModel().getValue();t.changeFileContent({path:n.path,content:i})})),this.editor.onPositionChange((function(e,n){t.updateEditor({editorRow:n.position.lineNumber,editorColumn:n.position.column})})),this.editor.setPos({lineNumber:this.fileEditor.editorRow,column:this.fileEditor.editorColumn}),this.updateEditor({fileLanguage:this.model.language}),this.$emit("editorSetup"),performance.getEntriesByName(F.K).length?N.$emit(F.T):Object(x.a)({mark:F.M,measures:[{name:F.U,start:F.N}]})},fetchEditorconfigRules(){var e=this;return function(e,t){const n=[...Object(D.d)(e).map((function(e){return e+"/.editorconfig"})),".editorconfig"];return Promise.all(n.map((function(e){return t(e).then((function(t){return{path:e,content:t}}))}))).then((function(t){return yt(e,t.filter((function(e){return e.content})))}))}(this.file.path,(function(t){const n=e.entries[t];if(!n)return Promise.resolve(null);const i=n.content||n.raw;return i?Promise.resolve(i):e.getFileData({path:n.path,makeFileActive:!1}).then((function(){return e.getRawFileData({path:n.path})}))})).then((function(t){e.rules=At(t)}))},onPaste(e){var t=this;const{editor:n}=this,i=e.clipboardData.files[0];return n.hasTextFocus()&&"markdown"===this.fileType&&/^image\/(png|jpg|jpeg|gif)$/.test(null==i?void 0:i.type)?(e.preventDefault(),e.stopImmediatePropagation(),function(e){return new Promise((function(t){const n=new FileReader;n.addEventListener("load",(function(e){return t(e.target.result)}),{once:!0}),n.readAsDataURL(e)}))}(i).then((function(e){const n=Object(D.c)(t.file.path),r=`${n?n+"/":""}${i.name}`;return t.addTempImage({name:r,rawPath:URL.createObjectURL(i),content:atob(e.split("base64,")[1])}).then((function({name:e}){t.editor.replaceSelectedText(`![${e}](./${e})`)}))}))):Promise.resolve()},registerSchemaForFile(){var e=this;this.isCiConfigFile?async function(){if(!e.CiSchemaExtension){const{CiSchemaExtension:t}=await n.e(950).then(n.bind(null,"kyim")).catch((function(e){return Object(Ze.createAlert)({message:e})}));e.CiSchemaExtension=t}e.editor.use({definition:e.CiSchemaExtension}),e.editor.registerCiSchema()}():(this.CiSchemaExtension&&this.editor.unuse(this.CiSchemaExtension),function(){const t=e.getJsonSchemaForPath(e.file.path);Object(D.i)(t)}())},updateEditor(e){this.file.active&&this.updateFileEditor({path:this.file.path,data:e})},startWatchingCiYaml(){this.unwatchCiYaml=this.$watch("file.content",Be()(this.detectGitlabCiFileAlerts,500))},stopWatchingCiYaml(){this.unwatchCiYaml&&(this.unwatchCiYaml(),this.unwatchCiYaml=null)}},viewerTypes:O.B,FILE_VIEW_MODE_EDITOR:O.c,FILE_VIEW_MODE_PREVIEW:O.d},Wt=Object(q.a)(zt,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"blob-viewer-container blob-editor-container",attrs:{id:"ide"}},[e.showTabs?t("gl-tabs",{attrs:{"content-class":"gl-display-none"}},[t("gl-tab",{attrs:{title:e.__("Edit"),"data-testid":"edit-tab"},on:{click:function(t){return e.updateEditor({viewMode:e.$options.FILE_VIEW_MODE_EDITOR})}}}),e._v(" "),t("gl-tab",{attrs:{title:e.previewMode.previewTitle,"data-testid":"preview-tab"},on:{click:function(t){return e.updateEditor({viewMode:e.$options.FILE_VIEW_MODE_PREVIEW})}}})],1):e._e(),e._v(" "),e.alertKey?t("file-alert",{attrs:{"alert-key":e.alertKey}}):e.showFileTemplatesBar(e.file.name)?t("file-templates-bar"):e._e(),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showEditor,expression:"showEditor"}],key:"content-editor",ref:"editor",staticClass:"multi-file-editor-holder",class:{"is-readonly":e.isCommitModeActive,"is-deleted":e.file.deleted,"is-added":e.file.tempFile},attrs:{"data-testid":"editor-container","data-editor-loading":e.isEditorLoading},on:{focusout:e.triggerFilesChange}}),e._v(" "),e.showContentViewer?t("content-viewer",{attrs:{content:e.content,images:e.images,path:e.file.rawPath||e.file.path,"file-path":e.file.path,"file-size":e.file.size,"project-path":e.currentProjectId,"commit-sha":e.currentBranchCommit,type:e.fileType}}):e._e(),e._v(" "),e.showDiffViewer?t("diff-viewer",{attrs:{"diff-mode":e.file.mrChange.diffMode,"new-path":e.file.mrChange.new_path,"new-sha":e.currentMergeRequest.sha,"old-path":e.file.mrChange.old_path,"old-sha":e.currentMergeRequest.baseCommitSha,"project-path":e.currentProjectId}}):e._e()],1)}),[],!1,null,null,null).exports;N.$on(F.T,(function(){return Object(D.f)(F.L,F.T,F.K)}));var Yt={components:{IdeSidebar:Ne,RepoEditor:Wt,GlButton:I.a,GlLoadingIcon:A.a,ErrorMessage:function(){return Promise.all([n.e(200),n.e(781),n.e(420)]).then(n.bind(null,"UN1v"))},CommitEditorHeader:function(){return Promise.all([n.e(200),n.e(781),n.e(420)]).then(n.bind(null,"rSSf"))},RepoTabs:function(){return Promise.all([n.e(200),n.e(781),n.e(420)]).then(n.bind(null,"r1o7"))},IdeStatusBar:function(){return Promise.all([n.e(200),n.e(781),n.e(420)]).then(n.bind(null,"QLRQ"))},FindFile:function(){return Promise.all([n.e(200),n.e(781),n.e(420)]).then(n.bind(null,"TwKd"))},RightPane:function(){return Promise.all([n.e(200),n.e(781),n.e(420)]).then(n.bind(null,"V2wo"))},NewModal:function(){return Promise.all([n.e(200),n.e(781),n.e(420)]).then(n.bind(null,"okJA"))},CannotPushCodeAlert:G},mixins:[Object(M.a)()],data:()=>({loadDeferred:!1,skipBeforeUnload:!1}),computed:{...Object(C.f)(["openFiles","viewer","fileFindVisible","emptyStateSvgPath","currentProjectId","errorMessage","loading"]),...Object(C.d)(["canPushCodeStatus","activeFile","someUncommittedChanges","isCommitModeActive","allBlobs","emptyRepo","currentTree","hasCurrentProject","editorTheme","getUrlForPath"]),themeName(){var e;return null===(e=window.gon)||void 0===e?void 0:e.user_color_scheme}},mounted(){var e,t=this;window.onbeforeunload=function(e){return t.onBeforeUnload(e)},N.$on("skip-beforeunload",this.handleSkipBeforeUnload),this.themeName&&(null===(e=document.querySelector(".navbar-gitlab"))||void 0===e||e.classList.add("theme-"+this.themeName))},destroyed(){N.$off("skip-beforeunload",this.handleSkipBeforeUnload)},beforeCreate(){Object(x.a)({mark:F.B,measures:[{name:F.O}]})},methods:{...Object(C.c)(["toggleFileFinder"]),onBeforeUnload(e={}){if(this.skipBeforeUnload)return void(this.skipBeforeUnload=!1);const t=Object(k.a)("Are you sure you want to lose unsaved changes?");return this.someUncommittedChanges?(Object.assign(e,{returnValue:t}),t):void 0},handleSkipBeforeUnload(){this.skipBeforeUnload=!0},openFile(e){this.$router.push(this.getUrlForPath(e.path))},createNewFile(){this.$refs.newModal.open(O.y.blob)},loadDeferredComponents(){this.loadDeferred=!0}}},Jt=Object(q.a)(Yt,(function(){var e=this,t=e._self._c;return t("article",{staticClass:"ide position-relative d-flex flex-column align-items-stretch",class:{["theme-"+e.themeName]:e.themeName}},[e.canPushCodeStatus.isAllowed?e._e():t("cannot-push-code-alert",{attrs:{message:e.canPushCodeStatus.message,action:e.canPushCodeStatus.action}}),e._v(" "),e.errorMessage?t("error-message",{attrs:{message:e.errorMessage}}):e._e(),e._v(" "),t("div",{staticClass:"ide-view flex-grow d-flex"},[e.loadDeferred?[t("find-file",{attrs:{files:e.allBlobs,visible:e.fileFindVisible,loading:e.loading},on:{toggle:e.toggleFileFinder,click:e.openFile}})]:e._e(),e._v(" "),t("ide-sidebar",{on:{"tree-ready":e.loadDeferredComponents}}),e._v(" "),t("div",{staticClass:"multi-file-edit-pane"},[e.activeFile?[e.loadDeferred?[e.isCommitModeActive?t("commit-editor-header",{attrs:{"active-file":e.activeFile}}):t("repo-tabs",{attrs:{"active-file":e.activeFile,files:e.openFiles,viewer:e.viewer}})]:e._e(),e._v(" "),t("repo-editor",{staticClass:"multi-file-edit-pane-content",attrs:{file:e.activeFile}})]:[t("div",{staticClass:"ide-empty-state"},[t("div",{staticClass:"row js-empty-state"},[t("div",{staticClass:"col-12"},[t("div",{staticClass:"svg-content svg-250"},[t("img",{attrs:{src:e.emptyStateSvgPath}})])]),e._v(" "),t("div",{staticClass:"col-12"},[t("div",{staticClass:"text-content text-center"},[t("h4",[e._v("\n                  "+e._s(e.__("Make and review changes in the browser with the Web IDE"))+"\n                ")]),e._v(" "),e.emptyRepo?[t("p",[e._v("\n                    "+e._s(e.__("Create a new file as there are no files yet. Afterwards, you'll be able to commit your changes."))+"\n                  ")]),e._v(" "),t("gl-button",{attrs:{variant:"confirm",category:"primary",title:e.__("New file"),"aria-label":e.__("New file")},on:{click:function(t){return e.createNewFile()}}},[e._v("\n                    "+e._s(e.__("New file"))+"\n                  ")])]:!e.currentTree||e.currentTree.loading?t("gl-loading-icon",{attrs:{size:"lg"}}):t("p",[e._v("\n                  "+e._s(e.__("Select a file from the left sidebar to begin editing. Afterwards, you'll be able to commit your changes."))+"\n                ")])],2)])])])]],2),e._v(" "),e.loadDeferred?[e.currentProjectId?t("right-pane"):e._e()]:e._e()],2),e._v(" "),e.loadDeferred?[t("ide-status-bar"),e._v(" "),t("new-modal",{ref:"newModal"})]:e._e()],2)}),[],!1,null,null,null).exports,Kt=n("lRsd"),Qt=n("3twG");class Xt extends Kt.a{push(e,t,n){super.push(Object(Qt.m)(e),t,n)}resolve(e,t,n){return super.resolve(Object(Qt.m)(e),t,n)}}S.default.use(Xt);const Zt={render:e=>e("div")};var en=n("Nqrb"),tn=(n("TPye"),n("QwBj"));const nn=function(e){const t=e.lastIndexOf("/");return{parent:t>=0?e.substring(0,t):null,name:t>=0?e.substring(t+1):e}},rn=function({data:e,tempFile:t=!1,content:n="",rawPath:i="",blobData:r={}}){const o=[],a={};let s,c;const u=function(e){if(!e)return null;if(a[e])return a[e];const{parent:n,name:i}=nn(e),r=n&&u(n);c=r&&r.path;const s=Object(Ft.d)({id:e,name:i,path:e,type:"tree",tempFile:t,changed:t,opened:t,parentPath:c});return Object.assign(a,{[e]:s}),r?r.tree.push(s):o.push(s),s};return e.forEach((function(e){const{parent:l,name:d}=nn(e),f=l&&u(l);d&&(c=f&&f.path,s=Object(Ft.d)({id:e,name:d,path:e,type:"blob",tempFile:t,changed:t,content:n,rawPath:i,parentPath:c,...r}),Object.assign(a,{[e]:s}),f?f.tree.push(s):o.push(s))})),{entries:a,treeList:Object(Ft.l)(o),file:s,parentPath:c}};var on=n("JvIl");var an=n("ExxS"),sn=n.n(an);const cn=function({commit:e},t){e("TOGGLE_TREE_OPEN",t)},un=function({commit:e,dispatch:t,state:n},i){const r=n.entries[i],o=r?r.parentPath:"";o&&(e("SET_TREE_OPEN",o),t("showTreeEntry",o))},ln=function({commit:e,dispatch:t},n){"tree"===n.type?t("toggleTreeOpen",n.path):"blob"===n.type&&(n.opened||e("TOGGLE_FILE_OPEN",n.path),t("setFileActive",n.path)),t("showTreeEntry",n.path)},dn=function({state:e,commit:t},{projectId:n,branchId:i,treeList:r}){const o=e.trees[`${n}/${i}`];t("SET_DIRECTORY_DATA",{treePath:`${n}/${i}`,data:r}),t("TOGGLE_LOADING",{entry:o,forceValue:!1})},fn=function({state:e,commit:t,dispatch:n},i={}){return Object(x.a)({mark:F.F}),new Promise((function(r,o){const{projectId:a,branchId:s,ref:c=s}=i;if(!e.trees[`${a}/${s}`]||e.trees[`${a}/${s}`].tree&&0===e.trees[`${a}/${s}`].tree.length){const i=e.projects[a];t("CREATE_TREE",{treePath:`${a}/${s}`}),on.a.getFiles(i.path_with_namespace,c).then((function({data:e}){Object(x.a)({mark:F.E,measures:[{name:F.Q,start:F.F}]});const{entries:i,treeList:o}=rn({data:e});t("SET_ENTRIES",i),sn()((function(){return n("setDirectoryData",{projectId:a,branchId:s,treeList:o})})),r()})).catch((function(e){n("setErrorMessage",{text:Object(k.a)("An error occurred while loading all the files."),action:function(e){return n("getFiles",e).then((function(){return n("setErrorMessage",null)}))},actionText:Object(k.a)("Please try again"),actionPayload:{projectId:a,branchId:s}}),o(e)}))}else r()}))},hn=function({dispatch:e,commit:t,state:n},i){const r=n.entries[i];t("RESTORE_TREE",i),r.parentPath&&e("restoreTree",r.parentPath)},pn=function({commit:e,state:t,dispatch:n,getters:i},r){const{path:o}=r,a=t.openFiles.findIndex((function(e){return e.key===r.key})),s=r.active;if(t.openFiles.length>1&&s){const e=0===a?1:a-1,r=t.openFiles[e];r.pending?(n("updateViewer",O.B.diff),n("openPendingTab",{file:r,keyPrefix:r.staged?"staged":"unstaged"})):(n("setFileActive",r.path),n("router/push",i.getUrlForPath(r.path),{root:!0}))}else 1===t.openFiles.length&&n("router/push",`/project/${t.currentProjectId}/tree/${t.currentBranchId}/`,{root:!0});r.pending?e("REMOVE_PENDING_TAB",r):(e("TOGGLE_FILE_OPEN",o),e("SET_FILE_ACTIVE",{path:o,active:!1})),N.$emit("editor.update.model.dispose."+r.key)},mn=function({commit:e,state:t,getters:n,dispatch:i},r){const o=t.entries[r],a=n.activeFile;o.active||(a&&e("SET_FILE_ACTIVE",{path:a.path,active:!1}),e("SET_FILE_ACTIVE",{path:r,active:!0}),i("scrollToTab"))},gn=function({state:e,commit:t,dispatch:n,getters:i},{path:r,makeFileActive:o=!0,openFile:a=o,toggleLoading:s=!0}){Object(x.a)({mark:F.H});const c=e.entries[r],u=i.isFileDeletedAndReadded(r);if(c.raw||c.tempFile&&!c.prevPath&&!u)return Promise.resolve();t("TOGGLE_LOADING",{entry:c,forceValue:!0});const l=Object(Qt.C)(gon.relative_url_root||"/",e.currentProjectId,"-",c.type,i.lastCommit&&i.lastCommit.id,Object(Qt.m)(c.prevPath||c.path));return on.a.getFileData(l).then((function({data:i}){Object(x.a)({mark:F.G,measures:[{name:F.R,start:F.H}]}),i&&t("SET_FILE_DATA",{data:i,file:c}),a&&t("TOGGLE_FILE_OPEN",r),o&&(Object(Ft.k)(e,c),n("setFileActive",r))})).catch((function(){n("setErrorMessage",{text:Object(k.a)("An error occurred while loading the file."),action:function(e){return n("getFileData",e).then((function(){return n("setErrorMessage",null)}))},actionText:Object(k.a)("Please try again"),actionPayload:{path:r,makeFileActive:o}})})).finally((function(){s&&t("TOGGLE_LOADING",{entry:c,forceValue:!1})}))},vn=function({state:e,commit:t,dispatch:n,getters:i},{path:r}){const o=e.entries[r],a=e.stagedFiles.find((function(e){return e.path===r})),s=i.isFileDeletedAndReadded(r);return t("TOGGLE_LOADING",{entry:o,forceValue:!0}),on.a.getRawFileData(s?a:o).then((function(n){if((!o.tempFile||o.prevPath||s)&&t("SET_FILE_RAW_DATA",{file:o,raw:n,fileDeletedAndReadded:s}),o.mrChange&&!1===o.mrChange.new_file){const r=i.currentMergeRequest&&i.currentMergeRequest.baseCommitSha||"";return on.a.getBaseRawFileData(o,e.currentProjectId,r).then((function(e){return t("SET_FILE_BASE_RAW_DATA",{file:o,baseRaw:e}),n}))}return n})).catch((function(e){throw n("setErrorMessage",{text:Object(k.a)("An error occurred while loading the file content."),action:function(e){return n("getRawFileData",e).then((function(){return n("setErrorMessage",null)}))},actionText:Object(k.a)("Please try again"),actionPayload:{path:r}}),e})).finally((function(){t("TOGGLE_LOADING",{entry:o,forceValue:!1})}))},bn=function({commit:e,dispatch:t,state:n,getters:i},{path:r,content:o}){const a=n.entries[r];if(!a)return;e("UPDATE_FILE_CONTENT",{path:r,content:o});const s=n.changedFiles.findIndex((function(e){return e.path===r}));a.changed&&-1===s?e("STAGE_CHANGE",{path:r,diffInfo:i.getDiffInfo(r)}):a.changed||a.tempFile||-1===s||e("REMOVE_FILE_FROM_CHANGED",r),t("triggerFilesChange",{type:O.s.update,path:r})},_n=function({dispatch:e,state:t,commit:n},i){const r=t.entries[i],o=r.tempFile||r.prevPath;r.deleted&&r.parentPath&&e("restoreTree",r.parentPath),o&&e("closeFile",r),r.tempFile?e("deleteEntry",r.path):n("DISCARD_FILE_CHANGES",r.path),r.prevPath&&e("renameEntry",{path:r.path,name:r.prevName,parentPath:r.prevParentPath})},wn=function({dispatch:e,state:t,commit:n,getters:i},r){var o;const a=t.entries[r],s=a.tempFile||a.prevPath;e("restoreOriginalFile",r),s||a.path!==(null===(o=i.activeFile)||void 0===o?void 0:o.path)||e("updateDelayViewerUpdated",!0).then((function(){e("router/push",i.getUrlForPath(a.path),{root:!0})})).catch((function(e){throw e})),n("REMOVE_FILE_FROM_CHANGED",r),N.$emit("editor.update.model.new.content."+a.key,a.content),N.$emit("editor.update.model.dispose.unstaged-"+a.key,a.content)},En=function({commit:e,dispatch:t,getters:n},i){const r=n.getStagedFile(i),o=n.getOpenFile(i);e("STAGE_CHANGE",{path:i,diffInfo:n.getDiffInfo(i)}),e("SET_LAST_COMMIT_MSG",""),r&&N.$emit("editor.update.model.new.content.staged-"+r.key,r.content);const a=n.getStagedFile(i);o&&o.active&&a&&t("openPendingTab",{file:a,keyPrefix:O.A.staged})},yn=function({commit:e,dispatch:t,getters:n},i){const r=n.getOpenFile(i);e("UNSTAGE_CHANGE",{path:i,diffInfo:n.getDiffInfo(i)});const o=n.getChangedFile(i);r&&r.active&&o&&t("openPendingTab",{file:o,keyPrefix:O.A.unstaged})},Sn=function({commit:e,dispatch:t,getters:n,state:i},{file:r,keyPrefix:o}){return(!n.activeFile||n.activeFile.key!==`${o}-${r.key}`)&&(i.openFiles.forEach((function(e){return N.$emit("editor.update.model.dispose."+e.key)})),e("ADD_PENDING_TAB",{file:r,keyPrefix:o}),t("router/push",`/project/${i.currentProjectId}/tree/${i.currentBranchId}/`,{root:!0}),!0)},Cn=function({commit:e},t){e("REMOVE_PENDING_TAB",t),N.$emit("editor.update.model.dispose."+t.key)},On=function(e,t={}){N.$emit("ide.files.change",t)};var Tn=n("8Igx"),jn=n("qPgm");const Pn=Object(k.a)("Error loading project data. Please try again."),Rn=function(e){Object(Tn.a)(Pn,e),Object(Ze.createAlert)({message:Pn,fadeTransition:!1,addBodyClass:!0})},In=function({commit:e},{project:t}={}){if(!t)return;const n=t.path_with_namespace;e("SET_PROJECT",{projectPath:n,project:t}),e("SET_CURRENT_PROJECT",n)},An=function({commit:e,state:t}){const n=t.currentProjectId;if(n)return on.a.getProjectPermissionsData(n).then((function(t){e("UPDATE_PROJECT",{projectPath:n,props:t})})).catch(Rn)},kn=function({commit:e},{projectId:t,branchId:n}={}){return on.a.getBranchData(t,n).then((function({data:i}){e("SET_BRANCH_COMMIT",{projectId:t,branchId:n,commit:i.commit})})).catch((function(e){throw Object(Ze.createAlert)({message:Object(k.a)("Error loading last commit."),fadeTransition:!1,addBodyClass:!0}),e}))},Fn=function({state:e,dispatch:t,getters:n},i){return jn.b.createBranch(e.currentProjectId,{ref:n.currentProject.default_branch,branch:i}).then((function(){t("setErrorMessage",null),window.location.reload()})).catch((function(){t("setErrorMessage",{text:Object(k.a)("An error occurred creating the new branch."),action:function(e){return t("createNewBranchFromDefault",e)},actionText:Object(k.a)("Please try again"),actionPayload:i})}))},xn=function({dispatch:e},t){e("setErrorMessage",{text:Object(k.h)(Object(k.a)("Branch %{branchName} was not found in this project's repository."),{branchName:`<strong>${Z()(t)}</strong>`},!1),action:function(t){return e("createNewBranchFromDefault",t)},actionText:Object(k.a)("Create branch"),actionPayload:t})},Mn=function({commit:e,state:t},{projectId:n,branchId:i}){const r=`${n}/${i}`;t.trees[`${n}/${i}`]||(e("CREATE_TREE",{treePath:r}),e("TOGGLE_LOADING",{entry:t.trees[r],forceValue:!1}))},Ln=function({dispatch:e,state:t},{basePath:n}){if(n){const i="/"===n.slice(-1)?n.slice(0,-1):n,r=Object.keys(t.entries).find((function(e){return e===i&&!t.entries[e].pending})),o=t.entries[r];o?e("handleTreeEntryAction",o):e("createTempEntry",{name:i,type:"blob"})}},Nn=function({dispatch:e,getters:t,state:n},{projectId:i,branchId:r}){var o;const a=n.projects[i];return null!=a&&null!==(o=a.branches)&&void 0!==o&&o[r]?Promise.resolve():t.emptyRepo?e("loadEmptyBranch",{projectId:i,branchId:r}):e("getBranchData",{projectId:i,branchId:r}).then((function(){e("getMergeRequestsForBranch",{projectId:i,branchId:r});const n=t.findBranch(i,r);return e("getFiles",{projectId:i,branchId:r,ref:n.commit.id})})).catch((function(t){throw e("showBranchNotFoundError",r),t}))},Dn=function({dispatch:e},{projectId:t,branchId:n,basePath:i}){return e("setCurrentBranchId",n),e("loadBranch",{projectId:t,branchId:n}).then((function(){return e("loadFile",{basePath:i})})).catch((function(){return new Error(Object(k.h)(Object(k.a)("An error occurred while getting files for - %{branchId}"),{branchId:`<strong>${Z()(t)}/${Z()(n)}</strong>`},!1))}))};var Bn=n("AxUD");const $n=function({commit:e,state:t,getters:n},{projectId:i,branchId:r}={}){return n.findProjectPermissions(i)[O.l]?on.a.getProjectMergeRequests(""+i,{source_branch:r,source_project_id:t.projects[i].id,state:Bn.f,order_by:"created_at",per_page:1}).then((function({data:t}){if(t.length>0){const n=t[0];e("SET_MERGE_REQUEST",{projectPath:i,mergeRequestId:n.iid,mergeRequest:n}),e("SET_CURRENT_MERGE_REQUEST",""+n.iid)}})).catch((function(e){throw Object(Ze.createAlert)({message:Object(k.a)("Error fetching merge requests for "+r),fadeTransition:!1,addBodyClass:!0}),e})):Promise.resolve()},qn=function({commit:e,dispatch:t,state:n},{projectId:i,mergeRequestId:r,targetProjectId:o=null,force:a=!1}={}){return new Promise((function(s,c){!n.projects[i].mergeRequests[r]||a?on.a.getProjectMergeRequestData(o||i,r).then((function({data:t}){e("SET_MERGE_REQUEST",{projectPath:i,mergeRequestId:r,mergeRequest:t}),e("SET_CURRENT_MERGE_REQUEST",r),s(t)})).catch((function(){t("setErrorMessage",{text:Object(k.a)("An error occurred while loading the merge request."),action:function(e){return t("getMergeRequestData",e).then((function(){return t("setErrorMessage",null)}))},actionText:Object(k.a)("Please try again"),actionPayload:{projectId:i,mergeRequestId:r,force:a}}),c(new Error("Merge request not loaded "+i))})):s(n.projects[i].mergeRequests[r])}))},Gn=function({commit:e,dispatch:t,state:n},{projectId:i,mergeRequestId:r,targetProjectId:o=null,force:a=!1}={}){return new Promise((function(s,c){!n.projects[i].mergeRequests[r].changes.length||a?on.a.getProjectMergeRequestChanges(o||i,r).then((function({data:t}){e("SET_MERGE_REQUEST_CHANGES",{projectPath:i,mergeRequestId:r,changes:t}),s(t)})).catch((function(){t("setErrorMessage",{text:Object(k.a)("An error occurred while loading the merge request changes."),action:function(e){return t("getMergeRequestChanges",e).then((function(){return t("setErrorMessage",null)}))},actionText:Object(k.a)("Please try again"),actionPayload:{projectId:i,mergeRequestId:r,force:a}}),c(new Error("Merge request changes not loaded "+i))})):s(n.projects[i].mergeRequests[r].changes)}))},Un=function({commit:e,dispatch:t,state:n},{projectId:i,mergeRequestId:r,targetProjectId:o=null,force:a=!1}={}){return new Promise((function(s,c){!n.projects[i].mergeRequests[r].versions.length||a?on.a.getProjectMergeRequestVersions(o||i,r).then((function(e){return e.data})).then((function(t){e("SET_MERGE_REQUEST_VERSIONS",{projectPath:i,mergeRequestId:r,versions:t}),s(t)})).catch((function(){t("setErrorMessage",{text:Object(k.a)("An error occurred while loading the merge request version data."),action:function(e){return t("getMergeRequestVersions",e).then((function(){return t("setErrorMessage",null)}))},actionText:Object(k.a)("Please try again"),actionPayload:{projectId:i,mergeRequestId:r,force:a}}),c(new Error("Merge request versions not loaded "+i))})):s(n.projects[i].mergeRequests[r].versions)}))},Vn=async function({dispatch:e,getters:t,state:n,commit:i},r){const o=r.map((function(e){return{entry:n.entries[e.new_path],change:e}})).filter((function(e){return e.entry})),a=o.slice(0,O.g).map((function({change:e}){return e.new_path}));if(!o.length)return;e("updateActivityBarView",O.x.review.name),o.forEach((function({change:e,entry:t}){i("SET_FILE_MERGE_REQUEST_CHANGE",{file:t,mrChange:e})})),a.forEach((function(e){i("TOGGLE_FILE_OPEN",e)}));const[s,...c]=a;await e("router/push",t.getUrlForPath(s)),await e("setFileActive",s),await Promise.all(c.map((async function(t){try{await e("getFileData",{path:t,makeFileActive:!1}),await e("getRawFileData",{path:t})}catch(e){console.error("[gitlab] An unexpected error occurred fetching MR file data",e)}})))},Hn=async function({dispatch:e,getters:t},{projectId:n,targetProjectId:i,mergeRequestId:r}={}){try{const o=await e("getMergeRequestData",{projectId:n,targetProjectId:i,mergeRequestId:r});e("setCurrentBranchId",o.source_branch),await e("getBranchData",{projectId:n,branchId:o.source_branch});const a=t.findBranch(n,o.source_branch);await e("getFiles",{projectId:n,branchId:o.source_branch,ref:a.commit.id}),await e("getMergeRequestVersions",{projectId:n,targetProjectId:i,mergeRequestId:r});const{changes:s}=await e("getMergeRequestChanges",{projectId:n,targetProjectId:i,mergeRequestId:r});await e("openMergeRequestChanges",s)}catch(e){throw Object(Ze.createAlert)({message:Object(k.a)("Error while loading the merge request. Please try again.")}),e}},zn=function({dispatch:e},t){return e("detectEnvironmentsGuidance",t)},Wn=function({commit:e,state:t},n){return on.a.getCiConfig(t.currentProjectId,n).then((function(t){e("DETECT_ENVIRONMENTS_GUIDANCE_ALERT",null==t?void 0:t.stages)}))},Yn=function({commit:e}){return on.a.dismissUserCallout("web_ide_ci_environments_guidance").then((function(){e("DISMISS_ENVIRONMENTS_GUIDANCE_ALERT")}))},Jn=function(e,t){return Object(Qt.U)(t)},Kn=function({commit:e},t){return e("SET_INITIAL_DATA",t)},Qn=function({state:e,commit:t,dispatch:n}){e.changedFiles.forEach((function(e){return n("restoreOriginalFile",e.path)})),t("REMOVE_ALL_CHANGES_FILES")},Xn=function({commit:e},t){e("SET_RESIZING_STATUS",t)},Zn=function({state:e,commit:t,dispatch:n,getters:i},{name:r,type:o,content:a="",rawPath:s="",openFile:c=!0,makeFileActive:u=!0,mimeType:l=""}){const d="/"!==r.slice(-1)&&"tree"===o?r+"/":r;if(i.entryExists(r))return void Object(Ze.createAlert)({message:Object(k.h)(Object(k.a)('The name "%{name}" is already taken in this directory.'),{name:r.split("/").pop()}),fadeTransition:!1,addBodyClass:!0});const f=rn({data:[d],type:o,tempFile:!0,content:a,rawPath:s,blobData:{mimeType:l}}),{file:h,parentPath:p}=f;return t("CREATE_TMP_ENTRY",{data:f}),"blob"===o&&(c&&t("TOGGLE_FILE_OPEN",h.path),t("STAGE_CHANGE",{path:h.path,diffInfo:i.getDiffInfo(h.path)}),c&&u&&n("setFileActive",h.path),n("triggerFilesChange")),p&&!e.entries[p].opened&&t("TOGGLE_TREE_OPEN",p),h},ei=function({dispatch:e,getters:t},{name:n,rawPath:i="",content:r=""}){return e("createTempEntry",{name:t.getAvailableFileName(n),type:"blob",content:r,rawPath:i,openFile:!1,makeFileActive:!1})},ti=function(){S.default.nextTick((function(){const e=document.getElementById("tabs");if(e){e.querySelector(".active .repo-tab").focus()}}))},ni=function({state:e,commit:t,dispatch:n,getters:i}){const r=e.openFiles[0];t("SET_LAST_COMMIT_MSG",""),e.changedFiles.forEach((function(e){return t("STAGE_CHANGE",{path:e.path,diffInfo:i.getDiffInfo(e.path)})}));const o=i.getStagedFile(r.path);o&&n("openPendingTab",{file:o,keyPrefix:O.A.staged})},ii=function({state:e,commit:t,dispatch:n,getters:i}){const r=e.openFiles[0];e.stagedFiles.forEach((function(e){return t("UNSTAGE_CHANGE",{path:e.path,diffInfo:i.getDiffInfo(e.path)})}));const o=i.getChangedFile(r.path);o&&n("openPendingTab",{file:o,keyPrefix:O.A.unstaged})},ri=function({commit:e},t){e("UPDATE_VIEWER",t)},oi=function({commit:e},t){e("UPDATE_DELAY_VIEWER_CHANGE",t)},ai=function({commit:e},t){e("UPDATE_ACTIVITY_BAR_VIEW",t)},si=function({commit:e},t){e("SET_EMPTY_STATE_SVGS",t)},ci=function({commit:e},t){e("SET_CURRENT_BRANCH",t)},ui=function({commit:e,dispatch:t,state:n},{file:i,tempFile:r}){e("UPDATE_TEMP_FLAG",{path:i.path,tempFile:r});const o=i.parentPath&&n.entries[i.parentPath];o&&t("updateTempFlagForEntry",{file:o,tempFile:r})},li=function({commit:e},t){return e("TOGGLE_FILE_FINDER",t)},di=function({commit:e},t){return e("SET_LINKS",t)},fi=function({commit:e},t){return e("SET_ERROR_MESSAGE",t)},hi=function({commit:e,dispatch:t,state:n},i){const r=n.entries[i],{prevPath:o,prevName:a,prevParentPath:s}=r,c="tree"===r.type,u=o&&n.entries[o];if(o&&(!u||u.deleted))return t("renameEntry",{path:i,name:a,parentPath:s}),void t("deleteEntry",o);r.opened&&t("closeFile",r),c&&r.tree.forEach((function(e){return t("deleteEntry",e.path)})),e("DELETE_ENTRY",i),c||r.tempFile||t("stageChange",i),t("triggerFilesChange")},pi=function({commit:e}){return e("RESET_OPEN_FILES")},mi=function({dispatch:e,commit:t,state:n,getters:i},{path:r,name:o,parentPath:a}){const s=n.entries[r],c=a?`${a}/${o}`:o,u=a&&n.entries[a];if(!a||u&&!u.deleted||e("createTempEntry",{name:a,type:"tree"}),t("RENAME_ENTRY",{path:r,name:o,parentPath:a}),"tree"===s.type)n.entries[c].tree.forEach((function(t){e("renameEntry",{path:t.path,name:t.name,parentPath:c})}));else{const r=n.entries[c],o=c===s.prevPath&&!r.changed&&!r.tempFile,a=n.changedFiles.concat(n.stagedFiles).some((function({key:e}){return e===r.key}));o?t("REMOVE_FILE_FROM_STAGED_AND_CHANGED",r):a||t("STAGE_CHANGE",{path:c,diffInfo:i.getDiffInfo(c)}),r.tempFile||N.$emit("editor.update.model.dispose."+s.key),r.opened&&e("router/push",i.getUrlForPath(r.path),{root:!0})}e("triggerFilesChange",{type:O.s.move,path:r,newPath:c})},gi=function({commit:e,state:t},{projectId:n,branchId:i,force:r=!1}={}){return new Promise((function(o,a){Object(x.a)({mark:F.D});const s=t.projects[n];s&&s.branches[i]&&!r?o(s.branches[i]):on.a.getBranchData(n,i).then((function({data:t}){Object(x.a)({mark:F.C,measures:[{name:F.P,start:F.D}]});const{id:r}=t.commit;e("SET_BRANCH",{projectPath:n,branchName:i,branch:t}),e("SET_BRANCH_WORKING_REFERENCE",{projectId:n,branchId:i,reference:r}),o(t)})).catch((function(e){e.response.status===tn.d?a(e):(Object(Ze.createAlert)({message:Object(k.a)("Error loading branch data. Please try again."),fadeTransition:!1,addBodyClass:!0}),a(new Error(Object(k.h)(Object(k.a)("Branch not loaded - %{branchId}"),{branchId:`<strong>${Z()(n)}/${Z()(i)}</strong>`},!1))))}))}))},vi=Object(k.g)("WebIDE|You can’t edit files directly in this project. Fork this project and submit a merge request with your changes."),bi=Object(k.g)("WebIDE|You can’t edit files directly in this project. Go to your fork and submit a merge request with your changes."),_i=Object(k.g)("WebIDE|You need permission to edit files directly in this project."),wi=Object(k.g)("WebIDE|This project does not accept unsigned commits. You can’t commit changes through the Web IDE."),Ei=Object(k.g)("WebIDE|This project does not accept unsigned commits."),yi=Object(k.g)("WebIDE|Fork project"),Si=Object(k.g)("WebIDE|Go to fork"),Ci=function(e){return function(t){return function(...e){var t;return null===(t=Dt.find((function(t){return t.show(...e)})))||void 0===t?void 0:t.key}(e,t)}},Oi=function(e){const{ide_path:t,fork_path:n}=e.links.forkInfo||{};return t?{message:bi,action:{href:t,text:Si}}:n?{message:vi,action:{href:n,isForm:!0,text:yi}}:{message:_i}},Ti=function(e){return e.openFiles.find((function(e){return e.active}))||null},ji=function(e){return e.changedFiles.filter((function(e){return e.tempFile}))},Pi=function(e){return e.changedFiles.filter((function(e){return!e.tempFile}))},Ri=function(e){return Object.keys(e.projects).map((function(t){const n=e.projects[t];return{...n,branches:Object.keys(n.branches).map((function(t){const i=n.branches[t];return{...i,tree:e.trees[i.treeId]}}))}}))},Ii=function(e){return e.projects[e.currentProjectId]&&e.projects[e.currentProjectId].mergeRequests?e.projects[e.currentProjectId].mergeRequests[e.currentMergeRequestId]:null},Ai=function(e){return function(t){return e.projects[t]}},ki=function(e,t){return t.findProject(e.currentProjectId)},Fi=function(e){return e.projects[e.currentProjectId]&&e.projects[e.currentProjectId].empty_repo},xi=function(e){return e.trees[`${e.currentProjectId}/${e.currentBranchId}`]},Mi=function(e){return Boolean(e.currentMergeRequestId)},Li=function(e){return Object.keys(e.entries).reduce((function(t,n){const i=e.entries[n];return"blob"===i.type&&t.push(i),t}),[]).sort((function(e,t){return t.lastOpenedAt-e.lastOpenedAt}))},Ni=function(e){return function(t){return e.changedFiles.find((function(e){return e.path===t}))}},Di=function(e){return function(t){return e.stagedFiles.find((function(e){return e.path===t}))}},Bi=function(e){return function(t){return e.openFiles.find((function(e){return e.path===t}))}},$i=function(e){return[...e.changedFiles,...e.stagedFiles].sort((function(e,t){return t.lastOpenedAt-e.lastOpenedAt}))[0]},qi=function(e){return e.currentActivityView===O.x.edit.name},Gi=function(e){return e.currentActivityView===O.x.commit.name},Ui=function(e){return e.currentActivityView===O.x.review.name},Vi=function(e){return Boolean(e.changedFiles.length||e.stagedFiles.length)},Hi=function(e){return function(t){return e.changedFiles.filter((function(e){return Object(Ft.f)(e.path,t)})).length+e.stagedFiles.filter((function(n){return Object(Ft.f)(n.path,t)&&!Ni(e)(n.path)})).length}},zi=function(e){return function(t){return Object(Ft.g)(e.changedFiles,t)}},Wi=function(e){return function(t){return Object(Ft.g)(e.stagedFiles,t)}},Yi=function(e,t){const n=t.currentProject&&t.currentBranch;return n?n.commit:null},Ji=function(e,t){return function(e,n){const i=t.findProject(e);return i&&i.branches[n]}},Ki=function(e,t){return t.findBranch(e.currentProjectId,e.currentBranchId)},Qi=function(e,t){return t.currentBranch&&t.currentBranch.name},Xi=function(e,t){return t.currentProject&&t.currentProject.default_branch===t.branchName},Zi=function(e,t){return Boolean(t.currentBranch?t.currentBranch.can_push:t.canPushCode)},er=function(e,t){return function(n){const i=t.getStagedFile(n),r=e.entries[n];return Boolean(i&&i.deleted&&r.tempFile)}},tr=function(e,t){return function(n){const i=t.getStagedFile(n),r=e.entries[n],o=!!r.prevPath&&r.path!==r.prevPath,a=t.isFileDeletedAndReadded(n),s=!a&&r.deleted,c=!a&&r.tempFile,u=r.content!==(a?i.raw:r.raw);return{exists:u||o||s||c,changed:u,renamed:o,deleted:s,tempFile:c}}},nr=function(e,t){return function(e){var n;return(null===(n=t.findProject(e))||void 0===n?void 0:n.userPermissions)||O.b}},ir=function(e,t){return function(e){var n;return(null===(n=t.findProject(e))||void 0===n?void 0:n.pushRules)||{}}},rr=function(e,t){return Boolean(t.findProjectPermissions(e.currentProjectId)[O.l])},or=function(e,t){return Boolean(t.findProjectPermissions(e.currentProjectId)[O.j])},ar=function(e,t){var n,i;const r=t.findProjectPermissions(e.currentProjectId)[O.k],o=t.findPushRules(e.currentProjectId)[O.m];return null!==(n=window.gon)&&void 0!==n&&null!==(i=n.features)&&void 0!==i&&i.rejectUnsignedCommitsByGitlab&&o?{isAllowed:!1,message:wi,messageShort:Ei}:r?{isAllowed:!0,message:"",messageShort:""}:{isAllowed:!1,messageShort:_i,...Oi(e)}},sr=function(e,t){return t.canPushCodeStatus.isAllowed},cr=function(e){return function(t){return Boolean(e.entries[t]&&!e.entries[t].deleted)}},ur=function(e,t){return function(e){let n=e;for(;t.entryExists(n);)n=Object(D.a)(n);return n}},lr=function(e){return function(t){return`/project/${e.currentProjectId}/tree/${e.currentBranchId}/-/${t}/`}},dr=function(e,t){return function(n){var i;const[r,...o]=e.currentProjectId.split("/");return{uri:location.origin+jn.b.buildUrl(jn.b.projectFileSchemaPath).replace(":namespace_path",r).replace(":project_path",o.join("/")).replace(":ref",(null===(i=t.currentBranch)||void 0===i?void 0:i.commit.id)||e.currentBranchId).replace(":filename",n),fileMatch:["*"+n]}}},fr=function({commit:e}){return e("REQUEST_BRANCHES")},hr=function({commit:e,dispatch:t},{search:n}){t("setErrorMessage",{text:Object(k.a)("Error loading branches."),action:function(e){return t("fetchBranches",e).then((function(){return t("setErrorMessage",null,{root:!0})}))},actionText:Object(k.a)("Please try again"),actionPayload:{search:n}},{root:!0}),e("RECEIVE_BRANCHES_ERROR")},pr=function({commit:e},t){return e("RECEIVE_BRANCHES_SUCCESS",t)},mr=function({dispatch:e,rootGetters:t},{search:n=""}){return e("requestBranches"),e("resetBranches"),jn.b.branches(t.currentProject.id,n,{sort:"updated_desc"}).then((function({data:t}){return e("receiveBranchesSuccess",t)})).catch((function(){return e("receiveBranchesError",{search:n})}))},gr=function({commit:e}){return e("RESET_BRANCHES")};var vr={namespaced:!0,state:function(){return{isLoading:!1,branches:[]}},actions:o,mutations:{REQUEST_BRANCHES(e){e.isLoading=!0},RECEIVE_BRANCHES_ERROR(e){e.isLoading=!1},RECEIVE_BRANCHES_SUCCESS(e,t){e.isLoading=!1,e.branches=t.map((function(e){return{name:e.name,committedDate:e.commit.committed_date}}))},RESET_BRANCHES(e){e.branches=[]}}};const br=function({commit:e},t){e("UPDATE_COMMIT_MESSAGE",t)},_r=function({commit:e}){e("UPDATE_COMMIT_MESSAGE","")},wr=function({commit:e},t){e("UPDATE_COMMIT_ACTION",{commitAction:t})},Er=function({commit:e}){e("TOGGLE_SHOULD_CREATE_MR")},yr=function({commit:e},t){e("UPDATE_NEW_BRANCH_NAME",t)},Sr=function({commit:e,state:t}){e("UPDATE_NEW_BRANCH_NAME",Object(D.a)(t.newBranchName,!0))},Cr=function({commit:e,rootGetters:t},n){const{currentProject:i}=t,r=n.stats?Object(k.h)(Object(k.a)("with %{additions} additions, %{deletions} deletions."),{additions:n.stats.additions,deletions:n.stats.deletions}):"";e("SET_LAST_COMMIT_MSG",Object(k.h)(Object(k.a)("Your changes have been committed. Commit %{commitId} %{commitStats}"),{commitId:`<a href="${i.web_url}/-/commit/${n.short_id}" class="commit-sha">${n.short_id}</a>`,commitStats:r},!1),{root:!0})},Or=function({commit:e,dispatch:t,rootState:n,rootGetters:i},{data:r}){const o={commit_path:`${i.currentProject.web_url}/-/commit/${r.id}`,commit:{id:r.id,message:r.message,authored_date:r.committed_date,author_name:r.committer_name}};e("SET_BRANCH_WORKING_REFERENCE",{projectId:n.currentProjectId,branchId:n.currentBranchId,reference:r.id},{root:!0}),n.stagedFiles.forEach((function(i){const r=n.changedFiles.find((function(e){return e.path===i.path}));e("UPDATE_FILE_AFTER_COMMIT",{file:i,lastCommit:o},{root:!0}),e("TOGGLE_FILE_CHANGED",{file:i,changed:!1},{root:!0}),t("updateTempFlagForEntry",{file:i,tempFile:!1},{root:!0}),N.$emit("editor.update.model.content."+i.key,{content:i.content,changed:Boolean(r)})}))},Tr=function({commit:e,state:t,getters:n,dispatch:i,rootState:r,rootGetters:o}){const{shouldCreateMR:a,shouldHideNewMrOption:s,isCreatingNewBranch:c,branchName:u}=n,l="1"!==t.commitAction,d=r.stagedFiles.length?Promise.resolve():i("stageAllChanges",null,{root:!0});return e("CLEAR_ERROR"),e("UPDATE_LOADING",!0),d.then((function(){const e=Object(Ft.b)({branch:u,newBranch:l,getters:n,state:t,rootState:r,rootGetters:o});return on.a.commit(r.currentProjectId,e)})).catch((function(t){throw e("UPDATE_LOADING",!1),e("SET_ERROR",oe(t)),t})).then((function({data:t}){return e("UPDATE_LOADING",!1),t.short_id?(t.parent_ids.length||e("TOGGLE_EMPTY_STATE",{projectPath:r.currentProjectId,value:!1},{root:!0}),i("setLastCommitMessage",t),i("updateCommitMessage",""),i("updateFilesAfterCommit",{data:t,branch:u}).then((function(){if(e("CLEAR_STAGED_CHANGES",null,{root:!0}),setTimeout((function(){e("SET_LAST_COMMIT_MSG","",{root:!0})}),5e3),a&&!s){const{currentProject:e}=o,t=c?r.currentBranchId:e.default_branch;i("redirectToUrl",Object(Ft.c)(e.web_url,encodeURIComponent(u),encodeURIComponent(t)),{root:!0})}})).then((function(){o.lastOpenedFile?i("openPendingTab",{file:o.lastOpenedFile},{root:!0}).then((function(e){e&&i("updateViewer","diff",{root:!0})})).catch((function(e){throw e})):(i("updateActivityBarView",O.x.edit.name,{root:!0}),i("updateViewer","editor",{root:!0}))})).then((function(){return i("updateCommitAction","1")})).then((function(){if(l){const e=o.activeFile?o.activeFile.path:"";return i("router/push",`/project/${r.currentProjectId}/blob/${u}/-/${e}`,{root:!0})}return i("refreshLastCommitData",{projectId:r.currentProjectId,branchId:u},{root:!0})}))):(Object(Ze.createAlert)({message:t.message,fadeTransition:!1,addBodyClass:!0}),null)}))},jr=function(e,t){if(!e.length)return null;return`${t} ${e.reduce((function(e,t){return e.concat(t.path)}),[]).join(", ")}`},Pr=function(e){return""===e.commitMessage||e.submitCommitLoading},Rr=function(e,t,n){return`${gon.current_username}-${n.currentBranchId}-patch-${(""+(new Date).getTime()).substr(-5)}`},Ir=function(e,t,n){return t.isCreatingNewBranch?""===e.newBranchName?t.placeholderBranchName:e.newBranchName:n.currentBranchId},Ar=function(e,t,n){if(e.commitMessage)return e.commitMessage;const i=n.stagedFiles.length?n.stagedFiles:n.changedFiles,r=i.filter((function(e){return!e.deleted})),o=i.filter((function(e){return e.deleted}));return[jr(r,Object(k.a)("Update")),jr(o,Object(k.a)("Deleted"))].filter((function(e){return e})).join("\n")},kr=function(e){return"2"===e.commitAction},Fr=function(e,t,n,i){return!t.isCreatingNewBranch&&(i.hasMergeRequest||!i.hasMergeRequest&&i.isOnDefaultBranch)&&i.canPushToBranch},xr=function(e,t,n,i){return!i.canCreateMergeRequests||i.emptyRepo},Mr=function(e,t){return e.shouldCreateMR&&!t.shouldDisableNewMrOption};var Lr={namespaced:!0,state:function(){return{commitMessage:"",commitAction:null,newBranchName:"",submitCommitLoading:!1,shouldCreateMR:!0,commitError:null}},mutations:{UPDATE_COMMIT_MESSAGE(e,t){Object.assign(e,{commitMessage:t})},UPDATE_COMMIT_ACTION(e,{commitAction:t}){Object.assign(e,{commitAction:t})},UPDATE_NEW_BRANCH_NAME(e,t){Object.assign(e,{newBranchName:t})},UPDATE_LOADING(e,t){Object.assign(e,{submitCommitLoading:t})},TOGGLE_SHOULD_CREATE_MR(e,t){Object.assign(e,{shouldCreateMR:void 0===t?!e.shouldCreateMR:t})},CLEAR_ERROR(e){e.commitError=null},SET_ERROR(e,t){e.commitError=t}},actions:a,getters:s};const Nr=function({commit:e},t){e("UPDATE_FILE_EDITOR",t)},Dr=function({commit:e},t){e("REMOVE_FILE_EDITOR",t)},Br=function({commit:e},t){e("RENAME_FILE_EDITOR",t)},$r=function(e,t,n,i){const{activeFile:r}=i;if(!r)return null;const{path:o}=i.activeFile;return kt(e.fileEditors,o)};var qr={namespaced:!0,actions:c,state:function(){return{fileEditors:{}}},mutations:{UPDATE_FILE_EDITOR(e,{path:t,data:n}){const i=kt(e.fileEditors,t);S.default.set(e.fileEditors,t,Object.assign(i,n))},REMOVE_FILE_EDITOR(e,t){S.default.delete(e.fileEditors,t)},RENAME_FILE_EDITOR(e,{path:t,newPath:n}){const i=e.fileEditors[t];i&&(S.default.delete(e.fileEditors,t),S.default.set(e.fileEditors,n,i))}},getters:u};const Gr=function(e){N.$on("ide.files.change",(function({type:t,...n}={}){t!==O.s.update&&(t===O.s.move?e.dispatch("editor/renameFileEditor",n):function(e){Object.keys(e.state.editor.fileEditors).filter((function(t){return!e.state.entries[t]})).forEach((function(t){return e.dispatch("editor/removeFileEditor",t)}))}(e))}))},Ur=function({commit:e}){return e("REQUEST_TEMPLATE_TYPES")},Vr=function({commit:e,dispatch:t}){e("RECEIVE_TEMPLATE_TYPES_ERROR"),t("setErrorMessage",{text:Object(k.a)("Error loading template types."),action:function(){return t("fetchTemplateTypes").then((function(){return t("setErrorMessage",null,{root:!0})}))},actionText:Object(k.a)("Please try again")},{root:!0})},Hr=function({commit:e},t){return e("RECEIVE_TEMPLATE_TYPES_SUCCESS",t)},zr=function({dispatch:e,state:t,rootState:n}){if(!Object.keys(t.selectedTemplateType).length)return Promise.reject();e("requestTemplateTypes");const i=function(r=1,o=[]){return jn.b.projectTemplates(n.currentProjectId,t.selectedTemplateType.key,{page:r,per_page:100}).then((function({data:t,headers:n}){const r=parseInt(Object(P.G)(n)["X-NEXT-PAGE"],10),a=o.concat(t);return e("receiveTemplateTypesSuccess",a),r?i(r,a):a})).catch((function(){return e("receiveTemplateTypesError")}))};return i()},Wr=function({commit:e,dispatch:t,rootGetters:n},i){e("SET_SELECTED_TEMPLATE_TYPE",i),n.activeFile.prevPath===i.name?t("discardFileChanges",n.activeFile.path,{root:!0}):n.activeFile.name!==i.name&&t("renameEntry",{path:n.activeFile.path,name:i.name},{root:!0})},Yr=function({dispatch:e},t){e("setErrorMessage",{text:Object(k.a)("Error loading template."),action:function(t){return e("fetchTemplateTypes",t).then((function(){return e("setErrorMessage",null,{root:!0})}))},actionText:Object(k.a)("Please try again"),actionPayload:t},{root:!0})},Jr=function({dispatch:e,state:t,rootState:n},i){return i.content?e("setFileTemplate",i):jn.b.projectTemplate(n.currentProjectId,t.selectedTemplateType.key,i.key||i.name).then((function({data:t}){e("setFileTemplate",t)})).catch((function(){return e("receiveTemplateError",i)}))},Kr=function({dispatch:e,commit:t,rootGetters:n},i){e("changeFileContent",{path:n.activeFile.path,content:i.content},{root:!0}),t("SET_UPDATE_SUCCESS",!0),N.$emit("editor.update.model.new.content."+n.activeFile.key,i.content)},Qr=function({dispatch:e,commit:t,rootGetters:n}){const i=n.activeFile;e("changeFileContent",{path:i.path,content:i.raw},{root:!0}),t("SET_UPDATE_SUCCESS",!1),N.$emit("editor.update.model.new.content."+i.key,i.raw),i.prevPath&&e("discardFileChanges",i.path,{root:!0})},Xr=function(){return[{name:W.j,key:"gitlab_ci_ymls"},{name:".gitignore",key:"gitignores"},{name:Object(k.a)("LICENSE"),key:"licenses"},{name:Object(k.a)("Dockerfile"),key:"dockerfiles"}]},Zr=function(e,t,n){return function(e){return t.templateTypes.find((function(t){return t.name===e}))&&n.currentActivityView===O.x.edit.name}};var eo={REQUEST_TEMPLATE_TYPES(e){e.isLoading=!0,e.templates=[]},RECEIVE_TEMPLATE_TYPES_ERROR(e){e.isLoading=!1},RECEIVE_TEMPLATE_TYPES_SUCCESS(e,t){e.isLoading=!1,e.templates=t},SET_SELECTED_TEMPLATE_TYPE(e,t){e.selectedTemplateType=t,e.templates=[]},SET_UPDATE_SUCCESS(e,t){e.updateSuccess=t}};const to={assigned:"assigned-to-me",created:"created-by-me"},no=function({commit:e}){return e("REQUEST_MERGE_REQUESTS")},io=function({commit:e,dispatch:t},{type:n,search:i}){t("setErrorMessage",{text:Object(k.a)("Error loading merge requests."),action:function(e){return t("fetchMergeRequests",e).then((function(){return t("setErrorMessage",null,{root:!0})}))},actionText:Object(k.a)("Please try again"),actionPayload:{type:n,search:i}},{root:!0}),e("RECEIVE_MERGE_REQUESTS_ERROR")},ro=function({commit:e},t){return e("RECEIVE_MERGE_REQUESTS_SUCCESS",t)},oo=function({dispatch:e,state:{state:t},rootState:{currentProjectId:n}},{type:i,search:r=""}){e("requestMergeRequests"),e("resetMergeRequests");const o=i&&to[i];return(o?jn.b.mergeRequests({scope:o,state:t,search:r}):jn.b.projectMergeRequest(n,"",{state:t,search:r})).then((function({data:t}){return e("receiveMergeRequestsSuccess",t)})).catch((function(){return e("receiveMergeRequestsError",{type:i,search:r})}))},ao=function({commit:e}){return e("RESET_MERGE_REQUESTS")};var so={REQUEST_MERGE_REQUESTS(e){e.isLoading=!0},RECEIVE_MERGE_REQUESTS_ERROR(e){e.isLoading=!1},RECEIVE_MERGE_REQUESTS_SUCCESS(e,t){e.isLoading=!1,e.mergeRequests=t.map((function(e){return{id:e.id,iid:e.iid,title:e.title,projectId:e.project_id,projectPathWithNamespace:e.references.full.replace(e.references.short,"")}}))},RESET_MERGE_REQUESTS(e){e.mergeRequests=[]}},co={namespaced:!0,state:{isLoading:!1,mergeRequests:[],state:Bn.f},actions:f,mutations:so};const uo=function({dispatch:e,state:t}){t.isOpen?e("close"):e("open")},lo=function({state:e,commit:t},n){if(t("SET_OPEN",!0),n&&n.name!==e.currentView){const{name:e,keepAlive:i}=n;t("SET_CURRENT_VIEW",e),i&&t("KEEP_ALIVE_VIEW",e)}},fo=function({commit:e}){e("SET_OPEN",!1)},ho=function(e){return function(t){return e.keepAliveViews[t]||e.isOpen&&e.currentView===t}};var po={SET_OPEN(e,t){Object.assign(e,{isOpen:t})},SET_CURRENT_VIEW(e,t){Object.assign(e,{currentView:t})},KEEP_ALIVE_VIEW(e,t){Object.assign(e.keepAliveViews,{[t]:!0})}},mo=n("YsOi"),go=n.n(mo),vo=n("99pJ"),bo=n.n(vo),_o=n("hqF9");let wo;const Eo=function(){wo=null},yo=function(){wo&&wo.stop()},So=function(){wo&&wo.restart()},Co=function(){wo&&wo.makeRequest()},Oo=function({commit:e}){return e("REQUEST_LATEST_PIPELINE")},To=function({commit:e,dispatch:t},n){n.status!==tn.d&&t("setErrorMessage",{text:Object(k.a)("An error occurred while fetching the latest pipeline."),action:function(){return t("forcePipelineRequest").then((function(){return t("setErrorMessage",null,{root:!0})}))},actionText:Object(k.a)("Please try again"),actionPayload:null},{root:!0}),e("RECEIVE_LASTEST_PIPELINE_ERROR"),t("stopPipelinePolling")},jo=function({rootGetters:e,commit:t},{pipelines:n}){let i=!1;if(n&&n.length){const t=e.lastCommit&&e.lastCommit.id;i=n.find((function(e){return e.commit.id===t}))}t("RECEIVE_LASTEST_PIPELINE_SUCCESS",i)},Po=function({commit:e,dispatch:t,rootGetters:n}){if(!wo){if(!n.lastCommit)return e("RECEIVE_LASTEST_PIPELINE_SUCCESS",null),void t("stopPipelinePolling");t("requestLatestPipeline"),wo=new _o.a({resource:on.a,method:"lastCommitPipelines",data:{getters:n},successCallback:function({data:e}){return t("receiveLatestPipelineSuccess",e)},errorCallback:function(e){return t("receiveLatestPipelineError",e)}}),bo.a.hidden()||wo.makeRequest(),bo.a.change((function(){bo.a.hidden()?t("stopPipelinePolling"):t("restartPipelinePolling")}))}},Ro=function({commit:e},t){return e("REQUEST_JOBS",t)},Io=function({commit:e,dispatch:t},n){t("setErrorMessage",{text:Object(k.a)("An error occurred while loading the pipelines jobs."),action:function(e){return t("fetchJobs",e).then((function(){return t("setErrorMessage",null,{root:!0})}))},actionText:Object(k.a)("Please try again"),actionPayload:n},{root:!0}),e("RECEIVE_JOBS_ERROR",n.id)},Ao=function({commit:e},{id:t,data:n}){return e("RECEIVE_JOBS_SUCCESS",{id:t,data:n})},ko=function({dispatch:e},t){return e("requestJobs",t.id),go.a.get(t.dropdownPath).then((function({data:n}){return e("receiveJobsSuccess",{id:t.id,data:n})})).catch((function(){return e("receiveJobsError",t)}))},Fo=function({commit:e},t){return e("TOGGLE_STAGE_COLLAPSE",t)},xo=function({commit:e,dispatch:t},n){e("SET_DETAIL_JOB",n),t("rightPane/open",n?O.z.jobsDetail:O.z.pipelines,{root:!0})},Mo=function({commit:e}){return e("REQUEST_JOB_LOGS")},Lo=function({commit:e,dispatch:t}){t("setErrorMessage",{text:Object(k.a)("An error occurred while fetching the job logs."),action:function(){return t("fetchJobLogs").then((function(){return t("setErrorMessage",null,{root:!0})}))},actionText:Object(k.a)("Please try again"),actionPayload:null},{root:!0}),e("RECEIVE_JOB_LOGS_ERROR")},No=function({commit:e},t){return e("RECEIVE_JOB_LOGS_SUCCESS",t)},Do=function({dispatch:e,state:t}){return e("requestJobLogs"),go.a.get(t.detailJob.path+"/trace",{params:{format:"json"}}).then((function({data:t}){return e("receiveJobLogsSuccess",t)})).catch((function(){return e("receiveJobLogsError")}))},Bo=function({commit:e}){e("RECEIVE_LASTEST_PIPELINE_SUCCESS",null),e("SET_DETAIL_JOB",null)},$o="failed",qo=function(e){return!e.isLoadingPipeline&&Boolean(e.latestPipeline)},Go=function(e){return e.latestPipeline&&e.latestPipeline.details.status.text===$o},Uo=function(e){return e.stages.filter((function(e){return e.status.text.toLowerCase()===$o})).map((function(e){return{...e,jobs:e.jobs.filter((function(e){return e.status.text.toLowerCase()===$o}))}}))},Vo=function(e){return e.stages.reduce((function(e,t){return e+t.jobs.filter((function(e){return e.status.text===$o})).length}),0)},Ho=function(e){return e.stages.reduce((function(e,t){return e+t.jobs.length}),0)},zo=function(e){return{id:e.id,name:e.name,status:e.status,path:e.build_path,rawPath:e.build_path+"/raw",started:e.started,output:"",isLoading:!1}};var Wo={namespaced:!0,state:{isLoadingPipeline:!0,hasLoadedPipeline:!1,isLoadingJobs:!1,latestPipeline:null,stages:[],detailJob:null},actions:m,mutations:{REQUEST_LATEST_PIPELINE(e){e.isLoadingPipeline=!0},RECEIVE_LASTEST_PIPELINE_ERROR(e){e.isLoadingPipeline=!1},RECEIVE_LASTEST_PIPELINE_SUCCESS(e,t){e.isLoadingPipeline=!1,e.hasLoadedPipeline=!0,t?(e.latestPipeline={id:t.id,path:t.path,commit:t.commit,details:{status:t.details.status},yamlError:t.yaml_errors},e.stages=t.details.stages.map((function(t,n){const i=e.stages.find((function(e){return e.id===n}));return{id:n,dropdownPath:t.dropdown_path,name:t.name,status:t.status,isCollapsed:!!i&&i.isCollapsed,isLoading:!!i&&i.isLoading,jobs:i?i.jobs:[]}}))):e.latestPipeline=null},REQUEST_JOBS(e,t){e.stages=e.stages.map((function(e){return{...e,isLoading:e.id===t||e.isLoading}}))},RECEIVE_JOBS_ERROR(e,t){e.stages=e.stages.map((function(e){return{...e,isLoading:e.id!==t&&e.isLoading}}))},RECEIVE_JOBS_SUCCESS(e,{id:t,data:n}){e.stages=e.stages.map((function(e){return{...e,isLoading:e.id!==t&&e.isLoading,jobs:e.id===t?n.latest_statuses.map(zo):e.jobs}}))},TOGGLE_STAGE_COLLAPSE(e,t){e.stages=e.stages.map((function(e){return{...e,isCollapsed:e.id===t?!e.isCollapsed:e.isCollapsed}}))},SET_DETAIL_JOB(e,t){e.detailJob={...t}},REQUEST_JOB_LOGS(e){e.detailJob.isLoading=!0},RECEIVE_JOB_LOGS_ERROR(e){e.detailJob.isLoading=!1},RECEIVE_JOB_LOGS_SUCCESS(e,t){e.detailJob.isLoading=!1,e.detailJob.output=t.html}},getters:g};const Yo=function({commit:e},t){e("PUSH",t)};var Jo={namespaced:!0,state:function(){return{fullPath:""}},mutations:{PUSH(e,t){e.fullPath=t}},actions:v},Ko={SET_INITIAL_DATA(e,t){Object.assign(e,t)},TOGGLE_LOADING(e,{entry:t,forceValue:n}){t.path?Object.assign(e.entries[t.path],{loading:void 0!==n?n:!e.entries[t.path].loading}):Object.assign(t,{loading:void 0!==n?n:!t.loading})},SET_RESIZING_STATUS(e,t){Object.assign(e,{panelResizing:t})},SET_LAST_COMMIT_MSG(e,t){Object.assign(e,{lastCommitMsg:t})},CLEAR_STAGED_CHANGES(e){Object.assign(e,{stagedFiles:[]})},SET_ENTRIES(e,t){Object.assign(e,{entries:t})},CREATE_TMP_ENTRY(e,{data:t}){Object.keys(t.entries).reduce((function(n,i){const r=t.entries[i],o=e.entries[i];if(!o||o.deleted)Object.assign(e.entries,{[i]:r});else{const e=r.tree.filter((function(e){return void 0===o.tree.find((function(t){return t.path===e.path}))}));Object.assign(o,{tree:Object(Ft.l)(o.tree.concat(e))})}return n.concat(i)}),[]);const n=e.trees[`${e.currentProjectId}/${e.currentBranchId}`];n.tree.find((function(e){return e.path===t.treeList[0].path}))||Object.assign(n,{tree:Object(Ft.l)(n.tree.concat(t.treeList))})},UPDATE_TEMP_FLAG(e,{path:t,tempFile:n}){Object.assign(e.entries[t],{tempFile:n,changed:n})},UPDATE_VIEWER(e,t){Object.assign(e,{viewer:t})},UPDATE_DELAY_VIEWER_CHANGE(e,t){Object.assign(e,{delayViewerUpdated:t})},UPDATE_ACTIVITY_BAR_VIEW(e,t){Object.assign(e,{currentActivityView:t})},SET_EMPTY_STATE_SVGS(e,{emptyStateSvgPath:t,noChangesStateSvgPath:n,committedStateSvgPath:i,pipelinesEmptyStateSvgPath:r,promotionSvgPath:o,switchEditorSvgPath:a}){Object.assign(e,{emptyStateSvgPath:t,noChangesStateSvgPath:n,committedStateSvgPath:i,pipelinesEmptyStateSvgPath:r,promotionSvgPath:o,switchEditorSvgPath:a})},TOGGLE_FILE_FINDER(e,t){Object.assign(e,{fileFindVisible:t})},UPDATE_FILE_AFTER_COMMIT(e,{file:t,lastCommit:n}){const i=e.changedFiles.find((function(e){return e.path===t.path})),{prevPath:r}=t;if(Object.assign(e.entries[t.path],{raw:t.content,changed:Boolean(i),staged:!1,lastCommitSha:n.commit.id,prevId:void 0,prevPath:void 0,prevName:void 0,prevKey:void 0,prevParentPath:void 0}),r){const n=new RegExp(r+"$");Object.assign(e.entries[t.path],{rawPath:t.rawPath.replace(n,t.path)})}},SET_LINKS(e,t){Object.assign(e,{links:t})},CLEAR_PROJECTS(e){Object.assign(e,{projects:{},trees:{}})},RESET_OPEN_FILES(e){Object.assign(e,{openFiles:[]})},SET_ERROR_MESSAGE(e,t){Object.assign(e,{errorMessage:t})},DELETE_ENTRY(e,t){const n=e.entries[t],{tempFile:i=!1}=n,r=n.parentPath?e.entries[n.parentPath]:e.trees[`${e.currentProjectId}/${e.currentBranchId}`];n.deleted=!0,r&&(r.tree=r.tree.filter((function(e){return e.path!==n.path}))),"blob"===n.type&&(i?(e.changedFiles=e.changedFiles.filter((function(e){return e.path!==t})),e.stagedFiles=e.stagedFiles.filter((function(e){return e.path!==t}))):e.changedFiles=e.changedFiles.concat(n))},RENAME_ENTRY(e,{path:t,name:n,parentPath:i}){const r=e.entries[t],o=i?`${i}/${n}`:n,a=o===r.prevPath,s=r.key.replace(new RegExp(r.path,"g"),o),c={...r,name:n,id:o,path:o,key:s,parentPath:i||""},u=r.tempFile||a?{prevId:void 0,prevPath:void 0,prevName:void 0,prevKey:void 0,prevParentPath:void 0}:{prevId:r.prevId||r.id,prevPath:r.prevPath||r.path,prevName:r.prevName||r.name,prevKey:r.prevKey||r.key,prevParentPath:r.prevParentPath||r.parentPath};S.default.set(e.entries,o,{...c,...u}),Object(Ft.i)(r.parentPath,i)||Object(Ft.j)(e,r.key,r.parentPath),Object(Ft.m)(e,r.key,o,i),"blob"===r.type&&Object(Ft.n)(e,r.key,o),S.default.delete(e.entries,r.path)},...{SET_CURRENT_PROJECT(e,t){Object.assign(e,{currentProjectId:t})},SET_PROJECT(e,{projectPath:t,project:n}){Object.assign(n,{tree:[],branches:{},mergeRequests:{},active:!0}),Object.assign(e,{projects:{...e.projects,[t]:n}})},TOGGLE_EMPTY_STATE(e,{projectPath:t,value:n}){Object.assign(e.projects[t],{empty_repo:n})},UPDATE_PROJECT(e,{projectPath:t,props:n}){const i=e.projects[t];i&&n&&Object.keys(n).forEach((function(e){S.default.set(i,e,n[e])}))}},...{SET_CURRENT_MERGE_REQUEST(e,t){Object.assign(e,{currentMergeRequestId:t})},SET_MERGE_REQUEST(e,{projectPath:t,mergeRequestId:n,mergeRequest:i}){const r=e.projects[t].mergeRequests[n]||{};Object.assign(e.projects[t],{mergeRequests:{[n]:{...i,active:!0,changes:[],versions:[],baseCommitSha:null,...r}}})},SET_MERGE_REQUEST_CHANGES(e,{projectPath:t,mergeRequestId:n,changes:i}){Object.assign(e.projects[t].mergeRequests[n],{changes:i})},SET_MERGE_REQUEST_VERSIONS(e,{projectPath:t,mergeRequestId:n,versions:i}){Object.assign(e.projects[t].mergeRequests[n],{versions:i,baseCommitSha:i.length?i[0].base_commit_sha:null})}},...{SET_FILE_ACTIVE(e,{path:t,active:n}){Object.assign(e.entries[t],{active:n,lastOpenedAt:(new Date).getTime()}),n&&!e.entries[t].pending&&Object.assign(e,{openFiles:e.openFiles.map((function(e){return Object.assign(e,{active:!e.pending&&e.active})}))})},TOGGLE_FILE_OPEN(e,t){const n=e.entries[t];n.opened=!n.opened,n.opened&&!n.tempFile&&(n.loading=!0),n.opened?Object.assign(e,{openFiles:e.openFiles.filter((function(e){return e.path!==t})).concat(e.entries[t])}):Object.assign(e,{openFiles:e.openFiles.filter((function(e){return e.key!==n.key}))})},SET_FILE_DATA(e,{data:t,file:n}){const i=e.entries[n.path],r=e.stagedFiles.find((function(e){return e.path===n.path})),o=e.openFiles.find((function(e){return e.path===n.path})),a=e.changedFiles.find((function(e){return e.path===n.path}));[i,r,o,a].forEach((function(e){e&&Object.assign(e,Object(P.h)(t,{dropKeys:["path","name","raw","baseRaw"]}),{raw:i&&i.raw||null,baseRaw:null})}))},SET_FILE_RAW_DATA(e,{file:t,raw:n,fileDeletedAndReadded:i=!1}){const r=e.openFiles.find((function(e){return e.path===t.path&&e.pending&&!(e.tempFile&&!e.prevPath&&!i)})),o=e.stagedFiles.find((function(e){return e.path===t.path}));t.tempFile&&""===t.content&&!i?Object.assign(e.entries[t.path],{content:n}):i?Object.assign(o,{raw:n}):Object.assign(e.entries[t.path],{raw:n}),r&&(r.tempFile?r.tempFile&&!i?r.content=n:i&&Object.assign(o,{raw:n}):r.raw=n)},SET_FILE_BASE_RAW_DATA(e,{file:t,baseRaw:n}){Object.assign(e.entries[t.path],{baseRaw:n})},UPDATE_FILE_CONTENT(e,{path:t,content:n}){const i=e.stagedFiles.find((function(e){return e.path===t})),r=n!==(i?i.content:e.entries[t].raw);Object.assign(e.entries[t],{content:n,changed:r})},SET_FILE_MERGE_REQUEST_CHANGE(e,{file:t,mrChange:n}){let i=O.u.replaced;n.new_file?i=O.u.new:n.deleted_file?i=O.u.deleted:n.renamed_file&&(i=O.u.renamed),Object.assign(e.entries[t.path],{mrChange:{...n,diffMode:i}})},DISCARD_FILE_CHANGES(e,t){const n=e.stagedFiles.find((function(e){return e.path===t})),i=e.entries[t],{deleted:r}=i;if(Object.assign(e.entries[t],{content:n?n.content:e.entries[t].raw,changed:!1,deleted:!1}),r){const t=i.parentPath?e.entries[i.parentPath]:e.trees[`${e.currentProjectId}/${e.currentBranchId}`];t.tree=Object(Ft.l)(t.tree.concat(i))}},ADD_FILE_TO_CHANGED(e,t){Object.assign(e,{changedFiles:e.changedFiles.concat(e.entries[t])})},REMOVE_FILE_FROM_CHANGED(e,t){Object.assign(e,{changedFiles:e.changedFiles.filter((function(e){return e.path!==t}))})},STAGE_CHANGE(e,{path:t,diffInfo:n}){const i=e.stagedFiles.find((function(e){return e.path===t}));Object.assign(e,{changedFiles:e.changedFiles.filter((function(e){return e.path!==t})),entries:Object.assign(e.entries,{[t]:Object.assign(e.entries[t],{staged:n.exists,changed:n.changed,tempFile:n.tempFile,deleted:n.deleted})})}),i?Object.assign(i,{...e.entries[t]}):e.stagedFiles=[...e.stagedFiles,{...e.entries[t]}],n.exists||(e.stagedFiles=e.stagedFiles.filter((function(e){return e.path!==t})))},UNSTAGE_CHANGE(e,{path:t,diffInfo:n}){const i=e.changedFiles.find((function(e){return e.path===t})),r=e.stagedFiles.find((function(e){return e.path===t}));!i&&r&&(Object.assign(e.entries[t],{...r,key:e.entries[t].key,active:e.entries[t].active,opened:e.entries[t].opened,changed:!0}),e.changedFiles=e.changedFiles.concat(e.entries[t])),n.exists||(e.changedFiles=e.changedFiles.filter((function(e){return e.path!==t}))),Object.assign(e,{stagedFiles:e.stagedFiles.filter((function(e){return e.path!==t})),entries:Object.assign(e.entries,{[t]:Object.assign(e.entries[t],{staged:!1,changed:n.changed,tempFile:n.tempFile,deleted:n.deleted})})})},TOGGLE_FILE_CHANGED(e,{file:t,changed:n}){Object.assign(e.entries[t.path],{changed:n})},ADD_PENDING_TAB(e,{file:t,keyPrefix:n="pending"}){e.entries[t.path].opened=!1,e.entries[t.path].active=!1,e.entries[t.path].lastOpenedAt=(new Date).getTime(),e.openFiles.forEach((function(e){return Object.assign(e,{opened:!1,active:!1})})),e.openFiles=[{...t,key:`${n}-${t.key}`,pending:!0,opened:!0,active:!0}]},REMOVE_PENDING_TAB(e,t){Object.assign(e,{openFiles:e.openFiles.filter((function(e){return e.key!==t.key}))})},REMOVE_FILE_FROM_STAGED_AND_CHANGED(e,t){Object.assign(e,{changedFiles:e.changedFiles.filter((function(e){return e.key!==t.key})),stagedFiles:e.stagedFiles.filter((function(e){return e.key!==t.key}))}),Object.assign(e.entries[t.path],{changed:!1,staged:!1})}},...{TOGGLE_TREE_OPEN(e,t){Object.assign(e.entries[t],{opened:!e.entries[t].opened})},SET_TREE_OPEN(e,t){Object.assign(e.entries[t],{opened:!0})},CREATE_TREE(e,{treePath:t}){Object.assign(e,{trees:{...e.trees,[t]:{tree:[],loading:!0}}})},SET_DIRECTORY_DATA(e,{data:t,treePath:n}){const i=e.trees[n],r=i.tree.length?i.loading&&Object(Ft.h)(i.tree,t):t;Object.assign(i,{tree:r})},REMOVE_ALL_CHANGES_FILES(e){Object.assign(e,{changedFiles:[]})},RESTORE_TREE(e,t){const n=e.entries[t],i=n.parentPath?e.entries[n.parentPath]:e.trees[`${e.currentProjectId}/${e.currentBranchId}`];i.tree.find((function(e){return e.path===t}))||(i.tree=Object(Ft.l)(i.tree.concat(n)))}},...{SET_CURRENT_BRANCH(e,t){Object.assign(e,{currentBranchId:t})},SET_BRANCH(e,{projectPath:t,branchName:n,branch:i}){Object.assign(e.projects[t],{branches:{[n]:{...i,treeId:`${t}/${n}`,active:!0,workingReference:""}}})},SET_BRANCH_WORKING_REFERENCE(e,{projectId:t,branchId:n,reference:i}){e.projects[t].branches[n]||Object.assign(e.projects[t].branches,{[n]:{}}),Object.assign(e.projects[t].branches[n],{workingReference:i})},SET_BRANCH_COMMIT(e,{projectId:t,branchId:n,commit:i}){Object.assign(e.projects[t].branches[n],{commit:i})}},...{DETECT_ENVIRONMENTS_GUIDANCE_ALERT(e,t){var n;if(!t)return;const i=null==t||null===(n=t.nodes)||void 0===n?void 0:n.some((function(e){return e.groups.nodes.some((function(e){return e.jobs.nodes.some((function(e){return e.environment}))}))})),r=Array.isArray(t.nodes);e.environmentsGuidanceAlertDetected=!i&&r},DISMISS_ENVIRONMENTS_GUIDANCE_ALERT(e){e.environmentsGuidanceAlertDismissed=!0}}};S.default.use(C.b);const Qo=function(){const e=new C.b.Store({state:{currentProjectId:"",currentBranchId:"",currentMergeRequestId:"",changedFiles:[],stagedFiles:[],endpoints:{},lastCommitMsg:"",loading:!1,openFiles:[],trees:{},projects:{},panelResizing:!1,entries:{},viewer:O.B.edit,delayViewerUpdated:!1,currentActivityView:O.x.edit.name,fileFindVisible:!1,links:{},errorMessage:null,entryModal:{type:"",path:"",entry:{}},renderWhitespaceInCode:!1,editorTheme:en.a,environmentsGuidanceAlertDismissed:!1,environmentsGuidanceAlertDetected:!1,previewMarkdownPath:"",userPreferencesPath:""},actions:i,mutations:Ko,getters:r,modules:{commit:Lr,pipelines:Wo,mergeRequests:co,branches:vr,fileTemplates:{namespaced:!0,actions:l,state:{isLoading:!1,templates:[],selectedTemplateType:{},updateSuccess:!1},getters:d,mutations:eo},rightPane:{namespaced:!0,state:{isOpen:!1,currentView:null,keepAliveViews:{}},actions:h,getters:p,mutations:po},router:Jo,editor:qr}});return Gr(e),e};S.default.use(j.a),S.default.use(T.a,{components:["FileTree"]});const Xo=function(e,t={}){if(!e)return null;const{rootComponent:n=Jt,extendStore:i=y.a}=t,r=Qo(),o=JSON.parse(e.dataset.project);r.dispatch("setProject",{project:o}),r.dispatch("fetchProjectPermissions");const a=function(e,t){const n=new Xt({mode:"history",base:Object(Qt.C)(gon.relative_url_root||"","/-/ide/"),routes:[{path:"/project/:namespace+/:project",component:Zt,children:[{path:":targetmode(edit|tree|blob)/:branchid+/-/*",component:Zt},{path:":targetmode(edit|tree|blob)/:branchid+/",redirect:function(e){return Object(Qt.C)(e.path,"/-/")}},{path:":targetmode(edit|tree|blob)",redirect:function(e){return Object(Qt.C)(e.path,`/${t}/-/`)}},{path:"merge_requests/:mrid",component:Zt},{path:"",redirect:function(e){return Object(Qt.C)(e.path,`/edit/${t}/-/`)}}]}]});return n.beforeEach((function(t,n,i){if(t.params.namespace&&t.params.project){const n=t.params.pathMatch||"",i=`${t.params.namespace}/${t.params.project}`,r=t.params.branchid,o=t.params.mrid;Object(x.a)({mark:F.J}),r?(Object(x.a)({mark:F.I,measures:[{name:F.S,start:F.J}]}),e.dispatch("openBranch",{projectId:i,branchId:r,basePath:n})):o&&e.dispatch("openMergeRequest",{projectId:i,mergeRequestId:o,targetProjectId:t.query.target_project})}i()})),function(e,t){const n=[];let i="";n.push(t.watch((function(e){return e.router.fullPath}),(function(t){i!==t&&(i=t,e.push(t))}))),n.push(e.afterEach((function(e){i!==e.fullPath&&(i=e.fullPath,t.dispatch("router/push",i,{root:!0}))})))}(n,e),n}(r,e.dataset.defaultBranch||O.a);return new S.default({el:e,store:i(r,e),router:a,created(){var t;this.setEmptyStateSvgs({emptyStateSvgPath:e.dataset.emptyStateSvgPath,noChangesStateSvgPath:e.dataset.noChangesStateSvgPath,committedStateSvgPath:e.dataset.committedStateSvgPath,pipelinesEmptyStateSvgPath:e.dataset.pipelinesEmptyStateSvgPath,promotionSvgPath:e.dataset.promotionSvgPath,switchEditorSvgPath:e.dataset.switchEditorSvgPath}),this.setLinks({webIDEHelpPagePath:e.dataset.webIdeHelpPagePath,newWebIDEHelpPagePath:e.dataset.newWebIdeHelpPagePath,forkInfo:e.dataset.forkInfo?JSON.parse(e.dataset.forkInfo):null}),this.init({renderWhitespaceInCode:Object(P.H)(e.dataset.renderWhitespaceInCode),editorTheme:(null===(t=window.gon)||void 0===t?void 0:t.user_color_scheme)||en.a,environmentsGuidanceAlertDismissed:!Object(P.H)(e.dataset.enableEnvironmentsGuidance),previewMarkdownPath:e.dataset.previewMarkdownPath,userPreferencesPath:e.dataset.userPreferencesPath})},beforeDestroy(){this.$emit("destroy")},methods:{...Object(C.c)(["setEmptyStateSvgs","setLinks","init"])},render:e=>e(n)})};const Zo=function({dispatch:e}){e("fetchConfigCheck"),e("fetchRunnersCheck")},ea=function({commit:e}){e("HIDE_SPLASH")},ta=function({commit:e},t){e("SET_PATHS",t)},na=function(e){return Object(Qt.C)(gon.relative_url_root||"",`/${e}/ide_terminals`)};var ia=n("bQWb");const ra=Object(k.a)("An unexpected error occurred while checking the project environment."),oa=Object(k.a)("An unexpected error occurred while checking the project runners."),aa=Object(k.a)("An unexpected error occurred while communicating with the Web Terminal."),sa=Object(k.a)("An unexpected error occurred while starting the Web Terminal."),ca=Object(k.a)("An unexpected error occurred while stopping the Web Terminal."),ua=Object(k.a)("Configure GitLab runners to start using the Web Terminal. %{helpStart}Learn more.%{helpEnd}"),la=Object(k.a)("Configure a %{codeStart}.gitlab-webide.yml%{codeEnd} file in the %{codeStart}.gitlab%{codeEnd} directory to start using the Web Terminal. %{helpStart}Learn more.%{helpEnd}"),da=Object(k.a)("You do not have permission to run the Web Terminal. Please contact a project administrator."),fa=function({commit:e}){e("REQUEST_CHECK",ia.a)},ha=function({commit:e}){e("SET_VISIBLE",!0),e("RECEIVE_CHECK_SUCCESS",ia.a)},pa=function({commit:e,state:t},n){const{status:i}=n.response,{paths:r}=t;e("SET_VISIBLE",i!==tn.b&&i!==tn.d);const o=function(e,t){return e===tn.j?Object(k.h)(la,{helpStart:`<a href="${Z()(t)}" target="_blank">`,helpEnd:"</a>",codeStart:"<code>",codeEnd:"</code>"},!1):e===tn.b?da:ra}(i,r.webTerminalConfigHelpPath);e("RECEIVE_CHECK_ERROR",{type:ia.a,message:o})},ma=function({dispatch:e,rootState:t,rootGetters:n}){e("requestConfigCheck");const{currentBranchId:i}=t,{currentProject:r}=n;var o,a;(o=r.path_with_namespace,a=i,st.a.post(na(o)+"/check_config",{branch:a,format:"json"})).then((function(){e("receiveConfigCheckSuccess")})).catch((function(t){e("receiveConfigCheckError",t)}))},ga=function({commit:e}){e("REQUEST_CHECK",ia.b)},va=function({commit:e,dispatch:t,state:n},i){if(i.length)e("RECEIVE_CHECK_SUCCESS",ia.b);else{const{paths:i}=n;e("RECEIVE_CHECK_ERROR",{type:ia.b,message:(r=i.webTerminalRunnersHelpPath,Object(k.h)(ua,{helpStart:`<a href="${Z()(r)}" target="_blank">`,helpEnd:"</a>"},!1))}),t("retryRunnersCheck")}var r},ba=function({commit:e}){e("RECEIVE_CHECK_ERROR",{type:ia.b,message:oa})},_a=function({dispatch:e,state:t}){const n=t.checks[ia.a];(n.isLoading||n.isValid)&&setTimeout((function(){e("fetchRunnersCheck",{background:!0})}),ia.d)},wa=function({dispatch:e,rootGetters:t},n={}){const{background:i=!1}=n;i||e("requestRunnersCheck");const{currentProject:r}=t;jn.b.projectRunners(r.id,{params:{scope:"active"}}).then((function({data:t}){e("receiveRunnersCheckSuccess",t)})).catch((function(t){e("receiveRunnersCheckError",t)}))},Ea=function({commit:e}){e("SET_SESSION_STATUS",ia.f)},ya=function({commit:e,dispatch:t},n){e("SET_SESSION",{id:n.id,status:n.status,showPath:n.show_path,cancelPath:n.cancel_path,retryPath:n.retry_path,terminalPath:n.terminal_path,proxyWebsocketPath:n.proxy_websocket_path,services:n.services}),t("pollSessionStatus")},Sa=function({dispatch:e}){Object(Ze.createAlert)({message:sa}),e("killSession")},Ca=function({state:e,dispatch:t,rootGetters:n,rootState:i}){if(e.session&&e.session.status===ia.f)return;const{currentProject:r}=n,{currentBranchId:o}=i;var a,s;t("requestStartSession"),(a=r.path_with_namespace,s=o,st.a.post(na(a),{branch:s,format:"json"})).then((function({data:e}){t("receiveStartSessionSuccess",e)})).catch((function(e){t("receiveStartSessionError",e)}))},Oa=function({commit:e}){e("SET_SESSION_STATUS",ia.h)},Ta=function({dispatch:e}){e("killSession")},ja=function({dispatch:e}){Object(Ze.createAlert)({message:ca}),e("killSession")},Pa=function({state:e,dispatch:t}){const{cancelPath:n}=e.session;t("requestStopSession"),st.a.post(n).then((function(){t("receiveStopSessionSuccess")})).catch((function(e){t("receiveStopSessionError",e)}))},Ra=function({commit:e,dispatch:t}){t("stopPollingSessionStatus"),e("SET_SESSION_STATUS",ia.g)},Ia=function({state:e,dispatch:t,rootState:n}){const{status:i,retryPath:r}=e.session,{currentBranchId:o}=n;i===ia.g&&(r?(t("requestStartSession"),st.a.post(r,{branch:o,format:"json"}).then((function({data:e}){t("receiveStartSessionSuccess",e)})).catch((function(e){const n=e.response&&e.response.status;n===tn.d||n===tn.j?t("startSession"):t("receiveStartSessionError",e)}))):t("startSession"))};var Aa=n("sioD");const ka=function({state:e,dispatch:t,commit:n}){t("stopPollingSessionStatus"),t("fetchSessionStatus");n("SET_SESSION_STATUS_INTERVAL",setInterval((function(){e.session?t("fetchSessionStatus"):t("stopPollingSessionStatus")}),5e3))},Fa=function({state:e,commit:t}){const{sessionStatusInterval:n}=e;n&&(clearInterval(n),t("SET_SESSION_STATUS_INTERVAL",0))},xa=function({commit:e,dispatch:t},n){const i=n&&n.status;e("SET_SESSION_STATUS",i),Object(Aa.a)(i)&&t("killSession")},Ma=function({dispatch:e}){Object(Ze.createAlert)({message:aa}),e("killSession")},La=function({dispatch:e,state:t}){if(!t.session)return;const{showPath:n}=t.session;st.a.get(n).then((function({data:t}){e("receiveSessionStatusSuccess",t)})).catch((function(t){e("receiveSessionStatusError",t)}))},Na=function(e){const t=Object.values(e.checks);if(t.some((function(e){return e.isLoading})))return{isLoading:!0};const n=t.find((function(e){return!e.isValid}));return{isLoading:!1,isValid:!n,message:n?n.message:""}};var Da={SET_VISIBLE(e,t){Object.assign(e,{isVisible:t})},HIDE_SPLASH(e){Object.assign(e,{isShowSplash:!1})},SET_PATHS(e,t){Object.assign(e,{paths:t})},REQUEST_CHECK(e,t){Object.assign(e.checks,{[t]:{isLoading:!0}})},RECEIVE_CHECK_ERROR(e,{type:t,message:n}){Object.assign(e.checks,{[t]:{isLoading:!1,isValid:!1,message:n}})},RECEIVE_CHECK_SUCCESS(e,t){Object.assign(e.checks,{[t]:{isLoading:!1,isValid:!0,message:null}})},SET_SESSION(e,t){Object.assign(e,{session:t})},SET_SESSION_STATUS(e,t){const n={...e.session,status:t};Object.assign(e,{session:n})},SET_SESSION_STATUS_INTERVAL(e,t){Object.assign(e,{sessionStatusInterval:t})}};function Ba(e){return function(t){t.registerModule("terminal",{namespaced:!0,actions:b,getters:_,mutations:Da,state:{checks:{[ia.a]:{isLoading:!0},[ia.b]:{isLoading:!0}},isVisible:!1,isShowSplash:!0,paths:{},session:null,sessionStatusInterval:0}}),t.dispatch("terminal/setPaths",function(e){return{webTerminalSvgPath:e.dataset.webTerminalSvgPath,webTerminalHelpPath:e.dataset.webTerminalHelpPath,webTerminalConfigHelpPath:e.dataset.webTerminalConfigHelpPath,webTerminalRunnersHelpPath:e.dataset.webTerminalRunnersHelpPath}}(e)),t.subscribe((function({type:e}){"SET_BRANCH_WORKING_REFERENCE"===e&&t.dispatch("terminal/init")}))}}var $a=n("xzXO");const qa=function(e){return!e||"\n"===e[e.length-1]},Ga=function(e,t=""){return`diff --git "a/${e}" "b/${t||e}"`},Ua=function(e,t,n){if(!t)return"";const i=n?"+":"-",r=n?"/dev/null":"a/"+e,o=n?"b/"+e:"/dev/null",a=qa(t),s=(c=t,qa(c)?c.substr(0,c.length-1):c).split("\n");var c;return`--- ${r}\n+++ ${o}\n${n?`@@ -0,0 +1,${s.length} @@`:`@@ -1,${s.length} +0,0 @@`}\n${s.map((function(e){return`${i}${e}`})).concat(a?[]:["\\ No newline at end of file"]).join("\n")}`},Va=function(e,t){switch(t){case O.s.move:return n=e.prevPath,i=e.path,`${Ga(n,i)}\nrename from ${n}\nrename to ${i}`;case O.s.create:return function(e,t){const n=Ua(e,t,!0);return`${Ga(e)}\nnew file mode 100644\n${n}`}(e.path,e.content);case O.s.delete:return function(e,t){const n=Ua(e,t,!1);return`${Ga(e)}\ndeleted file mode 100644\n${n}`}(e.path,e.content);case O.s.update:return function(e,t,n){const i=Object($a.createTwoFilesPatch)("a/"+e,"b/"+e,t,n);return`${Ga(e)}\n${r=i,r.replace(/^(=+\s*)/,"")}`;var r}(e.path,e.raw||"",e.content);default:return""}var n,i};var Ha=function(e,t){return n=Va(e,t),qa(n)?n:n+"\n";var n};const za=function(e,t){const n=t.parentPath&&e[t.parentPath];return n&&n.deleted?[n,...za(e,n)]:[]};var Wa=function(e){const t=function({stagedFiles:e=[],changedFiles:t=[],entries:n={}}){const i=e.concat(t).reduce((function(e,t){const n=t.path,i=Object(Ft.a)(t),r=e[n];return i===O.s.delete&&r&&r.action===O.s.create?delete e[n]:e[n]={action:i,file:t},e}),{});return Object.values(i).filter((function(e){return e.action===O.s.move})).forEach((function(e){const t=i[e.file.prevPath];t&&(e.file.content===t.file.content?delete i[e.file.prevPath]:Object.assign(e,{action:O.s.create}))})),Object.values(i).filter((function(e){return e.action===O.s.delete&&e.file.parentPath})).forEach((function({file:e}){i[e.parentPath]||za(n,e).forEach((function(e){i[e.path]={action:O.s.delete,file:e}}))})),Object.values(i)}(e),n=t.filter((function(e){return e.action===O.s.delete})).map((function(e){return e.file.path}));return{patch:t.filter((function(e){return e.action!==O.s.delete})).map((function({file:e,action:t}){return Ha(e,t)})).join(""),toDelete:n}};const Ya=Object(k.a)("Could not connect to Web IDE file mirror service."),Ja=function(){},Ka=function(e){return(t=e.error)&&0!==t.code?{message:e.error.Message}:(n=e.payload)&&n.status_code!==tn.f?{message:e.payload.error_message}:null;var t,n};var Qa=function(){let e=null,t=Ja,n=Ja;const i=function(e){const t=n;n=Ja,t(JSON.parse(e.data))},r=function(){return new Promise((function(e,t){n=function(n){const i=Ka(n);i?t(i):e()}}))};return{upload:t=>function({toDelete:t,patch:n}){if(!e)return Promise.resolve();const i=r(),o={code:"EVENT",namespace:"/files",event:"PATCH",payload:{diff:n,delete_files:t}};return e.send(JSON.stringify(o)),i}(Wa(t)),connect(n){e&&this.disconnect();const r=function(e){return Object(Qt.D)({service:"webide-file-sync"},Object(Qt.v)(e))}(n),[o,a]=function(e){let t=0;return[new Promise((function(n){t=setTimeout(n,e)})),function(){return clearTimeout(t)}]}(8e3);return t=a,o.then((function(){return function(e){return new Promise((function(t,n){const i=new WebSocket(e,["webfilesync.gitlab.com"]),r=function(){i.onopen=null,i.onerror=null};i.onopen=function(){r(),t(i)},i.onerror=function(){r(),n(new Error(Ya))}}))}(r)})).then((function(t){e=t,e.onmessage=i}))},disconnect(){t(),t=Ja,e&&(e.close(),e=null)}}}();const Xa=function({rootState:e,commit:t}){return t("START_LOADING"),Qa.upload(e).then((function(){t("SET_SUCCESS")})).catch((function(e){t("SET_ERROR",e)}))},Za=function({commit:e}){Qa.disconnect(),e("STOP")},es=function({rootState:e,commit:t}){const{session:n}=e.terminal,i=n&&n.proxyWebsocketPath;return i&&function({services:e=[]}){return e.some((function(e){return"webide-file-sync"===e}))}(n)?(t("START_LOADING"),Qa.connect(i).then((function(){t("SET_SUCCESS")})).catch((function(e){throw t("SET_ERROR",e),e}))):Promise.reject()};var ts={START_LOADING(e){e.isLoading=!0,e.isError=!1},SET_ERROR(e,{message:t}){e.isLoading=!1,e.isError=!0,e.message=t},SET_SUCCESS(e){e.isLoading=!1,e.isError=!1,e.isStarted=!0},STOP(e){e.isLoading=!1,e.isStarted=!1}};function ns(){return function(e){e.registerModule("terminalSync",{namespaced:!0,actions:w,mutations:ts,state:{isLoading:!1,isStarted:!1,isError:!1,message:""}});const t=Be()((function(){e.dispatch("terminalSync/upload")}),200),n=function(e){(null==e?void 0:e.type)!==O.s.update&&t()};e.watch((function(e){return e.terminal&&e.terminal.session&&e.terminal.session.status}),(function(t){Object(Aa.b)(t)?e.dispatch("terminalSync/start").then((function(){N.$on("ide.files.change",n)})).catch((function(){})):Object(Aa.a)(t)&&(e.dispatch("terminalSync/stop"),N.$off("ide.files.change",n))}))}}!async function(e){const t=document.getElementById("ide");if(!t)return;if(Object(P.H)(t.dataset.useNewWebIde)){const{initGitlabWebIDE:e}=await Promise.all([n.e(813),n.e(837)]).then(n.bind(null,"epwu"));e(t)}else Object(R.a)(),Xo(t,e)}({extendStore:function(e,t){return[Ba,...gon.features&&gon.features.buildServiceProxy?[ns]:[]].forEach((function(n){return n(t)(e)})),e}})},bOZG:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n("unS+")),s={section:/^\s*\[(([^#;]|\\#|\\;)+)\]\s*([#;].*)?$/,param:/^\s*([\w\.\-\_]+)\s*[=:]\s*(.*?)\s*([#;].*)?$/,comment:/^\s*[#;].*$/};function c(e){var t={},n=null,i=[[n,t]];return e.split(/\r\n|\r|\n/).forEach((function(e){var r;s.comment.test(e)||(s.param.test(e)?(r=e.match(s.param),t[r[1]]=r[2]):s.section.test(e)&&(r=e.match(s.section),n=r[1],t={},i.push([n,t])))})),i}t.parse=function(e){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,new Promise((function(t,n){a.readFile(e,"utf8",(function(e,i){e?n(e):t(c(i))}))}))]}))}))},t.parseSync=function(e){return c(a.readFileSync(e,"utf8"))},t.parseString=c},bQWb:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return l}));const i="config",r="runners",o=1e4,a="starting",s="pending",c="running",u="stopping",l="stopped"},dBaw:function(e,t,n){var i=n("xRX4"),r=n("kSq0");e.exports=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return function e(t,n){var o=[],a=r("{","}",t);if(!a||/\$$/.test(a.pre))return[t];var c,u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(a.body),d=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(a.body),g=u||d,v=a.body.indexOf(",")>=0;if(!g&&!v)return a.post.match(/,.*\}/)?(t=a.pre+"{"+a.body+s+a.post,e(t)):[t];if(g)c=a.body.split(/\.\./);else{if(1===(c=function e(t){if(!t)return[""];var n=[],i=r("{","}",t);if(!i)return t.split(",");var o=i.pre,a=i.body,s=i.post,c=o.split(",");c[c.length-1]+="{"+a+"}";var u=e(s);s.length&&(c[c.length-1]+=u.shift(),c.push.apply(c,u));return n.push.apply(n,c),n}(a.body)).length)if(1===(c=e(c[0],!1).map(f)).length)return(w=a.post.length?e(a.post,!1):[""]).map((function(e){return a.pre+c[0]+e}))}var b,_=a.pre,w=a.post.length?e(a.post,!1):[""];if(g){var E=l(c[0]),y=l(c[1]),S=Math.max(c[0].length,c[1].length),C=3==c.length?Math.abs(l(c[2])):1,O=p;y<E&&(C*=-1,O=m);var T=c.some(h);b=[];for(var j=E;O(j,y);j+=C){var P;if(d)"\\"===(P=String.fromCharCode(j))&&(P="");else if(P=String(j),T){var R=S-P.length;if(R>0){var I=new Array(R+1).join("0");P=j<0?"-"+I+P.slice(1):I+P}}b.push(P)}}else b=i(c,(function(t){return e(t,!1)}));for(var A=0;A<b.length;A++)for(var k=0;k<w.length;k++){var F=_+b[A]+w[k];(!n||g||F)&&o.push(F)}return o}(function(e){return e.split("\\\\").join(o).split("\\{").join(a).split("\\}").join(s).split("\\,").join(c).split("\\.").join(u)}(e),!0).map(d)};var o="\0SLASH"+Math.random()+"\0",a="\0OPEN"+Math.random()+"\0",s="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",u="\0PERIOD"+Math.random()+"\0";function l(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function d(e){return e.split(o).join("\\").split(a).join("{").split(s).join("}").split(c).join(",").split(u).join(".")}function f(e){return"{"+e+"}"}function h(e){return/^-?0\d/.test(e)}function p(e,t){return e<=t}function m(e,t){return e>=t}},f8Rl:function(e,t,n){"use strict";var i={props:{startSize:{type:Number,required:!0},side:{type:String,required:!0},minSize:{type:Number,required:!1,default:0},maxSize:{type:Number,required:!1,default:Number.MAX_VALUE},enabled:{type:Boolean,required:!1,default:!0}},data(){return{size:this.startSize,isDragging:!1}},computed:{className(){return[`position-${this.side}-0`,{"is-dragging":this.isDragging}]},cursorStyle(){return this.enabled?{cursor:"ew-resize"}:{}}},methods:{resetSize(e){var t=this;e.preventDefault(),this.$emit("resize-start",this.size),this.size=this.startSize,this.$emit("update:size",this.size),this.$nextTick((function(){t.$emit("resize-end",t.size)}))},startDrag(e){this.enabled&&(e.preventDefault(),this.isDragging=!0,this.startPos=e.clientX,this.currentStartSize=this.size,document.addEventListener("mousemove",this.drag),document.addEventListener("mouseup",this.endDrag,{once:!0}),this.$emit("resize-start",this.size))},drag(e){e.preventDefault();let t=e.clientX-this.startPos;"left"===this.side&&(t=-t);let n=this.currentStartSize+t;n<this.minSize?n=this.minSize:n>this.maxSize&&(n=this.maxSize),this.size=n,this.$emit("update:size",n)},endDrag(e){e.preventDefault(),this.isDragging=!1,document.removeEventListener("mousemove",this.drag),this.$emit("resize-end",this.size)}}},r=n("tBpV"),o=Object(r.a)(i,(function(){return(0,this._self._c)("div",{staticClass:"position-absolute position-top-0 position-bottom-0 drag-handle",class:this.className,style:this.cursorStyle,on:{mousedown:this.startDrag,dblclick:this.resetSize}})}),[],!1,null,null,null);t.a=o.exports},hPph:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"dismissUserCallout"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UserCalloutCreateInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userCalloutCreate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userCallout"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dismissedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"featureName"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:177}};n.loc.source={body:"mutation dismissUserCallout($input: UserCalloutCreateInput!) {\n  userCalloutCreate(input: $input) {\n    errors\n    userCallout {\n      dismissedAt\n      featureName\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.dismissUserCallout=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,a=new Set,s=new Set;for(o.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"dismissUserCallout")},hWu6:function(e,t,n){"use strict";n.d(t,"a",(function(){return P})),n.d(t,"c",(function(){return I})),n.d(t,"b",(function(){return A}));var i,r=n("8ENL"),o=n("fkuG"),a=n("dOr5"),s=n("rPnh"),c=n("NSGy"),u=n("vI7E"),l=n("7bmO"),d=n("ua/H"),f=n("MUaa"),h=n("nq4Y"),p=n("yvep"),m=n("iPCg"),g=n("SGKy"),v=n("Tu1i"),b=n("QlUp"),_=n("DXSV"),w=n("EQ0+");function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=["aria-describedby","aria-labelledby"],O=Object(u.a)("checked"),T=O.mixin,j=O.props,P=O.prop,R=O.event,I=Object(d.c)(Object(l.m)(y(y(y(y(y(y(y(y({},_.b),j),p.b),g.b),v.b),b.b),m.b),{},{ariaInvalid:Object(d.b)(o.i,!1),buttonVariant:Object(d.b)(o.r),buttons:Object(d.b)(o.g,!1),stacked:Object(d.b)(o.g,!1),validated:Object(d.b)(o.g,!1)})),"formRadioCheckGroups"),A=Object(r.c)({mixins:[_.a,T,w.a,p.a,g.a,v.a,b.a,m.a],inheritAttrs:!1,props:I,data:function(){return{localChecked:this[P]}},computed:{inline:function(){return!this.stacked},groupName:function(){return this.name||this.safeId()},groupClasses:function(){var e=this.inline,t=this.size,n={"was-validated":this.validated};return this.buttons&&(n=[n,"btn-group-toggle",S({"btn-group":e,"btn-group-vertical":!e},"btn-group-".concat(t),t)]),n}},watch:(i={},S(i,P,(function(e){Object(c.a)(e,this.localChecked)||(this.localChecked=e)})),S(i,"localChecked",(function(e,t){Object(c.a)(e,t)||this.$emit(R,e)})),i),render:function(e){var t=this,n=this.isRadioGroup,i=Object(l.k)(this.$attrs,C),r=n?h.a:f.a,o=this.formOptions.map((function(n,o){var a="BV_option_".concat(o);return e(r,{props:{disabled:n.disabled||!1,id:t.safeId(a),value:n.value},attrs:i,key:a},[e("span",{domProps:Object(s.a)(n.html,n.text)})])}));return e("div",{class:[this.groupClasses,"bv-no-focus-ring"],attrs:y(y({},Object(l.j)(this.$attrs,C)),{},{"aria-invalid":this.computedAriaInvalid,"aria-required":this.required?"true":null,id:this.safeId(),role:n?"radiogroup":"group",tabindex:"-1"})},[this.normalizeSlot(a.i),o,this.normalizeSlot()])}})},hqF9:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("NmEs"),r=n("QwBj");class o{constructor(e={}){this.options=e,this.options.data=e.data||{},this.options.notificationCallback=e.notificationCallback||function(){},this.intervalHeader="POLL-INTERVAL",this.timeoutID=null,this.canPoll=!0}checkConditions(e){var t=this;const n=Object(i.G)(e.headers),o=parseInt(n[this.intervalHeader],10);o>0&&-1!==r.k.indexOf(e.status)&&this.canPoll&&(this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=setTimeout((function(){t.makeRequest()}),o)),this.options.successCallback(e)}makeDelayedRequest(e=0){var t=this;this.timeoutID=setTimeout((function(){return t.makeRequest()}),e)}makeRequest(){var e=this;const{resource:t,method:n,data:i,errorCallback:o,notificationCallback:a}=this.options;return a(!0),t[n](i).then((function(t){e.checkConditions(t),a(!1)})).catch((function(e){a(!1),e.status!==r.a&&o(e)}))}stop(){this.canPoll=!1,clearTimeout(this.timeoutID)}enable(e){e&&e.data&&(this.options.data=e.data),this.canPoll=!0,e&&e.response&&this.checkConditions(e.response)}restart(e){this.enable(e),this.makeRequest()}}},iN9h:function(e,t,n){"use strict";var i=n("3A1J"),r=n("PrLL"),o=n("s1D3"),a=n("FkSe"),s=n("EldY"),c=n("Pyw5"),u=n.n(c);const l={name:"GlSearchboxByType",components:{GlClearIconButton:i.a,GlIcon:o.a,GlFormInput:r.a,GlLoadingIcon:a.a},inheritAttrs:!1,model:{prop:"value",event:"input"},props:{value:{type:String,required:!1,default:""},borderless:{type:Boolean,required:!1,default:!1},clearButtonTitle:{type:String,required:!1,default:()=>Object(s.a)("GlSearchBoxByType.clearButtonTitle","Clear")},disabled:{type:Boolean,required:!1,default:!1},isLoading:{type:Boolean,required:!1,default:!1},tooltipContainer:{required:!1,default:!1,validator:e=>!1===e||"string"==typeof e||e instanceof HTMLElement}},computed:{inputAttributes(){const e={type:"search",placeholder:Object(s.a)("GlSearchBoxByType.input.placeholder","Search"),...this.$attrs};return e["aria-label"]||(e["aria-label"]=e.placeholder),e},hasValue(){return Boolean(this.value.length)},inputListeners(){return{...this.$listeners,input:this.onInput,focusin:this.onFocusin,focusout:this.onFocusout}},showClearButton(){return this.hasValue&&!this.disabled}},methods:{isInputOrClearButton(e){var t,n;return e===(null===(t=this.$refs.input)||void 0===t?void 0:t.$el)||e===(null===(n=this.$refs.clearButton)||void 0===n?void 0:n.$el)},clearInput(){this.onInput(""),this.focusInput()},focusInput(){this.$refs.input.$el.focus()},onInput(e){this.$emit("input",e)},onFocusout(e){const{relatedTarget:t}=e;this.isInputOrClearButton(t)||this.$emit("focusout",e)},onFocusin(e){const{relatedTarget:t}=e;this.isInputOrClearButton(t)||this.$emit("focusin",e)}}};const d=u()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gl-search-box-by-type"},[n("gl-icon",{staticClass:"gl-search-box-by-type-search-icon",attrs:{name:"search"}}),e._v(" "),n("gl-form-input",e._g(e._b({ref:"input",class:{"gl-search-box-by-type-input":!e.borderless,"gl-search-box-by-type-input-borderless":e.borderless},attrs:{value:e.value,disabled:e.disabled}},"gl-form-input",e.inputAttributes,!1),e.inputListeners)),e._v(" "),e.isLoading||e.showClearButton?n("div",{staticClass:"gl-search-box-by-type-right-icons"},[e.isLoading?n("gl-loading-icon",{staticClass:"gl-search-box-by-type-loading-icon"}):e._e(),e._v(" "),e.showClearButton?n("gl-clear-icon-button",{ref:"clearButton",staticClass:"gl-search-box-by-type-clear gl-clear-icon-button",attrs:{title:e.clearButtonTitle,"tooltip-container":e.tooltipContainer},on:{click:function(t){return t.stopPropagation(),e.clearInput.apply(null,arguments)},focusin:e.onFocusin,focusout:e.onFocusout}}):e._e()],1):e._e()],1)},staticRenderFns:[]},void 0,l,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=d},kNQy:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"IdeProject"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Project"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createMergeRequestIn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"readMergeRequest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pushCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:123}};n.loc.source={body:"fragment IdeProject on Project {\n  id\n  userPermissions {\n    createMergeRequestIn\n    readMergeRequest\n    pushCode\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.IdeProject=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,a=new Set,s=new Set;for(o.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"IdeProject")},kSq0:function(e,t,n){"use strict";function i(e,t,n){e instanceof RegExp&&(e=r(e,n)),t instanceof RegExp&&(t=r(t,n));var i=o(e,t,n);return i&&{start:i[0],end:i[1],pre:n.slice(0,i[0]),body:n.slice(i[0]+e.length,i[1]),post:n.slice(i[1]+t.length)}}function r(e,t){var n=t.match(e);return n?n[0]:null}function o(e,t,n){var i,r,o,a,s,c=n.indexOf(e),u=n.indexOf(t,c+1),l=c;if(c>=0&&u>0){if(e===t)return[c,u];for(i=[],o=n.length;l>=0&&!s;)l==c?(i.push(l),c=n.indexOf(e,l+1)):1==i.length?s=[i.pop(),u]:((r=i.pop())<o&&(o=r,a=u),u=n.indexOf(t,l+1)),l=c<u&&c>=0?c:u;i.length&&(s=[o,a])}return s}e.exports=i,i.range=o},lNHW:function(e,t,n){!function(t){"use strict";var n=-1,i={onVisible:function(e){var t=i.isSupported();if(!t||!i.hidden())return e(),t;var n=i.change((function(t,r){i.hidden()||(i.unbind(n),e())}));return n},change:function(e){if(!i.isSupported())return!1;var t=n+=1;return i._callbacks[t]=e,i._listen(),t},unbind:function(e){delete i._callbacks[e]},afterPrerendering:function(e){var t=i.isSupported();if(!t||"prerender"!=i.state())return e(),t;var n=i.change((function(t,r){"prerender"!=r&&(i.unbind(n),e())}));return n},hidden:function(){return!(!i._doc.hidden&&!i._doc.webkitHidden)},state:function(){return i._doc.visibilityState||i._doc.webkitVisibilityState||"visible"},isSupported:function(){return!(!i._doc.visibilityState&&!i._doc.webkitVisibilityState)},_doc:document||{},_callbacks:{},_change:function(e){var t=i.state();for(var n in i._callbacks)i._callbacks[n].call(i._doc,e,t)},_listen:function(){if(!i._init){var e="visibilitychange";i._doc.webkitVisibilityState&&(e="webkit"+e);var t=function(){i._change.apply(i,arguments)};i._doc.addEventListener?i._doc.addEventListener(e,t):i._doc.attachEvent(e,t),i._init=!0}}};e.exports?e.exports=i:t.Visibility=i}(this)},muR1:function(e){e.exports=JSON.parse('[{"id":"file-finder","label":"File finder","bindings":["CtrlCmd+KEY_P"],"action":{"name":"toggleFileFinder","params":true}},{"id":"save-files","label":"Save files","bindings":["CtrlCmd+KEY_S"],"action":{"name":"triggerFilesChange"}}]')},nq4Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("8ENL"),r=n("0zRR"),o=n("ua/H"),a=n("lOuV"),s=Object(o.c)(a.c,r.x),c=Object(i.c)({name:r.x,mixins:[a.b],inject:{getBvGroup:{from:"getBvRadioGroup",default:function(){return function(){return null}}}},props:s,computed:{bvGroup:function(){return this.getBvGroup()}}})},ntMP:function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],i=t[1];return 3*(n+i)/4-i},t.toByteArray=function(e){var t,n,i=u(e),a=i[0],s=i[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[l++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o=[],a=0,s=n-r;a<s;a+=16383)o.push(l(e,a,a+16383>s?s:a+16383));1===r?(t=e[n-1],o.push(i[t>>2]+i[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var r,o,a=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},oGNu:function(e,t,n){"use strict";var i=n("LLbv"),r=n("s1D3"),o={directives:{GlTooltip:i.a},components:{GlIcon:r.a},props:{label:{type:String,required:!1,default:null},icon:{type:String,required:!0},iconClasses:{type:String,required:!1,default:null},showLabel:{type:Boolean,required:!1,default:!0}},computed:{tooltipTitle(){return this.showLabel?"":this.label}},methods:{clicked(){this.$emit("click")}}},a=n("tBpV"),s=Object(a.a)(o,(function(){var e=this,t=e._self._c;return t("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"btn-blank",attrs:{"aria-label":e.label,title:e.tooltipTitle,type:"button"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.clicked.apply(null,arguments)}}},[t("gl-icon",{class:e.iconClasses,attrs:{name:e.icon}}),e._v(" "),e.showLabel?[e._v("\n    "+e._s(e.label)+"\n  ")]:e._e()],2)}),[],!1,null,null,null);t.a=s.exports},okJA:function(e,t,n){"use strict";n.r(t);var i=n("1cpz"),r=n("4lAS"),o=n("yi8e"),a=n("jlnU"),s=n("/lV4"),c=n("BAGK"),u=n("WXKx");const l={cancelButtonText:Object(s.a)("Cancel")};var d={components:{GlModal:i.a,GlButton:r.a},data:()=>({entryName:"",modalType:c.y.blob,path:""}),computed:{...Object(o.f)(["entries"]),...Object(o.d)("fileTemplates",["templateTypes"]),modalTitle(){const e=this.entries[this.path];return this.modalType===c.y.tree?Object(s.a)("Create new directory"):this.modalType===c.y.rename?e.type===c.y.tree?Object(s.a)("Rename folder"):Object(s.a)("Rename file"):Object(s.a)("Create new file")},buttonLabel(){const e=this.entries[this.path];return this.modalType===c.y.tree?Object(s.a)("Create directory"):this.modalType===c.y.rename?e.type===c.y.tree?Object(s.a)("Rename folder"):Object(s.a)("Rename file"):Object(s.a)("Create file")},actionPrimary(){return{text:this.buttonLabel,attributes:{variant:"confirm"}}},actionCancel:()=>({text:l.cancelButtonText,attributes:{variant:"default"}}),isCreatingNewFile(){return this.modalType===c.y.blob},placeholder(){return this.isCreatingNewFile?"dir/file_name":"dir/"}},methods:{...Object(o.c)(["createTempEntry","renameEntry"]),submitAndClose(){this.submitForm(),this.close()},submitForm(){if(this.entryName=Object(u.j)(this.entryName),this.modalType===c.y.rename)if(this.entries[this.entryName]&&!this.entries[this.entryName].deleted)Object(a.createAlert)({message:Object(s.h)(Object(s.a)('The name "%{name}" is already taken in this directory.'),{name:this.entryName}),fadeTransition:!1,addBodyClass:!0});else{let e=this.entryName.split("/");const t=e.pop();e=e.join("/"),this.renameEntry({path:this.path,name:t,parentPath:e})}else this.createTempEntry({name:this.entryName,type:this.modalType})},createFromTemplate(e){const t=Object(u.c)(this.entryName),n=t?`${t}/${e.name}`:e.name;this.createTempEntry({name:n,type:this.modalType}),this.$refs.modal.toggle()},focusInput(){var e;const t=null===(e=this.entries[this.entryName])||void 0===e?void 0:e.name,n=this.$refs.fieldName.value;this.$refs.fieldName.focus(),t&&this.$refs.fieldName.setSelectionRange(n.indexOf(t),n.length)},resetData(){this.entryName="",this.path="",this.modalType=c.y.blob},open(e=c.y.blob,t=""){var n=this;this.modalType=e,this.path=t,this.modalType===c.y.rename?this.entryName=t:this.entryName=t?t+"/":"",this.$refs.modal.show(),this.$nextTick((function(){return n.focusInput()}))},close(){this.$refs.modal.hide()}}},f=n("tBpV"),h=Object(f.a)(d,(function(){var e=this,t=e._self._c;return t("gl-modal",{ref:"modal",attrs:{"modal-id":"ide-new-entry","data-testid":"ide-new-entry",title:e.modalTitle,size:"lg","action-primary":e.actionPrimary,"action-cancel":e.actionCancel},on:{primary:e.submitForm,cancel:e.resetData}},[t("div",{staticClass:"form-group row"},[t("label",{staticClass:"label-bold col-form-label col-sm-2"},[e._v(" "+e._s(e.__("Name"))+" ")]),e._v(" "),t("div",{staticClass:"col-sm-10"},[t("form",{attrs:{"data-testid":"file-name-form"},on:{submit:function(t){return t.preventDefault(),e.submitAndClose.apply(null,arguments)}}},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.entryName,expression:"entryName",modifiers:{trim:!0}}],ref:"fieldName",staticClass:"form-control",attrs:{type:"text","data-testid":"file-name-field",placeholder:e.placeholder},domProps:{value:e.entryName},on:{input:function(t){t.target.composing||(e.entryName=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),e.isCreatingNewFile?t("ul",{staticClass:"file-templates gl-mt-3 list-inline"},e._l(e.templateTypes,(function(n,i){return t("li",{key:i,staticClass:"list-inline-item"},[t("gl-button",{staticClass:"p-1 pr-2 pl-2",attrs:{variant:"dashed",category:"secondary"},on:{click:function(t){return e.createFromTemplate(n)}}},[e._v("\n            "+e._s(n.name)+"\n          ")])],1)})),0):e._e()])])])}),[],!1,null,null,null);t.default=h.exports},opdT:function(e,t,n){"use strict";function i(e){return Object.defineProperty(e,"__v_skip",{value:!0,configurable:!0}),e}n.d(t,"a",(function(){return i}))},"p+Ex":function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"k",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"l",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return p})),n.d(t,"m",(function(){return g})),n.d(t,"j",(function(){return v})),n.d(t,"n",(function(){return b})),n.d(t,"i",(function(){return w})),n.d(t,"e",(function(){return E}));n("RFHG"),n("z6RN"),n("xuo1"),n("3UXl"),n("iyoE"),n("E7T3"),n("UezY"),n("hG7+"),n("B++/"),n("47t/");var i=n("3twG"),r=n("BAGK");const o=function(e){const{id:t,type:n,name:i,path:r,content:o="",tempFile:a=!1,active:s=!1,opened:c=!1,changed:u=!1,rawPath:l="",file_lock:d,parentPath:f="",mimeType:h=""}=e;return Object.assign({id:"",key:"",type:"",name:"",path:"",tempFile:!1,tree:[],loading:!1,opened:!1,active:!1,changed:!1,staged:!1,lastCommitSha:"",rawPath:"",raw:"",content:"",size:0,parentPath:null,lastOpenedAt:0,mrChange:null,deleted:!1,prevPath:void 0,mimeType:""},{id:t,key:`${i}-${n}-${t}`,type:n,name:i,path:r,tempFile:a,opened:c,active:s,changed:u,content:o,rawPath:l,file_lock:d,parentPath:f,mimeType:h})},a=function(e,t){!function(e){document.title=e}([t.path,e.currentBranchId,e.currentProjectId,"GitLab"].join(" · "))},s=function(e){return e.prevPath?r.s.move:e.deleted?r.s.delete:e.tempFile?r.s.create:r.s.update},c=function({branch:e,getters:t,newBranch:n,state:r,rootState:o,rootGetters:a}){return{branch:e,commit_message:r.commitMessage||t.preBuiltCommitMessage,actions:(c=o.stagedFiles,c.reduce((function(e,t){return"tree"===t.type?e:e.concat({...t})}),[])).map((function(e){const t=Object(i.x)(e.rawPath),r=t?btoa(e.content):e.content;return{action:s(e),file_path:e.path,previous_path:e.prevPath||void 0,content:r||void 0,encoding:t?"base64":"text",last_commit_id:n||e.deleted||e.prevPath?void 0:e.lastCommitSha}})),start_sha:n?a.lastCommit.id:void 0};var c},u=function(e,t,n){return`${e}/-/merge_requests/new?merge_request[source_branch]=${t}&merge_request[target_branch]=${n}&nav_source=webide`},l=function(e,t){return"tree"===e.type&&"blob"===t.type?-1:"blob"===e.type&&"tree"===t.type?1:e.name<t.name?-1:e.name>t.name?1:0},d=function(e){return e.map((function(e){return Object.assign(e,{tree:e.tree.length?d(e.tree):[]})})).sort(l)},f=function(e,t){return 0===e.indexOf(t+"/")},h=function(e,t){return e.filter((function(e){return f(e.path,t)})).length},p=function(e,t){if(!e||!e.length)return t;const n=function(e,t){if(!e)return t;const i=t.find((function(t){return t.path===e.path}));if(i&&e.tree.length>0)i.opened=!0,n(e.tree[0],i.tree);else if(!i){const n=d(t.concat(e));t.splice(0,t.length+1,...n)}return t};for(let i=0,r=e.length;i<r;i+=1)n(e[i],t);return t},m=function(e,t){return t?e.entries[t]:e.trees[`${e.currentProjectId}/${e.currentBranchId}`]},g=function(e,t,n,i){if(!n)return;const r=m(e,i);if(r){const i=r.tree.filter((function({key:e,path:i}){return e!==t&&i!==n})).concat(e.entries[n]);r.tree=d(i)}},v=function(e,t,n){const i=m(e,n);i&&(i.tree=d(i.tree.filter((function({key:e}){return e!==t}))))},b=function(e,t,n){["openFiles","changedFiles","stagedFiles"].forEach((function(i){!function(e,t,n,i){Object.assign(e,{[t]:e[t].map((function(t){return t.key===n?e.entries[i]:t}))})}(e,i,t,n)}))},_=function(e){return e.replace(/\/$/,"")},w=function(e,t){return(e?_(e):"")===(t?_(t):"")};function E(e,t){const n={};let r=e.content||e.raw,o=0;return r=r.replace(/!\[([^\]]*)\]\((.*?)(?:(?="|\))"([^"]*)")?\)/gi,(function(r,a,s,c){var u,l,d;const f=(Object(i.z)(s)?s:Object(i.J)(s,e.path)).substr(1).trim(),h=(null===(u=t[f])||void 0===u?void 0:u.content)||(null===(l=t[f])||void 0===l?void 0:l.raw),p=null===(d=t[f])||void 0===d?void 0:d.rawPath;if(!Object(i.w)(s)&&h){const e=p;o+=1;const t=`{{gl_md_img_${o}}}`;return n[t]={alt:a,src:e,title:c},t}return c?`![${a}](${s}"${c}")`:`![${a}](${s})`})),{content:r,images:n}}},pIt4:function(e,t,n){"use strict";n.d(t,"I",(function(){return i})),n.d(t,"ab",(function(){return r})),n.d(t,"O",(function(){return o})),n.d(t,"D",(function(){return a})),n.d(t,"Z",(function(){return s})),n.d(t,"W",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"u",(function(){return l})),n.d(t,"r",(function(){return d})),n.d(t,"J",(function(){return f})),n.d(t,"V",(function(){return h})),n.d(t,"Y",(function(){return p})),n.d(t,"hb",(function(){return m})),n.d(t,"F",(function(){return g})),n.d(t,"E",(function(){return v})),n.d(t,"M",(function(){return b})),n.d(t,"N",(function(){return _})),n.d(t,"s",(function(){return w})),n.d(t,"t",(function(){return E})),n.d(t,"L",(function(){return y})),n.d(t,"Fb",(function(){return S})),n.d(t,"j",(function(){return C})),n.d(t,"K",(function(){return O})),n.d(t,"q",(function(){return T})),n.d(t,"o",(function(){return j})),n.d(t,"T",(function(){return P})),n.d(t,"Db",(function(){return R})),n.d(t,"Bb",(function(){return I})),n.d(t,"Cb",(function(){return A})),n.d(t,"G",(function(){return k})),n.d(t,"S",(function(){return F})),n.d(t,"Ab",(function(){return x})),n.d(t,"X",(function(){return M})),n.d(t,"U",(function(){return L})),n.d(t,"Eb",(function(){return N})),n.d(t,"Q",(function(){return D})),n.d(t,"P",(function(){return B})),n.d(t,"R",(function(){return $})),n.d(t,"db",(function(){return q})),n.d(t,"H",(function(){return G})),n.d(t,"l",(function(){return U})),n.d(t,"m",(function(){return V})),n.d(t,"c",(function(){return H})),n.d(t,"b",(function(){return z})),n.d(t,"a",(function(){return W})),n.d(t,"n",(function(){return Y})),n.d(t,"p",(function(){return J})),n.d(t,"fb",(function(){return K})),n.d(t,"gb",(function(){return Q})),n.d(t,"eb",(function(){return X})),n.d(t,"yb",(function(){return Z})),n.d(t,"xb",(function(){return ee})),n.d(t,"zb",(function(){return te})),n.d(t,"wb",(function(){return ne})),n.d(t,"bb",(function(){return ie})),n.d(t,"x",(function(){return re})),n.d(t,"w",(function(){return oe})),n.d(t,"v",(function(){return ae})),n.d(t,"B",(function(){return se})),n.d(t,"A",(function(){return ce})),n.d(t,"z",(function(){return ue})),n.d(t,"C",(function(){return le})),n.d(t,"y",(function(){return de})),n.d(t,"g",(function(){return fe})),n.d(t,"h",(function(){return he})),n.d(t,"d",(function(){return pe})),n.d(t,"e",(function(){return me})),n.d(t,"f",(function(){return ge})),n.d(t,"k",(function(){return ve})),n.d(t,"ib",(function(){return be})),n.d(t,"jb",(function(){return _e})),n.d(t,"kb",(function(){return we})),n.d(t,"ob",(function(){return Ee})),n.d(t,"pb",(function(){return ye})),n.d(t,"lb",(function(){return Se})),n.d(t,"rb",(function(){return Ce})),n.d(t,"qb",(function(){return Oe})),n.d(t,"nb",(function(){return Te})),n.d(t,"vb",(function(){return je})),n.d(t,"ub",(function(){return Pe})),n.d(t,"mb",(function(){return Re})),n.d(t,"tb",(function(){return Ie})),n.d(t,"sb",(function(){return Ae})),n.d(t,"Gb",(function(){return ke})),n.d(t,"cb",(function(){return Fe}));const i="inline",r="parallel",o="match",a="expanded",s="old-nonewline",c="new-nonewline",u="context",l="empty-cell",d="DiffNote",f="LegacyDiffNote",h="new",p="old",m="text",g="image",v="file",b="left",_="right",w="diff_view",E="diff_whitespace",y="is-over",S=20,C=3,O=17,T="120000",j="0",P="mr_tree_show",R="tree",I="mr_diff_tree_list",A="mr_tree_list_width",k=320,F=240,x=260,M="old_line",L="new_line",N="type",D=500,B=30,$=2,q=200,G="highlighted_diff_lines",U=-1,V=-2,H="overflow",z="merge-conflict",W="collapsed",Y="automatic",J="manual",K="idle",Q="loading",X="errored",Z="LOAD_START",ee="LOAD_ERROR",te="LOAD_SUCCEED",ne="ACKNOWLEDGE_ERROR",ie={[`${K}:${Z}`]:Q,[`${Q}:${ee}`]:X,[`${Q}:${te}`]:K,[`${X}:${Z}`]:Q,[`${X}:${ne}`]:K},re="mr:asyncPreparationFinished",oe="mr:diffs:expandAllFiles",ae="mr:diffs:discussionsAssigned",se="mr:diffs:perf:fileTreeStart",ce="mr:diffs:perf:fileTreeEnd",ue="mr:diffs:perf:filesStart",le="mr:diffs:perf:firstFileShown",de="mr:diffs:perf:filesEnd",fe="conflict_our",he="conflict_their",pe="conflict_marker",me="conflict_marker_our",ge="conflict_marker_their",ve=750,be="code_review_events_dispatched",_e=864e5,we="i_code_review_click_diff_view_setting",Ee="i_code_review_diff_view_inline",ye="i_code_review_diff_view_parallel",Se="i_code_review_click_file_browser_setting",Ce="i_code_review_file_browser_tree_view",Oe="i_code_review_file_browser_list_view",Te="i_code_review_click_whitespace_setting",je="i_code_review_diff_show_whitespace",Pe="i_code_review_diff_hide_whitespace",Re="i_code_review_click_single_file_mode_setting",Ie="i_code_review_diff_single_file",Ae="i_code_review_diff_multiple_files",ke="-",Fe="dismissed"},pJDX:function(e,t,n){var i=n("LlRA"),r=n("2v8U"),o=n("D3R9"),a=n("P/Kr");e.exports=function(e,t){return(a(e)?i:r)(e,o(t))}},qzKX:function(e,t,n){"use strict";var i=n("4+8U"),r=n("yi8e"),o=n("0ch9"),a=n("lnTC"),s={name:"FileTree",props:{fileRowComponent:{type:Object,required:!0},level:{type:Number,required:!0},file:{type:Object,required:!0}},computed:{childFilesLevel(){return this.file.isHeader?0:this.level+1}},methods:{hasChildren(e){var t;return null===(t=e.tree)||void 0===t?void 0:t.length}}},c=n("tBpV"),u=Object(c.a)(s,(function(){var e=this,t=e._self._c;return t("div",{style:{"--level":e.level}},[t(e.fileRowComponent,e._g(e._b({tag:"component",attrs:{level:e.level,file:e.file}},"component",e.$attrs,!1),e.$listeners)),e._v(" "),e.file.opened||e.file.isHeader?e._l(e.file.tree,(function(n){return t("file-tree",e._g(e._b({key:n.key,staticClass:"gl-relative",class:{"tree-list-parent":e.hasChildren(n)},attrs:{"file-row-component":e.fileRowComponent,level:e.childFilesLevel,file:n}},"file-tree",e.$attrs,!1),e.$listeners))})):e._e()],2)}),[],!1,null,null,null).exports,l=n("OIsX"),d=n("LLbv"),f=n("s1D3"),h=n("/lV4"),p=n("rOrh"),m={components:{GlIcon:f.a},directives:{GlTooltip:d.a}},g=Object(c.a)(m,(function(){return(0,this._self._c)("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-mr-3",attrs:{title:this.__("Part of merge request changes"),size:12,name:"git-merge"}})}),[],!1,null,null,null).exports,v=n("BAGK"),b=n("oGNu"),_=n("okJA"),w=n("HLGc"),E={components:{GlIcon:f.a,Upload:w.a,ItemButton:b.a,NewModal:_.default},props:{type:{type:String,required:!0},path:{type:String,required:!1,default:""},isOpen:{type:Boolean,required:!1,default:!1}},watch:{isOpen(){var e=this;this.$nextTick((function(){e.$refs.dropdownMenu.scrollIntoView({block:"nearest"})}))}},methods:{...Object(r.c)(["createTempEntry","deleteEntry"]),createNewItem(e){this.$refs.newModal.open(e,this.path),this.$emit("toggle",!1)},openDropdown(){this.$emit("toggle",!this.isOpen)}},modalTypes:v.y},y=Object(c.a)(E,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"ide-new-btn"},[t("div",{staticClass:"dropdown d-flex",class:{show:e.isOpen}},[t("button",{staticClass:"rounded border-0 d-flex ide-entry-dropdown-toggle",attrs:{"aria-label":e.__("Create new file or directory"),type:"button"},on:{click:function(t){return t.stopPropagation(),e.openDropdown()}}},[t("gl-icon",{attrs:{name:"ellipsis_v"}})],1),e._v(" "),t("ul",{ref:"dropdownMenu",staticClass:"dropdown-menu dropdown-menu-right",attrs:{"data-testid":"dropdown-menu"}},["tree"===e.type?[t("li",[t("item-button",{staticClass:"d-flex",attrs:{label:e.__("New file"),icon:"doc-new","icon-classes":"mr-2"},on:{click:function(t){return e.createNewItem("blob")}}})],1),e._v(" "),t("upload",{attrs:{path:e.path},on:{create:e.createTempEntry}}),e._v(" "),t("li",[t("item-button",{staticClass:"d-flex",attrs:{label:e.__("New directory"),icon:"folder-new","icon-classes":"mr-2"},on:{click:function(t){return e.createNewItem(e.$options.modalTypes.tree)}}})],1),e._v(" "),t("li",{staticClass:"divider"})]:e._e(),e._v(" "),t("li",[t("item-button",{staticClass:"d-flex",attrs:{label:e.__("Rename/Move"),icon:"pencil","icon-classes":"mr-2"},on:{click:function(t){return e.createNewItem(e.$options.modalTypes.rename)}}})],1),e._v(" "),t("li",[t("item-button",{staticClass:"d-flex",attrs:{label:e.__("Delete"),icon:"remove","icon-classes":"mr-2"},on:{click:function(t){return e.deleteEntry(e.path)}}})],1)],2)]),e._v(" "),t("new-modal",{ref:"newModal"})],1)}),[],!1,null,null,null).exports,S={name:"FileRowExtra",directives:{GlTooltip:d.a},components:{GlIcon:f.a,NewDropdown:y,ChangedFileIcon:p.a,MrFileIcon:g},props:{file:{type:Object,required:!0},dropdownOpen:{type:Boolean,required:!0}},computed:{...Object(r.d)(["getChangesInFolder","getUnstagedFilesCountForPath","getStagedFilesCountForPath"]),isTree(){return"tree"===this.file.type},folderUnstagedCount(){return this.getUnstagedFilesCountForPath(this.file.path)},folderStagedCount(){return this.getStagedFilesCountForPath(this.file.path)},changesCount(){return this.getChangesInFolder(this.file.path)},folderChangesTooltip(){if(0!==this.changesCount)return Object(h.f)("%d changed file","%d changed files",this.changesCount)},showTreeChangesCount(){return this.isTree&&this.changesCount>0&&!this.file.opened},isModified(){return this.file.changed||this.file.tempFile||this.file.staged||this.file.prevPath},showChangedFileIcon(){return!this.isTree&&this.isModified}}},C=Object(c.a)(S,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"float-right ide-file-icon-holder"},[e.file.mrChange?t("mr-file-icon"):e._e(),e._v(" "),e.showTreeChangesCount?t("span",{staticClass:"ide-tree-changes"},[e._v("\n    "+e._s(e.changesCount)+"\n    "),t("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",modifiers:{left:!0,viewport:!0}}],staticClass:"gl-ml-2 ide-file-modified",attrs:{title:e.folderChangesTooltip,size:12,"data-container":"body","data-placement":"right",name:"file-modified"}})],1):e.showChangedFileIcon?t("changed-file-icon",{attrs:{file:e.file,"show-tooltip":!0,"show-staged-icon":!1}}):e._e(),e._v(" "),t("new-dropdown",e._g({staticClass:"gl-ml-3",attrs:{type:e.file.type,path:e.file.path,"is-open":e.dropdownOpen}},e.$listeners))],1)}),[],!1,null,null,null).exports,O={name:"IdeFileRow",components:{FileRow:l.a,FileRowExtra:C},props:{file:{type:Object,required:!0}},data:()=>({dropdownOpen:!1}),computed:{...Object(r.d)(["getUrlForPath"])},methods:{toggleDropdown(e){this.dropdownOpen=e}}},T=Object(c.a)(O,(function(){var e=this,t=e._self._c;return t("file-row",e._g(e._b({attrs:{file:e.file,"file-url":e.getUrlForPath(e.file.path)},on:{mouseleave:function(t){return e.toggleDropdown(!1)}}},"file-row",e.$attrs,!1),e.$listeners),[t("file-row-extra",{attrs:{file:e.file,"dropdown-open":e.dropdownOpen},on:{toggle:function(t){return e.toggleDropdown(t)}}})],1)}),[],!1,null,null,null).exports,j=n("EmJ/"),P=n.n(j),R=n("FkSe"),I={components:{GlLoadingIcon:R.a,GlIcon:f.a},props:{isDisabled:{type:Boolean,required:!1,default:!1},isLoading:{type:Boolean,required:!1,default:!1},toggleText:{type:String,required:!1,default:Object(h.a)("Select")}}},A=Object(c.a)(I,(function(){var e=this,t=e._self._c;return t("button",{staticClass:"dropdown-menu-toggle dropdown-menu-full-width",attrs:{disabled:e.isDisabled||e.isLoading,type:"button","data-toggle":"dropdown","aria-expanded":"false"}},[t("gl-loading-icon",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],attrs:{size:"sm",inline:!0}}),e._v(" "),e.$slots.default?e._t("default"):t("span",{staticClass:"dropdown-toggle-text"},[e._v(" "+e._s(e.toggleText)+" ")]),e._v(" "),t("gl-icon",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],staticClass:"gl-absolute gl-top-3 gl-right-3 gl-text-gray-500",attrs:{name:"chevron-down"}})],2)}),[],!1,null,null,null).exports;var k={components:{GlIcon:f.a,DropdownButton:A},props:{showMergeRequests:{type:Boolean,required:!1,default:!0}},computed:{...Object(r.f)(["currentBranchId","currentMergeRequestId"]),mergeRequestLabel(){return this.currentMergeRequestId?"!"+this.currentMergeRequestId:"-"},branchLabel(){return this.currentBranchId||"-"}}},F=Object(c.a)(k,(function(){var e=this,t=e._self._c;return t("dropdown-button",{staticClass:"gl-w-full!"},[t("span",{staticClass:"row gl-flex-nowrap"},[t("span",{staticClass:"col-auto flex-fill text-truncate"},[t("gl-icon",{attrs:{size:16,"aria-label":e.__("Current Branch"),name:"branch"}}),e._v(" "+e._s(e.branchLabel)+"\n    ")],1),e._v(" "),e.showMergeRequests?t("span",{staticClass:"col-auto pl-0 text-truncate"},[t("gl-icon",{attrs:{size:16,"aria-label":e.__("Merge request"),name:"merge-request"}}),e._v("\n      "+e._s(e.mergeRequestLabel)+"\n    ")],1):e._e()])])}),[],!1,null,null,null).exports,x=n("sF+2"),M=n("pbPB"),L=n("Tmea"),N=n.n(L),D=n("Fsq/"),B={components:{GlIcon:f.a,Timeago:D.a},props:{item:{type:Object,required:!0},projectId:{type:String,required:!0},isActive:{type:Boolean,required:!1,default:!1}},computed:{branchHref(){return this.$router.resolve(`/project/${this.projectId}/edit/${this.item.name}`).href}}},$={components:{Item:Object(c.a)(B,(function(){var e=this,t=e._self._c;return t("a",{staticClass:"btn-link d-flex align-items-center",attrs:{href:e.branchHref}},[t("span",{staticClass:"d-flex gl-mr-3 ide-search-list-current-icon"},[e.isActive?t("gl-icon",{attrs:{size:16,name:"mobile-issue-close"}}):e._e()],1),e._v(" "),t("span",[t("strong",[e._v(" "+e._s(e.item.name)+" ")]),e._v(" "),t("span",{staticClass:"ide-merge-request-project-path d-block mt-1"},[e._v("\n      Updated "),t("timeago",{attrs:{time:e.item.committedDate||""}})],1)])])}),[],!1,null,null,null).exports,GlIcon:f.a,GlLoadingIcon:R.a},data:()=>({search:""}),computed:{...Object(r.f)("branches",["branches","isLoading"]),...Object(r.f)(["currentBranchId","currentProjectId"]),hasBranches(){return 0!==this.branches.length},hasNoSearchResults(){return""!==this.search&&!this.hasBranches}},watch:{isLoading:{handler:"focusSearch"}},mounted(){this.loadBranches()},methods:{...Object(r.c)("branches",["fetchBranches"]),loadBranches(){this.fetchBranches({search:this.search})},searchBranches:N()((function(){this.loadBranches()}),250),focusSearch(){var e=this;this.isLoading||this.$nextTick((function(){e.$refs.searchInput.focus()}))},isActiveBranch(e){return e.name===this.currentBranchId}}},q=Object(c.a)($,(function(){var e=this,t=e._self._c;return t("div",[t("label",{staticClass:"dropdown-input gl-pt-3 gl-pb-5 gl-mb-0 gl-border-b-1 gl-border-b-solid gl-display-block",on:{click:function(e){e.stopPropagation()}}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],ref:"searchInput",staticClass:"form-control dropdown-input-field",attrs:{placeholder:e.__("Search branches"),type:"search"},domProps:{value:e.search},on:{input:[function(t){t.target.composing||(e.search=t.target.value)},e.searchBranches]}}),e._v(" "),t("gl-icon",{staticClass:"gl-ml-5 gl-mt-1 input-icon",attrs:{name:"search"}})],1),e._v(" "),t("div",{staticClass:"dropdown-content ide-merge-requests-dropdown-content d-flex"},[e.isLoading?t("gl-loading-icon",{staticClass:"mt-3 mb-3 align-self-center ml-auto mr-auto",attrs:{size:"lg"}}):t("ul",{staticClass:"mb-0 w-100"},[e.hasBranches?e._l(e.branches,(function(n){return t("li",{key:n.name},[t("item",{attrs:{item:n,"project-id":e.currentProjectId,"is-active":e.isActiveBranch(n)}})],1)})):t("li",{staticClass:"ide-search-list-empty d-flex align-items-center justify-content-center"},[e.hasNoSearchResults?[e._v("\n          "+e._s(e.__("No branches found"))+"\n        ")]:e._e()],2)],2)],1)])}),[],!1,null,null,null).exports,G={components:{GlIcon:f.a},props:{placeholder:{type:String,required:!1,default:Object(h.a)("Search")},tokens:{type:Array,required:!1,default:function(){return[]}},value:{type:String,required:!1,default:""}},data:()=>({backspaceCount:0}),computed:{placeholderText(){return this.tokens.length?"":this.placeholder}},watch:{tokens(){this.$refs.input.focus()}},methods:{onFocus(){this.$emit("focus")},onBlur(){this.$emit("blur")},onInput(e){this.$emit("input",e.target.value)},onBackspace(){!this.value&&this.tokens.length?(this.backspaceCount+=1,this.backspaceCount>1&&(this.removeToken(this.tokens[this.tokens.length-1]),this.backspaceCount=0)):this.backspaceCount=0},removeToken(e){this.$emit("removeToken",e)}}},U=Object(c.a)(G,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"filtered-search-wrapper"},[t("div",{staticClass:"filtered-search-box"},[t("div",{staticClass:"tokens-container list-unstyled"},[e._l(e.tokens,(function(n){return t("div",{key:n.label,staticClass:"filtered-search-token"},[t("button",{staticClass:"selectable btn-blank",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.removeToken(n)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.removeToken(n)}}},[t("div",{staticClass:"value-container rounded"},[t("div",{staticClass:"value"},[e._v(e._s(n.label))]),e._v(" "),t("div",{staticClass:"remove-token inverted"},[t("gl-icon",{attrs:{size:16,name:"close"}})],1)])])])})),e._v(" "),t("div",{staticClass:"input-token"},[t("input",{ref:"input",staticClass:"form-control filtered-search",attrs:{placeholder:e.placeholderText,type:"search"},domProps:{value:e.value},on:{input:e.onInput,focus:e.onFocus,blur:e.onBlur,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.onBackspace.apply(null,arguments)}}})])],2)])])}),[],!1,null,null,null).exports,V={components:{GlIcon:f.a},props:{item:{type:Object,required:!0},currentId:{type:String,required:!0},currentProjectId:{type:String,required:!0}},computed:{isActive(){return this.item.iid===parseInt(this.currentId,10)&&this.currentProjectId===this.item.projectPathWithNamespace},pathWithID(){return`${this.item.projectPathWithNamespace}!${this.item.iid}`},mergeRequestHref(){const e=`/project/${this.item.projectPathWithNamespace}/merge_requests/${this.item.iid}`;return this.$router.resolve(e).href}}},H=Object(c.a)(V,(function(){var e=this,t=e._self._c;return t("a",{staticClass:"btn-link d-flex align-items-center",attrs:{href:e.mergeRequestHref}},[t("span",{staticClass:"d-flex gl-mr-3 ide-search-list-current-icon"},[e.isActive?t("gl-icon",{attrs:{size:16,name:"mobile-issue-close"}}):e._e()],1),e._v(" "),t("span",[t("strong",[e._v(" "+e._s(e.item.title)+" ")]),e._v(" "),t("span",{staticClass:"ide-merge-request-project-path d-block mt-1"},[e._v(" "+e._s(e.pathWithID)+" ")])])])}),[],!1,null,null,null).exports;const z=[{type:"created",label:Object(h.a)("Created by me")},{type:"assigned",label:Object(h.a)("Assigned to me")}];var W={components:{TokenedInput:U,Item:H,GlIcon:f.a,GlLoadingIcon:R.a},data:()=>({search:"",currentSearchType:null,hasSearchFocus:!1}),computed:{...Object(r.f)("mergeRequests",["mergeRequests","isLoading"]),...Object(r.f)(["currentMergeRequestId","currentProjectId"]),hasMergeRequests(){return 0!==this.mergeRequests.length},hasNoSearchResults(){return""!==this.search&&!this.hasMergeRequests},showSearchTypes(){return this.hasSearchFocus&&!this.search&&!this.currentSearchType},type(){return this.currentSearchType?this.currentSearchType.type:""},searchTokens(){return this.currentSearchType?[this.currentSearchType]:[]}},watch:{search(){this.hasSearchFocus=!1}},mounted(){this.loadMergeRequests()},methods:{...Object(r.c)("mergeRequests",["fetchMergeRequests"]),loadMergeRequests(){this.fetchMergeRequests({type:this.type,search:this.search})},searchMergeRequests:N()((function(){this.loadMergeRequests()}),250),onSearchFocus(){this.hasSearchFocus=!0},setSearchType(e){this.currentSearchType=e,this.loadMergeRequests()}},searchTypes:z},Y=Object(c.a)(W,(function(){var e=this,t=e._self._c;return t("div",[t("label",{staticClass:"dropdown-input gl-pt-3 gl-pb-5 gl-mb-0 gl-border-b-1 gl-border-b-solid gl-display-block",on:{click:function(e){e.stopPropagation()}}},[t("tokened-input",{attrs:{tokens:e.searchTokens,placeholder:e.__("Search merge requests")},on:{focus:e.onSearchFocus,input:e.searchMergeRequests,removeToken:function(t){return e.setSearchType(null)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),t("gl-icon",{staticClass:"ml-3 input-icon",attrs:{size:16,name:"search"}})],1),e._v(" "),t("div",{staticClass:"dropdown-content ide-merge-requests-dropdown-content d-flex"},[e.isLoading?t("gl-loading-icon",{staticClass:"mt-3 mb-3 align-self-center ml-auto mr-auto",attrs:{size:"lg"}}):[t("ul",{staticClass:"mb-0 w-100"},[e.showSearchTypes?e._l(e.$options.searchTypes,(function(n){return t("li",{key:n.type},[t("button",{staticClass:"btn-link d-flex align-items-center",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.setSearchType(n)}}},[t("span",{staticClass:"d-flex gl-mr-3 ide-search-list-current-icon"},[t("gl-icon",{attrs:{size:16,name:"search"}})],1),e._v(" "),t("span",[e._v(e._s(n.label))])])])})):e.hasMergeRequests?e._l(e.mergeRequests,(function(n){return t("li",{key:n.id},[t("item",{attrs:{item:n,"current-id":e.currentMergeRequestId,"current-project-id":e.currentProjectId}})],1)})):t("li",{staticClass:"ide-search-list-empty d-flex align-items-center justify-content-center"},[e._v("\n          "+e._s(e.__("No merge requests found"))+"\n        ")])],2)]],2)])}),[],!1,null,null,null).exports,J={components:{GlTab:x.a,GlTabs:M.a,BranchesSearchList:q,MergeRequestSearchList:Y},props:{showMergeRequests:{type:Boolean,required:!1,default:!0}}},K={components:{NavDropdownButton:F,NavForm:Object(c.a)(J,(function(){var e=this._self._c;return e("div",{staticClass:"ide-nav-form p-0"},[this.showMergeRequests?e("gl-tabs",[e("gl-tab",{attrs:{title:this.__("Branches")}},[e("branches-search-list")],1),this._v(" "),e("gl-tab",{attrs:{title:this.__("Merge requests")}},[e("merge-request-search-list")],1)],1):e("branches-search-list")],1)}),[],!1,null,null,null).exports},data:()=>({isVisibleDropdown:!1}),computed:{...Object(r.d)(["canReadMergeRequests"])},mounted(){this.addDropdownListeners()},beforeDestroy(){this.removeDropdownListeners()},methods:{addDropdownListeners(){var e=this;P()(this.$refs.dropdown).on("show.bs.dropdown",(function(){return e.showDropdown()})).on("hide.bs.dropdown",(function(){return e.hideDropdown()}))},removeDropdownListeners(){P()(this.$refs.dropdown).off("show.bs.dropdown").off("hide.bs.dropdown")},showDropdown(){this.isVisibleDropdown=!0},hideDropdown(){this.isVisibleDropdown=!1}}},Q=Object(c.a)(K,(function(){var e=this._self._c;return e("div",{ref:"dropdown",staticClass:"btn-group ide-nav-dropdown dropdown",attrs:{"data-testid":"ide-nav-dropdown"}},[e("nav-dropdown-button",{attrs:{"show-merge-requests":this.canReadMergeRequests}}),this._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-left p-0"},[this.isVisibleDropdown?e("nav-form",{attrs:{"show-merge-requests":this.canReadMergeRequests}}):this._e()],1)],1)}),[],!1,null,null,null).exports,X={name:"IdeTreeList",components:{GlSkeletonLoader:i.a,NavDropdown:Q,FileTree:u},props:{headerClass:{type:String,required:!1,default:null}},computed:{...Object(r.f)(["currentBranchId"]),...Object(r.d)(["currentProject","currentTree"]),showLoading(){return!this.currentTree||this.currentTree.loading}},watch:{showLoading(){this.notifyTreeReady()}},mounted(){this.notifyTreeReady()},methods:{...Object(r.c)(["toggleTreeOpen"]),notifyTreeReady(){this.showLoading||this.$emit("tree-ready")},clickedFile(){Object(a.a)({mark:o.K})}},IdeFileRow:T},Z=Object(c.a)(X,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"ide-file-list"},[e.showLoading?e._l(3,(function(e){return t("div",{key:e,staticClass:"multi-file-loading-container"},[t("gl-skeleton-loader")],1)})):[t("header",{staticClass:"ide-tree-header",class:e.headerClass},[t("nav-dropdown"),e._v(" "),e._t("header")],2),e._v(" "),t("div",{staticClass:"ide-tree-body h-100",attrs:{"data-testid":"ide-tree-body"}},[e.currentTree.tree.length?e._l(e.currentTree.tree,(function(n){return t("file-tree",{key:n.key,attrs:{file:n,level:0,"file-row-component":e.$options.IdeFileRow},on:{toggleTreeOpen:e.toggleTreeOpen,clickFile:e.clickedFile}})})):t("div",{staticClass:"file-row"},[e._v(e._s(e.__("No files")))])],2)]],2)}),[],!1,null,null,null);t.a=Z.exports},rOrh:function(e,t,n){"use strict";var i=n("s1D3"),r=n("LLbv"),o=n("8eeg"),a=n("/lV4"),s={components:{GlIcon:i.a},directives:{GlTooltip:r.a},props:{file:{type:Object,required:!0},showTooltip:{type:Boolean,required:!1,default:!1},showStagedIcon:{type:Boolean,required:!1,default:!0},size:{type:Number,required:!1,default:12},isCentered:{type:Boolean,required:!1,default:!0}},computed:{changedIcon(){const e=this.file.staged&&this.showStagedIcon?"-solid":"";return`${Object(o.a)(this.file).icon}${e}`},changedIconClass(){return this.changedIcon+" float-left d-block"},tooltipTitle(){if(this.showTooltip)return this.file.deleted?Object(a.a)("Deleted"):this.file.tempFile?Object(a.a)("Added"):this.file.changed?Object(a.a)("Modified"):void 0},showIcon(){return this.file.changed||this.file.tempFile||this.file.staged||this.file.deleted||this.file.prevPath}}},c=n("LPAU"),u=n.n(c),l=n("9y+K"),d=n.n(l),f={insert:"head",singleton:!1},h=(u()(d.a,f),d.a.locals,n("tBpV")),p=Object(h.a)(s,(function(){var e=this._self._c;return e("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.right",modifiers:{right:!0}}],staticClass:"file-changed-icon d-inline-block",class:{"ml-auto":this.isCentered},attrs:{title:this.tooltipTitle}},[this.showIcon?e("gl-icon",{class:this.changedIconClass,attrs:{name:this.changedIcon,size:this.size}}):this._e()],1)}),[],!1,null,null,null);t.a=p.exports},sHIo:function(e,t,n){"use strict";t.a=function(){return{inject:{glFeatures:{from:"glFeatures",default:function(){return{}}}}}}},sioD:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var i=n("bQWb");const r=function(e){return e===i.f||e===i.c},o=function(e){return e===i.e},a=function(e){return!r(e)&&!o(e)}},tTwu:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("8ENL"),r=function(e,t){return i.d?t.instance:e.context}},"unS+":function(e,t){},wFQQ:function(e,t,n){"use strict";var i=n("yi8e"),r=n("f8Rl"),o=n("BAGK"),a={components:{PanelResizer:r.a},props:{initialWidth:{type:Number,required:!0},minSize:{type:Number,required:!1,default:o.o},side:{type:String,required:!0},resizable:{type:Boolean,required:!1,default:!0}},data(){return{width:this.initialWidth}},computed:{panelStyle(){return this.resizable?{width:this.width+"px"}:{}}},methods:{...Object(i.c)(["setResizingStatus"])},maxSize:window.innerWidth/2},s=n("tBpV"),c=Object(s.a)(a,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gl-relative",style:e.panelStyle},[e._t("default"),e._v(" "),t("panel-resizer",{directives:[{name:"show",rawName:"v-show",value:e.resizable,expression:"resizable"}],attrs:{size:e.width,"start-size":e.initialWidth,"min-size":e.minSize,"max-size":e.$options.maxSize,side:"right"===e.side?"left":"right"},on:{"update:size":function(t){e.width=t},"resize-start":function(t){return e.setResizingStatus(!0)},"resize-end":function(t){return e.setResizingStatus(!1)}}})],2)}),[],!1,null,null,null);t.a=c.exports},waGw:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("KFC0"),r=n.n(i);let o=null;const a=(e,t)=>{if(!r()(t))throw TypeError("directive value must be a function");o||(o=new ResizeObserver(e=>{e.forEach(e=>{e.target.glResizeHandler(e)})})),e.glResizeHandler=t,o.observe(e)},s=e=>{var t;e.glResizeHandler&&(delete e.glResizeHandler,null===(t=o)||void 0===t||t.unobserve(e))},c={bind(e,t){let{value:n,arg:i=!0}=t;i&&a(e,n)},update(e,t){let{value:n,arg:i=!0}=t;i?a(e,n):s(e)},unbind:s}},"x/Tb":function(e,t,n){"use strict";var i=n("BAGK"),r=n("CdyC");const o={replaced:"replaced",new:"new",deleted:"deleted",renamed:"renamed"},a={twoup:"twoup",swipe:"swipe",onion:"onion"};var s={components:{DownloadViewer:r.a},props:{diffMode:{type:String,required:!0},newPath:{type:String,required:!0},oldPath:{type:String,required:!0},projectPath:{type:String,required:!1,default:""}},diffModes:o},c=n("tBpV"),u=Object(c.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"diff-file-container"},[t("div",{staticClass:"diff-viewer"},[e.diffMode===e.$options.diffModes.replaced?t("div",{staticClass:"two-up view row"},[t("div",{staticClass:"col-sm-6 deleted"},[t("download-viewer",{attrs:{path:e.oldPath,"project-path":e.projectPath}})],1),e._v(" "),t("div",{staticClass:"col-sm-6 added"},[t("download-viewer",{attrs:{path:e.newPath,"project-path":e.projectPath}})],1)]):e.diffMode===e.$options.diffModes.new?t("div",{staticClass:"added"},[t("download-viewer",{attrs:{path:e.newPath,"project-path":e.projectPath}})],1):t("div",{staticClass:"deleted"},[t("download-viewer",{attrs:{path:e.oldPath,"project-path":e.projectPath}})],1)])])}),[],!1,null,null,null).exports,l=n("JCWm");function d(e){return e?e+"px":""}var f={components:{ImageViewer:l.a},props:{newPath:{type:String,required:!0},oldPath:{type:String,required:!0}},data:()=>({onionMaxWidth:void 0,onionMaxHeight:void 0,onionOldImgInfo:null,onionNewImgInfo:null,onionDraggerPos:0,onionOpacity:1,dragging:!1}),computed:{onionMaxPixelWidth(){return d(this.onionMaxWidth)},onionMaxPixelHeight(){return d(this.onionMaxHeight)},onionDraggerPixelPos(){return d(this.onionDraggerPos)}},beforeDestroy(){document.body.removeEventListener("mouseup",this.stopDrag),document.body.removeEventListener("touchend",this.stopDrag),document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchmove",this.dragMove)},methods:{dragMove(e){if(!this.dragging)return;const t=(e.pageX||e.touches[0].pageX)-this.$refs.dragTrack.getBoundingClientRect().left,n=this.$refs.dragTrack.clientWidth-this.$refs.dragger.clientWidth||100;let i=t;i<0&&(i=0),i>n&&(i=n),this.onionOpacity=t/n,this.onionDraggerPos=i},startDrag(){this.dragging=!0,document.body.style.userSelect="none",document.body.addEventListener("mousemove",this.dragMove),document.body.addEventListener("touchmove",this.dragMove)},stopDrag(){this.dragging=!1,document.body.style.userSelect="",document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchmove",this.dragMove)},prepareOnionSkin(){this.onionOldImgInfo&&this.onionNewImgInfo&&(this.onionMaxWidth=Math.max(this.onionOldImgInfo.renderedWidth,this.onionNewImgInfo.renderedWidth),this.onionMaxHeight=Math.max(this.onionOldImgInfo.renderedHeight,this.onionNewImgInfo.renderedHeight),this.onionOpacity=1,this.onionDraggerPos=this.$refs.dragTrack.clientWidth-this.$refs.dragger.clientWidth||100,document.body.addEventListener("mouseup",this.stopDrag),document.body.addEventListener("touchend",this.stopDrag))},onionNewImgLoaded(e){this.onionNewImgInfo=e,this.prepareOnionSkin()},onionOldImgLoaded(e){this.onionOldImgInfo=e,this.prepareOnionSkin()}}},h=Object(c.a)(f,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"onion-skin view"},[t("div",{staticClass:"onion-skin-frame",style:{width:e.onionMaxPixelWidth,height:e.onionMaxPixelHeight,"user-select":e.dragging?"none":null}},[t("div",{staticClass:"frame deleted",style:{width:e.onionMaxPixelWidth,height:e.onionMaxPixelHeight}},[t("image-viewer",{key:"onionOldImg",attrs:{"render-info":!1,path:e.oldPath},on:{imgLoaded:e.onionOldImgLoaded}})],1),e._v(" "),t("div",{ref:"addedFrame",staticClass:"added frame",style:{opacity:e.onionOpacity,width:e.onionMaxPixelWidth,height:e.onionMaxPixelHeight}},[t("image-viewer",{key:"onionNewImg",attrs:{"render-info":!1,path:e.newPath},on:{imgLoaded:e.onionNewImgLoaded},scopedSlots:e._u([{key:"image-overlay",fn:function({renderedWidth:t,renderedHeight:n}){return[e._t("image-overlay",null,{renderedWidth:t,renderedHeight:n})]}}],null,!0)})],1),e._v(" "),t("div",{staticClass:"controls"},[t("div",{staticClass:"transparent"}),e._v(" "),t("div",{ref:"dragTrack",staticClass:"drag-track",on:{mousedown:e.startDrag,mouseup:e.stopDrag,touchstart:e.startDrag,touchend:e.stopDrag}},[t("div",{ref:"dragger",staticClass:"dragger",style:{left:e.onionDraggerPixelPos}})]),e._v(" "),t("div",{staticClass:"opaque"})])])])}),[],!1,null,null,null).exports,p=n("h7kv"),m=n.n(p),g={components:{ImageViewer:l.a},props:{newPath:{type:String,required:!0},oldPath:{type:String,required:!0}},data:()=>({dragging:!1,swipeOldImgInfo:null,swipeNewImgInfo:null,swipeMaxWidth:void 0,swipeMaxHeight:void 0,swipeBarPos:1,swipeWrapWidth:0}),computed:{swipeMaxPixelWidth(){return d(this.swipeMaxWidth)},swipeMaxPixelHeight(){return d(this.swipeMaxHeight)},swipeWrapPixelWidth(){return d(this.swipeWrapWidth)},swipeBarPixelPos(){return d(this.swipeBarPos)}},beforeDestroy(){window.removeEventListener("resize",this.resizeThrottled,!1),document.body.removeEventListener("mouseup",this.stopDrag),document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchend",this.stopDrag),document.body.removeEventListener("touchmove",this.dragMove)},mounted(){window.addEventListener("resize",this.resize,!1)},methods:{dragMove(e){if(!this.dragging)return;let t=(e.pageX||e.touches[0].pageX)-this.$refs.swipeFrame.getBoundingClientRect().left;const{clientWidth:n}=this.$refs.swipeFrame;t<=0?t=0:t>n&&(t=n),this.swipeWrapWidth=t/n*100,this.swipeBarPos=t},startDrag(){this.dragging=!0,document.body.addEventListener("mousemove",this.dragMove),document.body.addEventListener("touchmove",this.dragMove)},stopDrag(){this.dragging=!1,document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchmove",this.dragMove)},prepareSwipe(){this.swipeOldImgInfo&&this.swipeNewImgInfo&&this.swipeOldImgInfo.renderedWidth>0&&(this.swipeMaxWidth=Math.max(this.swipeOldImgInfo.renderedWidth,this.swipeNewImgInfo.renderedWidth)+2,this.swipeMaxHeight=Math.max(this.swipeOldImgInfo.renderedHeight,this.swipeNewImgInfo.renderedHeight)+2,document.body.addEventListener("mouseup",this.stopDrag),document.body.addEventListener("touchend",this.stopDrag))},swipeNewImgLoaded(e){this.swipeNewImgInfo=e,this.prepareSwipe()},swipeOldImgLoaded(e){this.swipeOldImgInfo=e,this.prepareSwipe()},resize:m()((function(){this.swipeBarPos=0,this.swipeWrapWidth=0,this.prepareSwipe()}),400)}},v=Object(c.a)(g,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"swipe view"},[t("div",{ref:"swipeFrame",staticClass:"swipe-frame",style:{width:e.swipeMaxPixelWidth,height:e.swipeMaxPixelHeight,"user-select":e.dragging?"none":null}},[t("image-viewer",{key:"swipeOldImg",ref:"swipeOldImg",staticClass:"frame deleted",attrs:{"render-info":!1,path:e.oldPath},on:{imgLoaded:e.swipeOldImgLoaded}}),e._v(" "),t("div",{ref:"swipeWrap",staticClass:"swipe-wrap",style:{width:e.swipeWrapWidth+"%"}},[t("image-viewer",{key:"swipeNewImg",staticClass:"frame added",style:{width:e.swipeMaxPixelWidth},attrs:{"render-info":!1,path:e.newPath},on:{imgLoaded:e.swipeNewImgLoaded},scopedSlots:e._u([{key:"image-overlay",fn:function({renderedWidth:t,renderedHeight:n}){return[e._t("image-overlay",null,{renderedWidth:t,renderedHeight:n})]}}],null,!0)})],1),e._v(" "),t("span",{ref:"swipeBar",staticClass:"swipe-bar",style:{left:e.swipeBarPixelPos},on:{mousedown:e.startDrag,mouseup:e.stopDrag,touchstart:e.startDrag,touchend:e.stopDrag}},[t("span",{staticClass:"top-handle"}),e._v(" "),t("span",{staticClass:"bottom-handle"})])],1)])}),[],!1,null,null,null).exports,b={components:{ImageViewer:l.a},props:{newPath:{type:String,required:!0},oldPath:{type:String,required:!0},newSize:{type:Number,required:!1,default:0},oldSize:{type:Number,required:!1,default:0}}},_=Object(c.a)(b,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"two-up view d-flex"},[t("image-viewer",{staticClass:"wrap w-50",attrs:{path:e.oldPath,"file-size":e.oldSize,"render-info":!0,"inner-css-classes":"frame deleted"}}),e._v(" "),t("image-viewer",{staticClass:"wrap w-50",attrs:{path:e.newPath,"file-size":e.newSize,"render-info":!0,"inner-css-classes":["frame","added"]},scopedSlots:e._u([{key:"image-overlay",fn:function({renderedWidth:t,renderedHeight:n}){return[e._t("image-overlay",null,{renderedWidth:t,renderedHeight:n})]}}],null,!0)})],1)}),[],!1,null,null,null).exports,w={components:{ImageViewer:l.a},props:{diffMode:{type:String,required:!0},newPath:{type:String,required:!0},oldPath:{type:String,required:!0},newSize:{type:Number,required:!1,default:0},oldSize:{type:Number,required:!1,default:0}},data:()=>({mode:a.twoup}),computed:{imageViewComponent(){switch(this.mode){case a.twoup:return _;case a.swipe:return v;case a.onion:return h;default:return}},isNew(){return this.diffMode===o.new},isRenamed(){return this.diffMode===o.renamed},imagePath(){return this.isNew||this.isRenamed?this.newPath:this.oldPath}},methods:{changeMode(e){this.mode=e}},diffModes:o,imageViewMode:a},E=Object(c.a)(w,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"diff-file-container"},[e.diffMode===e.$options.diffModes.replaced?t("div",{staticClass:"diff-viewer"},[t("div",{staticClass:"image js-replaced-image"},[t(e.imageViewComponent,e._b({tag:"component",scopedSlots:e._u([{key:"image-overlay",fn:function({renderedWidth:t,renderedHeight:n}){return[e._t("image-overlay",null,{renderedWidth:t,renderedHeight:n})]}}],null,!0)},"component",e.$props,!1))],1),e._v(" "),t("div",{staticClass:"view-modes"},[t("ul",{staticClass:"view-modes-menu"},[t("li",{class:{active:e.mode===e.$options.imageViewMode.twoup},on:{click:function(t){return e.changeMode(e.$options.imageViewMode.twoup)}}},[e._v("\n          "+e._s(e.s__("ImageDiffViewer|2-up"))+"\n        ")]),e._v(" "),t("li",{class:{active:e.mode===e.$options.imageViewMode.swipe},on:{click:function(t){return e.changeMode(e.$options.imageViewMode.swipe)}}},[e._v("\n          "+e._s(e.s__("ImageDiffViewer|Swipe"))+"\n        ")]),e._v(" "),t("li",{class:{active:e.mode===e.$options.imageViewMode.onion},on:{click:function(t){return e.changeMode(e.$options.imageViewMode.onion)}}},[e._v("\n          "+e._s(e.s__("ImageDiffViewer|Onion skin"))+"\n        ")])])])]):t("div",{staticClass:"diff-viewer"},[t("div",{staticClass:"image"},[t("image-viewer",{attrs:{path:e.imagePath,"file-size":e.isNew?e.newSize:e.oldSize,"inner-css-classes":["frame",{added:e.isNew,deleted:e.diffMode===e.$options.diffModes.deleted}]},scopedSlots:e._u([e.isNew||e.isRenamed?{key:"image-overlay",fn:function({renderedWidth:t,renderedHeight:n}){return[e._t("image-overlay",null,{renderedWidth:t,renderedHeight:n})]}}:null],null,!0)})],1)])])}),[],!1,null,null,null).exports,y=n("/lV4"),S={props:{aMode:{type:String,required:!1,default:null},bMode:{type:String,required:!1,default:null}},computed:{outputText(){return Object(y.h)(Object(y.a)("File mode changed from %{a_mode} to %{b_mode}"),{a_mode:this.aMode,b_mode:this.bMode})}}},C=Object(c.a)(S,(function(){return(0,this._self._c)("div",{staticClass:"nothing-here-block"},[this._v(this._s(this.outputText))])}),[],!1,null,null,null).exports,O=n("dsWN"),T=n("MV2A"),j=n("FkSe"),P=n("30su"),R=n("yi8e"),I=n("pIt4"),A=n("0AwG");var k={STATE_LOADING:I.gb,STATE_ERRORED:I.eb,uiText:{showLink:Object(y.a)("Show file contents"),commitLink:Object(y.a)("View file @ %{commitSha}"),description:Object(y.a)("File renamed with no changes."),loadError:Object(y.a)("Unable to load file contents. Try again later.")},components:{GlAlert:O.a,GlLink:T.a,GlLoadingIcon:j.a,GlSprintf:P.a},props:{diffFile:{type:Object,required:!0}},data:()=>({state:I.fb}),computed:{shortSha(){return Object(A.C)(this.diffFile.content_sha)},canLoadFullDiff(){return"text"===this.diffFile.alternate_viewer.name}},methods:{...Object(R.c)("diffs",["switchToFullDiffFromRenamedFile"]),is(e){return this.state===e},switchToFull(){var e=this;this.transitionState(I.yb),this.switchToFullDiffFromRenamedFile({diffFile:this.diffFile}).then((function(){e.transitionState(I.zb)})).catch((function(){e.transitionState(I.xb)}))},transitionState(e){this.state=function(e,t){const n=`${e}:${t}`;return I.bb[n]?I.bb[n]:e}(this.state,e)},clickLink(e){this.canLoadFullDiff&&(e.preventDefault(),this.switchToFull())},dismissError(){this.transitionState(I.wb)}}},F=Object(c.a)(k,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"nothing-here-block"},[e.is(e.$options.STATE_LOADING)?t("gl-loading-icon",{attrs:{size:"sm"}}):[t("gl-alert",{directives:[{name:"show",rawName:"v-show",value:e.is(e.$options.STATE_ERRORED),expression:"is($options.STATE_ERRORED)"}],staticClass:"gl-mb-5 gl-text-left",attrs:{variant:"danger"},on:{dismiss:e.dismissError}},[e._v(e._s(e.$options.uiText.loadError))]),e._v(" "),t("span",{attrs:{"test-id":"plaintext"}},[e._v(e._s(e.$options.uiText.description))]),e._v(" "),t("gl-link",{attrs:{href:e.diffFile.view_path},on:{click:e.clickLink}},[e.canLoadFullDiff?t("span",[e._v(e._s(e.$options.uiText.showLink))]):t("gl-sprintf",{attrs:{message:e.$options.uiText.commitLink},scopedSlots:e._u([{key:"commitSha",fn:function(){return[e._v(e._s(e.shortSha))]},proxy:!0}])})],1)]],2)}),[],!1,null,null,null).exports,x={props:{diffFile:{type:Object,required:!0},diffMode:{type:String,required:!0},diffViewerMode:{type:String,required:!0},newPath:{type:String,required:!0},newSha:{type:String,required:!0},newSize:{type:Number,required:!1,default:0},oldPath:{type:String,required:!0},oldSha:{type:String,required:!0},oldSize:{type:Number,required:!1,default:0},projectPath:{type:String,required:!1,default:""},aMode:{type:String,required:!1,default:null},bMode:{type:String,required:!1,default:null}},computed:{viewer(){if(this.diffViewerMode===i.w.renamed)return F;if(this.diffMode===i.u.mode_changed)return C;if(!this.newPath)return null;switch(this.diffViewerMode){case i.w.image:return E;default:return u}},basePath(){return 0===this.projectPath.indexOf("/")?"":gon.relative_url_root+"/"},fullOldPath(){return`${this.basePath}${this.projectPath}/-/raw/${this.oldSha}/${this.oldPath}`},fullNewPath(){return`${this.basePath}${this.projectPath}/-/raw/${this.newSha}/${this.newPath}`}}},M=Object(c.a)(x,(function(){var e=this,t=e._self._c;return e.viewer?t("div",{staticClass:"diff-file preview-container"},[t(e.viewer,{tag:"component",attrs:{"diff-file":e.diffFile,"diff-mode":e.diffMode,"new-path":e.fullNewPath,"old-path":e.fullOldPath,"old-size":e.oldSize,"new-size":e.newSize,"project-path":e.projectPath,"a-mode":e.aMode,"b-mode":e.bMode},scopedSlots:e._u([{key:"image-overlay",fn:function({renderedWidth:t,renderedHeight:n}){return[e._t("image-overlay",null,{renderedWidth:t,renderedHeight:n})]}}],null,!0)}),e._v(" "),e._t("default")],2):e._e()}),[],!1,null,null,null);t.a=M.exports},xPX6:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=function(e=!1){var t,n;const i="Ctrl"+(e?"":"+");return null!==(t=window.gl)&&void 0!==t&&null!==(n=t.client)&&void 0!==n&&n.isMac?"⌘":i}},xRX4:function(e,t){e.exports=function(e,t){for(var i=[],r=0;r<e.length;r++){var o=t(e[r],r);n(o)?i.push.apply(i,o):i.push(o)}return i};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},xzXO:function(e,t,n){
/*!

 diff v3.5.0

Software License Agreement (BSD License)

Copyright (c) 2009-2015, Kevin Decker <kpdecker@gmail.com>

All rights reserved.

Redistribution and use of this software in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above
  copyright notice, this list of conditions and the
  following disclaimer.

* Redistributions in binary form must reproduce the above
  copyright notice, this list of conditions and the
  following disclaimer in the documentation and/or other
  materials provided with the distribution.

* Neither the name of Kevin Decker nor the names of its
  contributors may be used to endorse or promote products
  derived from this software without specific prior
  written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR
IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER
IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
@license
*/
var i;i=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";t.__esModule=!0,t.canonicalize=t.convertChangesToXML=t.convertChangesToDMP=t.merge=t.parsePatch=t.applyPatches=t.applyPatch=t.createPatch=t.createTwoFilesPatch=t.structuredPatch=t.diffArrays=t.diffJson=t.diffCss=t.diffSentences=t.diffTrimmedLines=t.diffLines=t.diffWordsWithSpace=t.diffWords=t.diffChars=t.Diff=void 0;var i,r=n(1),o=(i=r)&&i.__esModule?i:{default:i},a=n(2),s=n(3),c=n(5),u=n(6),l=n(7),d=n(8),f=n(9),h=n(10),p=n(11),m=n(13),g=n(14),v=n(16),b=n(17);t.Diff=o.default,t.diffChars=a.diffChars,t.diffWords=s.diffWords,t.diffWordsWithSpace=s.diffWordsWithSpace,t.diffLines=c.diffLines,t.diffTrimmedLines=c.diffTrimmedLines,t.diffSentences=u.diffSentences,t.diffCss=l.diffCss,t.diffJson=d.diffJson,t.diffArrays=f.diffArrays,t.structuredPatch=g.structuredPatch,t.createTwoFilesPatch=g.createTwoFilesPatch,t.createPatch=g.createPatch,t.applyPatch=h.applyPatch,t.applyPatches=h.applyPatches,t.parsePatch=p.parsePatch,t.merge=m.merge,t.convertChangesToDMP=v.convertChangesToDMP,t.convertChangesToXML=b.convertChangesToXML,t.canonicalize=d.canonicalize},function(e,t){"use strict";function n(){}function i(e,t,n,i,r){for(var o=0,a=t.length,s=0,c=0;o<a;o++){var u=t[o];if(u.removed){if(u.value=e.join(i.slice(c,c+u.count)),c+=u.count,o&&t[o-1].added){var l=t[o-1];t[o-1]=t[o],t[o]=l}}else{if(!u.added&&r){var d=n.slice(s,s+u.count);d=d.map((function(e,t){var n=i[c+t];return n.length>e.length?n:e})),u.value=e.join(d)}else u.value=e.join(n.slice(s,s+u.count));s+=u.count,u.added||(c+=u.count)}}var f=t[a-1];return a>1&&"string"==typeof f.value&&(f.added||f.removed)&&e.equals("",f.value)&&(t[a-2].value+=f.value,t.pop()),t}function r(e){return{newPos:e.newPos,components:e.components.slice(0)}}t.__esModule=!0,t.default=n,n.prototype={diff:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.callback;"function"==typeof n&&(o=n,n={}),this.options=n;var a=this;function s(e){return o?(setTimeout((function(){o(void 0,e)}),0),!0):e}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e));var c=(t=this.removeEmpty(this.tokenize(t))).length,u=e.length,l=1,d=c+u,f=[{newPos:-1,components:[]}],h=this.extractCommon(f[0],t,e,0);if(f[0].newPos+1>=c&&h+1>=u)return s([{value:this.join(t),count:t.length}]);function p(){for(var n=-1*l;n<=l;n+=2){var o=void 0,d=f[n-1],h=f[n+1],p=(h?h.newPos:0)-n;d&&(f[n-1]=void 0);var m=d&&d.newPos+1<c,g=h&&0<=p&&p<u;if(m||g){if(!m||g&&d.newPos<h.newPos?(o=r(h),a.pushComponent(o.components,void 0,!0)):((o=d).newPos++,a.pushComponent(o.components,!0,void 0)),p=a.extractCommon(o,t,e,n),o.newPos+1>=c&&p+1>=u)return s(i(a,o.components,t,e,a.useLongestToken));f[n]=o}else f[n]=void 0}l++}if(o)!function e(){setTimeout((function(){if(l>d)return o();p()||e()}),0)}();else for(;l<=d;){var m=p();if(m)return m}},pushComponent:function(e,t,n){var i=e[e.length-1];i&&i.added===t&&i.removed===n?e[e.length-1]={count:i.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,i){for(var r=t.length,o=n.length,a=e.newPos,s=a-i,c=0;a+1<r&&s+1<o&&this.equals(t[a+1],n[s+1]);)a++,s++,c++;return c&&e.components.push({count:c}),e.newPos=a,s},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}}},function(e,t,n){"use strict";t.__esModule=!0,t.characterDiff=void 0,t.diffChars=function(e,t,n){return a.diff(e,t,n)};var i,r=n(1),o=(i=r)&&i.__esModule?i:{default:i},a=t.characterDiff=new o.default},function(e,t,n){"use strict";t.__esModule=!0,t.wordDiff=void 0,t.diffWords=function(e,t,n){return n=(0,a.generateOptions)(n,{ignoreWhitespace:!0}),u.diff(e,t,n)},t.diffWordsWithSpace=function(e,t,n){return u.diff(e,t,n)};var i,r=n(1),o=(i=r)&&i.__esModule?i:{default:i},a=n(4),s=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,c=/\S/,u=t.wordDiff=new o.default;u.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!c.test(e)&&!c.test(t)},u.tokenize=function(e){for(var t=e.split(/(\s+|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&s.test(t[n])&&s.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t}},function(e,t){"use strict";t.__esModule=!0,t.generateOptions=function(e,t){if("function"==typeof e)t.callback=e;else if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}},function(e,t,n){"use strict";t.__esModule=!0,t.lineDiff=void 0,t.diffLines=function(e,t,n){return s.diff(e,t,n)},t.diffTrimmedLines=function(e,t,n){var i=(0,a.generateOptions)(n,{ignoreWhitespace:!0});return s.diff(e,t,i)};var i,r=n(1),o=(i=r)&&i.__esModule?i:{default:i},a=n(4),s=t.lineDiff=new o.default;s.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var i=0;i<n.length;i++){var r=n[i];i%2&&!this.options.newlineIsToken?t[t.length-1]+=r:(this.options.ignoreWhitespace&&(r=r.trim()),t.push(r))}return t}},function(e,t,n){"use strict";t.__esModule=!0,t.sentenceDiff=void 0,t.diffSentences=function(e,t,n){return a.diff(e,t,n)};var i,r=n(1),o=(i=r)&&i.__esModule?i:{default:i},a=t.sentenceDiff=new o.default;a.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)}},function(e,t,n){"use strict";t.__esModule=!0,t.cssDiff=void 0,t.diffCss=function(e,t,n){return a.diff(e,t,n)};var i,r=n(1),o=(i=r)&&i.__esModule?i:{default:i},a=t.cssDiff=new o.default;a.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)}},function(e,t,n){"use strict";t.__esModule=!0,t.jsonDiff=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.diffJson=function(e,t,n){return u.diff(e,t,n)},t.canonicalize=l;var r,o=n(1),a=(r=o)&&r.__esModule?r:{default:r},s=n(5),c=Object.prototype.toString,u=t.jsonDiff=new a.default;function l(e,t,n,r,o){t=t||[],n=n||[],r&&(e=r(o,e));var a=void 0;for(a=0;a<t.length;a+=1)if(t[a]===e)return n[a];var s=void 0;if("[object Array]"===c.call(e)){for(t.push(e),s=new Array(e.length),n.push(s),a=0;a<e.length;a+=1)s[a]=l(e[a],t,n,r,o);return t.pop(),n.pop(),s}if(e&&e.toJSON&&(e=e.toJSON()),"object"===(void 0===e?"undefined":i(e))&&null!==e){t.push(e),s={},n.push(s);var u=[],d=void 0;for(d in e)e.hasOwnProperty(d)&&u.push(d);for(u.sort(),a=0;a<u.length;a+=1)s[d=u[a]]=l(e[d],t,n,r,d);t.pop(),n.pop()}else s=e;return s}u.useLongestToken=!0,u.tokenize=s.lineDiff.tokenize,u.castInput=function(e){var t=this.options,n=t.undefinedReplacement,i=t.stringifyReplacer,r=void 0===i?function(e,t){return void 0===t?n:t}:i;return"string"==typeof e?e:JSON.stringify(l(e,null,null,r),r,"  ")},u.equals=function(e,t){return a.default.prototype.equals.call(u,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))}},function(e,t,n){"use strict";t.__esModule=!0,t.arrayDiff=void 0,t.diffArrays=function(e,t,n){return a.diff(e,t,n)};var i,r=n(1),o=(i=r)&&i.__esModule?i:{default:i},a=t.arrayDiff=new o.default;a.tokenize=function(e){return e.slice()},a.join=a.removeEmpty=function(e){return e}},function(e,t,n){"use strict";t.__esModule=!0,t.applyPatch=s,t.applyPatches=function(e,t){"string"==typeof e&&(e=(0,r.parsePatch)(e));var n=0;!function i(){var r=e[n++];if(!r)return t.complete();t.loadFile(r,(function(e,n){if(e)return t.complete(e);var o=s(n,r,t);t.patched(r,o,(function(e){if(e)return t.complete(e);i()}))}))}()};var i,r=n(11),o=n(12),a=(i=o)&&i.__esModule?i:{default:i};function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t&&(t=(0,r.parsePatch)(t)),Array.isArray(t)){if(t.length>1)throw new Error("applyPatch only works with a single input.");t=t[0]}var i=e.split(/\r\n|[\n\v\f\r\x85]/),o=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],s=t.hunks,c=n.compareLine||function(e,t,n,i){return t===i},u=0,l=n.fuzzFactor||0,d=0,f=0,h=void 0,p=void 0;function m(e,t){for(var n=0;n<e.lines.length;n++){var r=e.lines[n],o=r.length>0?r[0]:" ",a=r.length>0?r.substr(1):r;if(" "===o||"-"===o){if(!c(t+1,i[t],o,a)&&++u>l)return!1;t++}}return!0}for(var g=0;g<s.length;g++){for(var v=s[g],b=i.length-v.oldLines,_=0,w=f+v.oldStart-1,E=(0,a.default)(w,d,b);void 0!==_;_=E())if(m(v,w+_)){v.offset=f+=_;break}if(void 0===_)return!1;d=v.offset+v.oldStart+v.oldLines}for(var y=0,S=0;S<s.length;S++){var C=s[S],O=C.oldStart+C.offset+y-1;y+=C.newLines-C.oldLines,O<0&&(O=0);for(var T=0;T<C.lines.length;T++){var j=C.lines[T],P=j.length>0?j[0]:" ",R=j.length>0?j.substr(1):j,I=C.linedelimiters[T];if(" "===P)O++;else if("-"===P)i.splice(O,1),o.splice(O,1);else if("+"===P)i.splice(O,0,R),o.splice(O,0,I),O++;else if("\\"===P){var A=C.lines[T-1]?C.lines[T-1][0]:null;"+"===A?h=!0:"-"===A&&(p=!0)}}}if(h)for(;!i[i.length-1];)i.pop(),o.pop();else p&&(i.push(""),o.push("\n"));for(var k=0;k<i.length-1;k++)i[k]=i[k]+o[k];return i.join("")}},function(e,t){"use strict";t.__esModule=!0,t.parsePatch=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.split(/\r\n|[\n\v\f\r\x85]/),i=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],r=[],o=0;function a(){var e={};for(r.push(e);o<n.length;){var i=n[o];if(/^(\-\-\-|\+\+\+|@@)\s/.test(i))break;var a=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(i);a&&(e.index=a[1]),o++}for(s(e),s(e),e.hunks=[];o<n.length;){var u=n[o];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(u))break;if(/^@@/.test(u))e.hunks.push(c());else{if(u&&t.strict)throw new Error("Unknown line "+(o+1)+" "+JSON.stringify(u));o++}}}function s(e){var t=/^(---|\+\+\+)\s+(.*)$/.exec(n[o]);if(t){var i="---"===t[1]?"old":"new",r=t[2].split("\t",2),a=r[0].replace(/\\\\/g,"\\");/^".*"$/.test(a)&&(a=a.substr(1,a.length-2)),e[i+"FileName"]=a,e[i+"Header"]=(r[1]||"").trim(),o++}}function c(){for(var e=o,r=n[o++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),a={oldStart:+r[1],oldLines:+r[2]||1,newStart:+r[3],newLines:+r[4]||1,lines:[],linedelimiters:[]},s=0,c=0;o<n.length&&!(0===n[o].indexOf("--- ")&&o+2<n.length&&0===n[o+1].indexOf("+++ ")&&0===n[o+2].indexOf("@@"));o++){var u=0==n[o].length&&o!=n.length-1?" ":n[o][0];if("+"!==u&&"-"!==u&&" "!==u&&"\\"!==u)break;a.lines.push(n[o]),a.linedelimiters.push(i[o]||"\n"),"+"===u?s++:"-"===u?c++:" "===u&&(s++,c++)}if(s||1!==a.newLines||(a.newLines=0),c||1!==a.oldLines||(a.oldLines=0),t.strict){if(s!==a.newLines)throw new Error("Added line count did not match for hunk at line "+(e+1));if(c!==a.oldLines)throw new Error("Removed line count did not match for hunk at line "+(e+1))}return a}for(;o<n.length;)a();return r}},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t,n){var i=!0,r=!1,o=!1,a=1;return function s(){if(i&&!o){if(r?a++:i=!1,e+a<=n)return a;o=!0}if(!r)return o||(i=!0),t<=e-a?-a++:(r=!0,s())}}},function(e,t,n){"use strict";t.__esModule=!0,t.calcLineCount=s,t.merge=function(e,t,n){e=c(e,n),t=c(t,n);var i={};(e.index||t.index)&&(i.index=e.index||t.index),(e.newFileName||t.newFileName)&&(u(e)?u(t)?(i.oldFileName=l(i,e.oldFileName,t.oldFileName),i.newFileName=l(i,e.newFileName,t.newFileName),i.oldHeader=l(i,e.oldHeader,t.oldHeader),i.newHeader=l(i,e.newHeader,t.newHeader)):(i.oldFileName=e.oldFileName,i.newFileName=e.newFileName,i.oldHeader=e.oldHeader,i.newHeader=e.newHeader):(i.oldFileName=t.oldFileName||e.oldFileName,i.newFileName=t.newFileName||e.newFileName,i.oldHeader=t.oldHeader||e.oldHeader,i.newHeader=t.newHeader||e.newHeader)),i.hunks=[];for(var r=0,o=0,a=0,s=0;r<e.hunks.length||o<t.hunks.length;){var p=e.hunks[r]||{oldStart:1/0},m=t.hunks[o]||{oldStart:1/0};if(d(p,m))i.hunks.push(f(p,a)),r++,s+=p.newLines-p.oldLines;else if(d(m,p))i.hunks.push(f(m,s)),o++,a+=m.newLines-m.oldLines;else{var g={oldStart:Math.min(p.oldStart,m.oldStart),oldLines:0,newStart:Math.min(p.newStart+a,m.oldStart+s),newLines:0,lines:[]};h(g,p.oldStart,p.lines,m.oldStart,m.lines),o++,r++,i.hunks.push(g)}}return i};var i=n(14),r=n(11),o=n(15);function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e){var t=function e(t){var n=0,i=0;return t.forEach((function(t){if("string"!=typeof t){var r=e(t.mine),o=e(t.theirs);void 0!==n&&(r.oldLines===o.oldLines?n+=r.oldLines:n=void 0),void 0!==i&&(r.newLines===o.newLines?i+=r.newLines:i=void 0)}else void 0===i||"+"!==t[0]&&" "!==t[0]||i++,void 0===n||"-"!==t[0]&&" "!==t[0]||n++})),{oldLines:n,newLines:i}}(e.lines),n=t.oldLines,i=t.newLines;void 0!==n?e.oldLines=n:delete e.oldLines,void 0!==i?e.newLines=i:delete e.newLines}function c(e,t){if("string"==typeof e){if(/^@@/m.test(e)||/^Index:/m.test(e))return(0,r.parsePatch)(e)[0];if(!t)throw new Error("Must provide a base reference or pass in a patch");return(0,i.structuredPatch)(void 0,void 0,t,e)}return e}function u(e){return e.newFileName&&e.newFileName!==e.oldFileName}function l(e,t,n){return t===n?t:(e.conflict=!0,{mine:t,theirs:n})}function d(e,t){return e.oldStart<t.oldStart&&e.oldStart+e.oldLines<t.oldStart}function f(e,t){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+t,newLines:e.newLines,lines:e.lines}}function h(e,t,n,i,r){var o={offset:t,lines:n,index:0},c={offset:i,lines:r,index:0};for(v(e,o,c),v(e,c,o);o.index<o.lines.length&&c.index<c.lines.length;){var u=o.lines[o.index],l=c.lines[c.index];if("-"!==u[0]&&"+"!==u[0]||"-"!==l[0]&&"+"!==l[0])if("+"===u[0]&&" "===l[0]){var d;(d=e.lines).push.apply(d,a(_(o)))}else if("+"===l[0]&&" "===u[0]){var f;(f=e.lines).push.apply(f,a(_(c)))}else"-"===u[0]&&" "===l[0]?m(e,o,c):"-"===l[0]&&" "===u[0]?m(e,c,o,!0):u===l?(e.lines.push(u),o.index++,c.index++):g(e,_(o),_(c));else p(e,o,c)}b(e,o),b(e,c),s(e)}function p(e,t,n){var i=_(t),r=_(n);if(w(i)&&w(r)){var s,c;if((0,o.arrayStartsWith)(i,r)&&E(n,i,i.length-r.length))return void(s=e.lines).push.apply(s,a(i));if((0,o.arrayStartsWith)(r,i)&&E(t,r,r.length-i.length))return void(c=e.lines).push.apply(c,a(r))}else if((0,o.arrayEqual)(i,r)){var u;return void(u=e.lines).push.apply(u,a(i))}g(e,i,r)}function m(e,t,n,i){var r,o=_(t),s=function(e,t){for(var n=[],i=[],r=0,o=!1,a=!1;r<t.length&&e.index<e.lines.length;){var s=e.lines[e.index],c=t[r];if("+"===c[0])break;if(o=o||" "!==s[0],i.push(c),r++,"+"===s[0])for(a=!0;"+"===s[0];)n.push(s),s=e.lines[++e.index];c.substr(1)===s.substr(1)?(n.push(s),e.index++):a=!0}if("+"===(t[r]||"")[0]&&o&&(a=!0),a)return n;for(;r<t.length;)i.push(t[r++]);return{merged:i,changes:n}}(n,o);s.merged?(r=e.lines).push.apply(r,a(s.merged)):g(e,i?s:o,i?o:s)}function g(e,t,n){e.conflict=!0,e.lines.push({conflict:!0,mine:t,theirs:n})}function v(e,t,n){for(;t.offset<n.offset&&t.index<t.lines.length;){var i=t.lines[t.index++];e.lines.push(i),t.offset++}}function b(e,t){for(;t.index<t.lines.length;){var n=t.lines[t.index++];e.lines.push(n)}}function _(e){for(var t=[],n=e.lines[e.index][0];e.index<e.lines.length;){var i=e.lines[e.index];if("-"===n&&"+"===i[0]&&(n="+"),n!==i[0])break;t.push(i),e.index++}return t}function w(e){return e.reduce((function(e,t){return e&&"-"===t[0]}),!0)}function E(e,t,n){for(var i=0;i<n;i++){var r=t[t.length-n+i].substr(1);if(e.lines[e.index+i]!==" "+r)return!1}return e.index+=n,!0}},function(e,t,n){"use strict";t.__esModule=!0,t.structuredPatch=o,t.createTwoFilesPatch=a,t.createPatch=function(e,t,n,i,r,o){return a(e,e,t,n,i,r,o)};var i=n(5);function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n,o,a,s,c){c||(c={}),void 0===c.context&&(c.context=4);var u=(0,i.diffLines)(n,o,c);function l(e){return e.map((function(e){return" "+e}))}u.push({value:"",lines:[]});for(var d=[],f=0,h=0,p=[],m=1,g=1,v=function(e){var t=u[e],i=t.lines||t.value.replace(/\n$/,"").split("\n");if(t.lines=i,t.added||t.removed){var a;if(!f){var s=u[e-1];f=m,h=g,s&&(p=c.context>0?l(s.lines.slice(-c.context)):[],f-=p.length,h-=p.length)}(a=p).push.apply(a,r(i.map((function(e){return(t.added?"+":"-")+e})))),t.added?g+=i.length:m+=i.length}else{if(f)if(i.length<=2*c.context&&e<u.length-2){var v;(v=p).push.apply(v,r(l(i)))}else{var b,_=Math.min(i.length,c.context);(b=p).push.apply(b,r(l(i.slice(0,_))));var w={oldStart:f,oldLines:m-f+_,newStart:h,newLines:g-h+_,lines:p};if(e>=u.length-2&&i.length<=c.context){var E=/\n$/.test(n),y=/\n$/.test(o);0!=i.length||E?E&&y||p.push("\\ No newline at end of file"):p.splice(w.oldLines,0,"\\ No newline at end of file")}d.push(w),f=0,h=0,p=[]}m+=i.length,g+=i.length}},b=0;b<u.length;b++)v(b);return{oldFileName:e,newFileName:t,oldHeader:a,newHeader:s,hunks:d}}function a(e,t,n,i,r,a,s){var c=o(e,t,n,i,r,a,s),u=[];e==t&&u.push("Index: "+e),u.push("==================================================================="),u.push("--- "+c.oldFileName+(void 0===c.oldHeader?"":"\t"+c.oldHeader)),u.push("+++ "+c.newFileName+(void 0===c.newHeader?"":"\t"+c.newHeader));for(var l=0;l<c.hunks.length;l++){var d=c.hunks[l];u.push("@@ -"+d.oldStart+","+d.oldLines+" +"+d.newStart+","+d.newLines+" @@"),u.push.apply(u,d.lines)}return u.join("\n")+"\n"}},function(e,t){"use strict";function n(e,t){if(t.length>e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}t.__esModule=!0,t.arrayEqual=function(e,t){return e.length===t.length&&n(e,t)},t.arrayStartsWith=n},function(e,t){"use strict";t.__esModule=!0,t.convertChangesToDMP=function(e){for(var t=[],n=void 0,i=void 0,r=0;r<e.length;r++)n=e[r],i=n.added?1:n.removed?-1:0,t.push([i,n.value]);return t}},function(e,t){"use strict";t.__esModule=!0,t.convertChangesToXML=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i.added?t.push("<ins>"):i.removed&&t.push("<del>"),t.push((r=i.value,void 0,r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"))),i.added?t.push("</ins>"):i.removed&&t.push("</del>")}var r;return t.join("")}}])},e.exports=i()},yi8e:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return E})),n.d(t,"f",(function(){return w}));var i=("undefined"!=typeof window?window:void 0!==e?e:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function r(e,t){if(void 0===t&&(t=[]),null===e||"object"!=typeof e)return e;var n,i=(n=function(t){return t.original===e},t.filter(n)[0]);if(i)return i.copy;var o=Array.isArray(e)?[]:{};return t.push({original:e,copy:o}),Object.keys(e).forEach((function(n){o[n]=r(e[n],t)})),o}function o(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function a(e){return null!==e&&"object"==typeof e}var s=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"==typeof n?n():n)||{}},c={namespaced:{configurable:!0}};c.namespaced.get=function(){return!!this._rawModule.namespaced},s.prototype.addChild=function(e,t){this._children[e]=t},s.prototype.removeChild=function(e){delete this._children[e]},s.prototype.getChild=function(e){return this._children[e]},s.prototype.hasChild=function(e){return e in this._children},s.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},s.prototype.forEachChild=function(e){o(this._children,e)},s.prototype.forEachGetter=function(e){this._rawModule.getters&&o(this._rawModule.getters,e)},s.prototype.forEachAction=function(e){this._rawModule.actions&&o(this._rawModule.actions,e)},s.prototype.forEachMutation=function(e){this._rawModule.mutations&&o(this._rawModule.mutations,e)},Object.defineProperties(s.prototype,c);var u=function(e){this.register([],e,!1)};u.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},u.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return e+((t=t.getChild(n)).namespaced?n+"/":"")}),"")},u.prototype.update=function(e){!function e(t,n,i){0;if(n.update(i),i.modules)for(var r in i.modules){if(!n.getChild(r))return void 0;e(t.concat(r),n.getChild(r),i.modules[r])}}([],this.root,e)},u.prototype.register=function(e,t,n){var i=this;void 0===n&&(n=!0);var r=new s(t,n);0===e.length?this.root=r:this.get(e.slice(0,-1)).addChild(e[e.length-1],r);t.modules&&o(t.modules,(function(t,r){i.register(e.concat(r),t,n)}))},u.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],i=t.getChild(n);i&&i.runtime&&t.removeChild(n)},u.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};var l;var d=function(e){var t=this;void 0===e&&(e={}),!l&&"undefined"!=typeof window&&window.Vue&&_(window.Vue);var n=e.plugins;void 0===n&&(n=[]);var r=e.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new u(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new l,this._makeLocalGettersCache=Object.create(null);var o=this,a=this.dispatch,s=this.commit;this.dispatch=function(e,t){return a.call(o,e,t)},this.commit=function(e,t,n){return s.call(o,e,t,n)},this.strict=r;var c=this._modules.root.state;g(this,c,[],this._modules.root),m(this,c),n.forEach((function(e){return e(t)})),(void 0!==e.devtools?e.devtools:l.config.devtools)&&function(e){i&&(e._devtoolHook=i,i.emit("vuex:init",e),i.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){i.emit("vuex:mutation",e,t)}),{prepend:!0}),e.subscribeAction((function(e,t){i.emit("vuex:action",e,t)}),{prepend:!0}))}(this)},f={state:{configurable:!0}};function h(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function p(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;g(e,n,[],e._modules.root,!0),m(e,n,t)}function m(e,t,n){var i=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var r=e._wrappedGetters,a={};o(r,(function(t,n){a[n]=function(e,t){return function(){return e(t)}}(t,e),Object.defineProperty(e.getters,n,{get:function(){return e._vm[n]},enumerable:!0})}));var s=l.config.silent;l.config.silent=!0,e._vm=new l({data:{$$state:t},computed:a}),l.config.silent=s,e.strict&&function(e){e._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}(e),i&&(n&&e._withCommit((function(){i._data.$$state=null})),l.nextTick((function(){return i.$destroy()})))}function g(e,t,n,i,r){var o=!n.length,a=e._modules.getNamespace(n);if(i.namespaced&&(e._modulesNamespaceMap[a],e._modulesNamespaceMap[a]=i),!o&&!r){var s=v(t,n.slice(0,-1)),c=n[n.length-1];e._withCommit((function(){l.set(s,c,i.state)}))}var u=i.context=function(e,t,n){var i=""===t,r={dispatch:i?e.dispatch:function(n,i,r){var o=b(n,i,r),a=o.payload,s=o.options,c=o.type;return s&&s.root||(c=t+c),e.dispatch(c,a)},commit:i?e.commit:function(n,i,r){var o=b(n,i,r),a=o.payload,s=o.options,c=o.type;s&&s.root||(c=t+c),e.commit(c,a,s)}};return Object.defineProperties(r,{getters:{get:i?function(){return e.getters}:function(){return function(e,t){if(!e._makeLocalGettersCache[t]){var n={},i=t.length;Object.keys(e.getters).forEach((function(r){if(r.slice(0,i)===t){var o=r.slice(i);Object.defineProperty(n,o,{get:function(){return e.getters[r]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}(e,t)}},state:{get:function(){return v(e.state,n)}}}),r}(e,a,n);i.forEachMutation((function(t,n){!function(e,t,n,i){(e._mutations[t]||(e._mutations[t]=[])).push((function(t){n.call(e,i.state,t)}))}(e,a+n,t,u)})),i.forEachAction((function(t,n){var i=t.root?n:a+n,r=t.handler||t;!function(e,t,n,i){(e._actions[t]||(e._actions[t]=[])).push((function(t){var r,o=n.call(e,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:e.getters,rootState:e.state},t);return(r=o)&&"function"==typeof r.then||(o=Promise.resolve(o)),e._devtoolHook?o.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):o}))}(e,i,r,u)})),i.forEachGetter((function(t,n){!function(e,t,n,i){if(e._wrappedGetters[t])return void 0;e._wrappedGetters[t]=function(e){return n(i.state,i.getters,e.state,e.getters)}}(e,a+n,t,u)})),i.forEachChild((function(i,o){g(e,t,n.concat(o),i,r)}))}function v(e,t){return t.reduce((function(e,t){return e[t]}),e)}function b(e,t,n){return a(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}function _(e){l&&e===l||
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function(e){if(Number(e.version.split(".")[0])>=2)e.mixin({beforeCreate:n});else{var t=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[n].concat(e.init):n,t.call(this,e)}}function n(){var e=this.$options;e.store?this.$store="function"==typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}}(l=e)}f.state.get=function(){return this._vm._data.$$state},f.state.set=function(e){0},d.prototype.commit=function(e,t,n){var i=this,r=b(e,t,n),o=r.type,a=r.payload,s=(r.options,{type:o,payload:a}),c=this._mutations[o];c&&(this._withCommit((function(){c.forEach((function(e){e(a)}))})),this._subscribers.slice().forEach((function(e){return e(s,i.state)})))},d.prototype.dispatch=function(e,t){var n=this,i=b(e,t),r=i.type,o=i.payload,a={type:r,payload:o},s=this._actions[r];if(s){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(a,n.state)}))}catch(e){0}var c=s.length>1?Promise.all(s.map((function(e){return e(o)}))):s[0](o);return new Promise((function(e,t){c.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(a,n.state)}))}catch(e){0}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(a,n.state,e)}))}catch(e){0}t(e)}))}))}},d.prototype.subscribe=function(e,t){return h(e,this._subscribers,t)},d.prototype.subscribeAction=function(e,t){return h("function"==typeof e?{before:e}:e,this._actionSubscribers,t)},d.prototype.watch=function(e,t,n){var i=this;return this._watcherVM.$watch((function(){return e(i.state,i.getters)}),t,n)},d.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._vm._data.$$state=e}))},d.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"==typeof e&&(e=[e]),this._modules.register(e,t),g(this,this.state,e,this._modules.get(e),n.preserveState),m(this,this.state)},d.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var n=v(t.state,e.slice(0,-1));l.delete(n,e[e.length-1])})),p(this)},d.prototype.hasModule=function(e){return"string"==typeof e&&(e=[e]),this._modules.isRegistered(e)},d.prototype.hotUpdate=function(e){this._modules.update(e),p(this,!0)},d.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(d.prototype,f);var w=T((function(e,t){var n={};return O(t).forEach((function(t){var i=t.key,r=t.val;n[i]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var i=j(this.$store,"mapState",e);if(!i)return;t=i.context.state,n=i.context.getters}return"function"==typeof r?r.call(this,t,n):t[r]},n[i].vuex=!0})),n})),E=T((function(e,t){var n={};return O(t).forEach((function(t){var i=t.key,r=t.val;n[i]=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i=this.$store.commit;if(e){var o=j(this.$store,"mapMutations",e);if(!o)return;i=o.context.commit}return"function"==typeof r?r.apply(this,[i].concat(t)):i.apply(this.$store,[r].concat(t))}})),n})),y=T((function(e,t){var n={};return O(t).forEach((function(t){var i=t.key,r=t.val;r=e+r,n[i]=function(){if(!e||j(this.$store,"mapGetters",e))return this.$store.getters[r]},n[i].vuex=!0})),n})),S=T((function(e,t){var n={};return O(t).forEach((function(t){var i=t.key,r=t.val;n[i]=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i=this.$store.dispatch;if(e){var o=j(this.$store,"mapActions",e);if(!o)return;i=o.context.dispatch}return"function"==typeof r?r.apply(this,[i].concat(t)):i.apply(this.$store,[r].concat(t))}})),n})),C=function(e){return{mapState:w.bind(null,e),mapGetters:y.bind(null,e),mapMutations:E.bind(null,e),mapActions:S.bind(null,e)}};function O(e){return function(e){return Array.isArray(e)||a(e)}(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function T(e){return function(t,n){return"string"!=typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function j(e,t,n){return e._modulesNamespaceMap[n]}function P(e,t,n){var i=n?e.groupCollapsed:e.group;try{i.call(e,t)}catch(n){e.log(t)}}function R(e){try{e.groupEnd()}catch(t){e.log("—— log end ——")}}function I(){var e=new Date;return" @ "+A(e.getHours(),2)+":"+A(e.getMinutes(),2)+":"+A(e.getSeconds(),2)+"."+A(e.getMilliseconds(),3)}function A(e,t){return n="0",i=t-e.toString().length,new Array(i+1).join(n)+e;var n,i}var k={Store:d,install:_,version:"3.6.2",mapState:w,mapMutations:E,mapGetters:y,mapActions:S,createNamespacedHelpers:C,createLogger:function(e){void 0===e&&(e={});var t=e.collapsed;void 0===t&&(t=!0);var n=e.filter;void 0===n&&(n=function(e,t,n){return!0});var i=e.transformer;void 0===i&&(i=function(e){return e});var o=e.mutationTransformer;void 0===o&&(o=function(e){return e});var a=e.actionFilter;void 0===a&&(a=function(e,t){return!0});var s=e.actionTransformer;void 0===s&&(s=function(e){return e});var c=e.logMutations;void 0===c&&(c=!0);var u=e.logActions;void 0===u&&(u=!0);var l=e.logger;return void 0===l&&(l=console),function(e){var d=r(e.state);void 0!==l&&(c&&e.subscribe((function(e,a){var s=r(a);if(n(e,d,s)){var c=I(),u=o(e),f="mutation "+e.type+c;P(l,f,t),l.log("%c prev state","color: #9E9E9E; font-weight: bold",i(d)),l.log("%c mutation","color: #03A9F4; font-weight: bold",u),l.log("%c next state","color: #4CAF50; font-weight: bold",i(s)),R(l)}d=s})),u&&e.subscribeAction((function(e,n){if(a(e,n)){var i=I(),r=s(e),o="action "+e.type+i;P(l,o,t),l.log("%c action","color: #03A9F4; font-weight: bold",r),R(l)}})))}}};t.b=k}).call(this,n("uKge"))}},[[115,1,0,28,4,10,37,159,160,161]]]);
//# sourceMappingURL=pages.ide.index.332f9fe3.chunk.js.map