# [TIL] 2024-11-13

## @Value 어노테이션 주의점
- @Value는 설정 파일에 설정한 값을 주입할 수 있는 어노테이션
- 첫 번째로 주의할 부분은 주입 시점이다.
  대상 컴포넌트가 스프링 빈으로 등록되고 의존 관계를 주입할 때 동작한다.
  따라서 환경 변수를 주입받는 대상 클래스에 @Component 어노테이션을 쓰지 않는다면 해당 클래스는 컴포넌트 스캔 대상에서 제외 되어 스프링 빈에 등록되지 않고, @Value 어노테이션이 동작하지 않는다.
- 상황에 따라서 적절한 주입 방식을 택해야 한다.
  빈을 주입받을 때와 마찬가지로 @Value 어노테이션을 사용할 때도 필드 주입, 생성자 주입, setter 주입 등의 방식을 사용할 수 있다.
  따라서 이들의 장단점을 잘 비교하여 선택해야한다.
- 프로퍼티 파일의 경로와 스코프를 확인해야한다.
  application.yml이 클래스 패스에 존재해야 하고, 프로퍼티 파일이 여러 개일 경우 우선 순위를 고려해야 한다.

### Classpath 
- 클래스 패스(Classpath)는 자바 애플리케이션이 라이브러리, 설정 파일, 리소스 파일 등을 찾는 기준 경로를 의미한다.
- 자바 프로그램은 클래스 패스에 정의된 경로를 기준으로 필요한 클래스를 찾아 메모리에 로드한다.
- 클래스 패스는 일반적으로 application.yml, application.properties와 같은 설정 파일을 포함해 외부 라이브러리 파일(JAR 파일) 등을 관리하는 경로이다.

## @ConfigurationProperties 와의 차이점은?
- 스프링의 프로퍼티 파일의 값은 Environment에 등록된다.
  두 어노테이션 모두 이 값을 불러올 수 있다.
- 단, @Value의 경우에는 단일 값을 주입받기 위해 사용되며, RelaxedBinding이 적용되지 않는다.
  RelaxedBinding란 프로퍼티 이름이 조금 달라도 유연하게 바인딩을 시켜주는 규칙을 말한다.
- 반면, @ConfigurationProperties 어노테이션은 프로퍼티에 있는 값을 클래스로 바인딩하기 위해 사용된다.
  그리고, 한 번에 여러 값을 바인딩 받을 수 있으며 RelaxedBinding을 적용한다.
