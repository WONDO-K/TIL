# Connection, Socket, Read Timeout의 차이

## Connection Timeout
클라이언트가 서버에 연결을 시도할 때, 지정한 시간 내에 연결이 이루어지지 않으면 발생하는 타임아웃이다.
TCP 소켓 통신에서 클라이언트와 서버가 연결될 때, 정확한 전송을 보장하기 위해 사전에 세션을 수립하는 데, 이 과정을 3-way 핸드셰이크라고 한다. Connection Timeout은 이 3-way 핸드셰이크 과정에서 서버가 응답하지 않거나, 연결이 지연될 때 발생한다. 이 타임아웃은 클라이언트가 서버에 연결을 시도하는 동안의 시간을 제한한다.
즉, 서버의 장애나 응답 지연으로 인해 연결을 맺지 못하면 Connection Timeout이 발생한다.

## Socket Timeout
Connection Timeout 이후에 발생할 수 있는 타임아웃이다.
클라이언트와 서버가 연결된 후, 서버는 데이터를 클라이언트에게 전송한다. 이때, 하나의 데이터 덩어리가 아니라 여러개의 패킷 단위로 쪼개서 전송되는데, 각 패킷이 전송될 때의 시간 차이 제한을 Socket Timeout이라고 한다.
만약 서버가 일정한 시간 내에 다음 패킷을 보내지 않으면, 클라이언트는 Socket Timeout을 발생시키고 연결을 종료한다.

## Read Timeout
클라이언트와 서버가 연결된 후, 특정 I/O 작업(예: 데이터 읽기)이 수행될 때, 지정한 시간 내에 데이터를 읽지 못하면 발생하는 타임아웃이다. 클라이언트와 서버가 연결된 상태에서, 서버의 응답이 지연되거나 I/O 작업이 길어져 요청이 처리되지 않을 때 클라이언트는 연결을 끊는다. Read Timeout은 이러한 상황을 방지하기 위해 설정된 타임아웃으로, 일정 시간 내에 데이터가 읽히지 않으면 클라이언트는 연결을 종료한다.

## 네트워크 통신에 타임아웃이 필요한 이유
네트워크 통신에서 타임아웃은 자원을 절약하기 위한 목적이 가장 크다.
네트워크 통신은 불확실한 환경에서 이루어지기 때문에, 서버가 응답하지 않거나 지연될 경우 클라이언트는 무한정 기다릴 수 없다. 타임아웃을 설정함으로써, 클라이언트는 일정 시간 내에 응답이 없을 경우 연결을 종료하고 다른 작업을 수행할 수 있다. 이는 시스템의 자원을 효율적으로 사용하고, 사용자 경험을 개선하는 데 중요한 역할을 한다.

## 타임아웃 테스트는 어떻게 해볼 수 있는가? 그리고 꼭 필요한가?
가상 서버를 띄우고 임의로 지연을 추가하여 타임아웃을 테스트할 수 있다. 예를 들어, Python의 Flask나 Node.js의 Express와 같은 프레임워크를 사용하여 간단한 서버를 만들고, 특정 엔드포인트에서 인위적으로 지연을 추가할 수 있다. 클라이언트 측에서는 HTTP 클라이언트 라이브러리(예: Axios, Requests 등)를 사용하여 타임아웃을 설정하고, 서버에 요청을 보내어 타임아웃이 발생하는지 확인할 수 있다.

하지만, 테스트 환경을 구축하기 위한 시간이 들며 자동화된 테스트에 지연 시간이 추가되는 것이 단점이다.
타임아웃 설정을 테스트하여 얻을 수 있는 것과 테스트를 하기 위해서 소요되는 시간과 노력을 신중히 고려하여 필요성을 따지는 것이 좋다.