# 로그와 메트릭
로그는 서버가 동작할 때 서버의 상태와 동작 정보를 시간 경과에 따라 기록된 결과이다.
로그는 시스템의 오류와 문제들을 쉽게 찾아낼 수 있도록 도와준다.
반면, 메트릭은 시스템의 성능과 상태에 대한 통계적인 정보를 의미한다.
메트릭을 잘 수집하면 시스템의 현재 상태를 손쉽게 파악할 수 있고, 사업 현황에 관한 유용한 정보를 얻을 수 있다.
가력, 메트릭은 DAU, Retension, CPU 사용량, 메모리 사용량 등이 있다.

## 로그와 메트릭 수집 예시
스프링 부트 액추에이터를 사용해 메트릭을 생성하고 프로메테우스에 저장 -> 그라파나로 시각화
- CPU, 메모리, JVM 힙 사용량
- 톰캣 스레드 풀과 데이터베이스 커넥션 풀 상태
- error 레벨 로그 증가량
로깅은 LogBack, Loki에 7일 저장, 로그 추적을 위한 MDC
### 액추에이터란?
Spring Boot에서 제공하는 기능으로, 어플리케이션의 실행 상태를 모니터링하거나, 운영 중인 애플리케이션을 관리할 수 있는 다양한 Endpoint를 제공한다.
- 예를 들어:
    - 애플리케이션의 health 상태 확인
	- JVM 메모리 사용량, GC 통계 등 성능 관련 메트릭 조회
	- 현재 등록된 빈 목록이나 설정 정보 조회
	- 커스텀 메트릭 등록 및 노출 가능

## 언급해주신 메트릭을 수집한 이유는?
CPU, 메모리, JVM 사용량 지표 -> 서비스가 현재 안정적으로 동작하는지 파악하기 위함.
또한, 톰캣 스레드 풀과 커넥션 풀의 상태와 error 레벨 로그를 수집한 이유는 서버 프로그램 내부에 비정상적인 상황이 생기는 것을 신속히 대응하기 위함

## System.out.println과 로깅 프레임워크
로그를 출력하는 경우 대기 시간이 발생한다. 그리고, 로그 또한 데이터이기 떄문에 저장 공간을 요구한다.
따라서, 정말로 필요한 경우에만 로깅을 수행하는 것이 비용 효율적이다.
하지만, System.out.println은 로그 레벨 설정과 환경 별 필터링을 적용하기 까다롭다.
반면, 로깅 프레임워크는 로그 레벨 설정, 필터링 등 로그의 양 조절을 하기 위한 기능을 제공하기 때문에 이를 사용하는 것이 서비스 운영에 유리하다.


### 참고 자료
https://www.youtube.com/watch?v=c7V52EMKXQM
