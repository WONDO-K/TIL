# 쿠키와 세션의 차이
HTTP의 무상태(Stateless) 특성을 보완하여 사용자 상태를 유지하는 메커니즘

## 데이터의 저장 위치
- 쿠키 : 클라이언트 측 브라우저에 저장된다.
- 세션 : 서버 측에 저장된다.
    - 서버에 데이터를 저장하고 세션 ID만 쿠키를 통해 클라이언트에 전달한다.
## 보안성
쿠키는 클라이언트에 저장되므로 사용자가 직접 접근하거나 수정할 수 있어 보안에 취약하다.
반면 세션은 중요 정보가 서버에 저장되어 상대적으로 안전하다.

## 용량 제한
쿠키는 일반적으로 브라우저당 도메인별로 4KB 정도로 제한되어 있다.
세션은 서버 리소스에 따라 다르지만 쿠키보다 훨씬 많은 데이터를 저장할 수 있다.

## 성능 영향
쿠키는 모든 HTTP 요청에 함께 전송되므로 쿠키가 많을수록 네트워크 트래픽이 증가한다.
세션은 서버 메모리를 사용하므로, 서버에서 관리하는 사용자의 세션이 많을수록 서버 부하가 증가할 수 있다.
일반적으로 사용자 선호 설정이나 로그인 하지 않은 유저의 장바구니와 같은 비민감 정보는 쿠키에, 로그인 정보와 같은 중요 데이터는 세션에 저장하는 것이 적합하다.
최근에는 JWT 처럼 토큰 기반의 인증 방식이 많이 사용된다.

---

## ✅ 세션과 쿠키의 상호작용 흐름 정리

```
[1] 클라이언트 → 서버 (최초 요청, ex. 로그인 요청)
   - 쿠키 없음

[2] 서버 → 세션 생성 (예: 세션 ID = abc123)
   - 사용자 정보와 함께 세션 저장소에 저장
   - 클라이언트에게 다음과 같은 응답 전송:
     Set-Cookie: JSESSIONID=abc123; Path=/; HttpOnly

[3] 클라이언트 (브라우저)
   - Set-Cookie 응답 헤더 감지 → 쿠키 저장소에 JSESSIONID 저장

[4] 클라이언트 → 서버 (이후 요청부터)
   - 요청 헤더에 자동으로 포함:
     Cookie: JSESSIONID=abc123

[5] 서버
   - JSESSIONID=abc123 → 세션 저장소에서 사용자 상태 조회 및 처리
   💡 참고: JSESSIONID의 'J'는 Java 기반 웹 서버(예: Tomcat)에서 사용하는 기본 세션 쿠키 이름으로, 필요 시 커스터마이징도 가능합니다.
```

### 🔁 한 줄 요약
> 세션은 서버에 사용자 상태를 저장하고, 세션 ID만 쿠키를 통해 클라이언트와 주고받아 사용자의 상태를 유지하는 구조입니다.